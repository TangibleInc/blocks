var wt=Object.defineProperty;var d=(L,M)=>wt(L,"name",{value:M,configurable:!0});(function(){"use strict";(function(){const n={env:{NODE_ENV:"production"}};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,n);return}}catch(t){}globalThis.process={env:n}})();var L=Object.defineProperty,M=d((n,t)=>L(n,"name",{value:t,configurable:!0}),"l$4");class B{constructor(t){this.conditionsMap=t||[],this.getPreviousLevels=this.getPreviousLevels.bind(this),this.getCondition=this.getCondition.bind(this)}evaluateConditions(t,e){let l=!0;if(!t||!Array.isArray(t))return l;for(const i of t){const r=this.getCondition(i);if(!this.evaluateCondition(r,e))return!1}return l}getCondition(t){const e=t.split("-"),l=parseInt(e[0]),i=parseInt(e[1]);return{number:l,level:i,current:this.conditionsMap[l][i],previousLevels:this.getPreviousLevels(l,i)}}getPreviousLevels(t,e){if(e===0)return[];let l=0;const i=[];for(;l<e;)i.push(this.conditionsMap[t][l]),l++;return i}extractComparisons(t){const e=[];for(const l in t)if(!(l==="compare"||l.slice(0,8)==="compare_"||l==="value"||l.slice(0,6)==="value_")){if(l==="control"||l.slice(0,8)==="control_"){const i=t[l],[r,a=0]=l.split("_");e.push({field:i,value:t[`value${a?"_"+a:""}`],compare:t[`compare${a?"_"+a:""}`]});continue}e.push({field:l,value:t[l]})}return e}evaluateCondition(t,e){let l=!0;for(const r of t.previousLevels){const a=this.extractComparisons(r);for(const{field:o,value:c,compare:b}of a){const s=e(o);if(this.compare(s,c,b))return!1}}const i=this.extractComparisons(t.current);for(const{field:r,value:a,compare:o}of i){const c=e(r);if(!this.compare(c,a,o))return!1}return l}compare(t,e,l="is"){let i=!1;switch(l){case"is":case"equal":case"not":default:i=t===e,l==="not"&&(i=!i);break}return i}}d(B,"u$7"),M(B,"ControlVisibility");var Ce=Object.defineProperty,W=d((n,t)=>Ce(n,"name",{value:t,configurable:!0}),"r$1");const{blockConfig:{visibility:T,slug:Oe}}=window.Tangible,N=jQuery,xe=W(n=>{const t=Oe+n;FLBuilder.registerModuleHelper(t,{init(){this.bindMethods(),this.form=N(".fl-builder-settings"),this.tabs=T.tabs[n]||{},this.sections=T.sections[n]||{},this.fields=T.fields[n]||{},!(!Object.keys(this.tabs).length&&!Object.keys(this.sections).length&&!Object.keys(this.fields).length)&&(this.visibility=new B(T.conditions[n]),this.initEvents())},bindMethods(){this.setVisibility=this.setVisibility.bind(this),this.initEvents=this.initEvents.bind(this),this.getEditor=this.getEditor.bind(this),this.getTabSettings=this.getTabSettings.bind(this),this.getSectionSettings=this.getSectionSettings.bind(this),this.getFieldSettings=this.getFieldSettings.bind(this),this.getFieldSetting=this.getFieldSetting.bind(this)},initEvents(){this.setVisibility(),this.form.find("select").on("change",this.setVisibility),this.form.find("input").on("change",this.setVisibility),this.form.find("input[type=text], input[type=number]").on("input",this.setVisibility);const e=this.form.find(".fl-editor-field");e.each(l=>{this.getEditor(e[l])&&this.getEditor(e[l]).on("change",this.setVisibility)})},getEditor(e){const l=N(e).find(".wp-editor-tabs button").attr("data-wp-editor-id");return window.tinyMCE?window.tinyMCE.get(l):!1},getFieldSetting(e){switch(e.tagName){case"SELECT":if(e.multiple)return e.name!==""?{name:e.name,value:N(e).val().join(",")}:!1;case"INPUT":return e.name!==""?{name:e.name,value:N(e).val()}:!1;case"DIV":const l=N(e).attr("data-name"),i=this.getEditor(e);return{name:l,value:i.getContent()}}return!1},getTabSettings(){const e={},l=this.form.find(".fl-builder-settings-tabs a");return l.each(i=>{const r=l[i],a=r.getAttribute("href").replace("#fl-builder-settings-tab-","");if(!a)return;const o={name:a};o.conditions=this.tabs[o.name]||!1,o.element=r,e[o.name]=o}),e},getSectionSettings(){const e={},l=this.form.find(".fl-builder-settings-section");return l.each(i=>{const r=l[i],a=r.getAttribute("id").replace("fl-builder-settings-section-","");if(!a)return;const o={name:a};o.conditions=this.sections[o.name]||!1,o.element=r,e[o.name]=o}),e},getFieldSettings(){const e=this.form.find("select, input, .fl-editor-field"),l={};return e.each(i=>{const r=this.getFieldSetting(e[i]);!r||(r.conditions=this.fields[r.name]||!1,r.element=e[i],l[r.name]=r)}),l},setVisibility(){const e=this.getTabSettings(),l=this.getSectionSettings(),i=this.getFieldSettings(),r=W(a=>i[a]?i[a].value:void 0,"getFieldValue");for(const a in e){const o=e[a];if(!o.conditions||!o.conditions.length)continue;const c=this.visibility.evaluateConditions(o.conditions,r),b=N(o.element);b.hasClass("fl-active")||b[c?"show":"hide"]()}for(const a in l){const o=l[a];if(!o.conditions||!o.conditions.length)continue;const c=this.visibility.evaluateConditions(o.conditions,r);N(o.element)[c?"show":"hide"]()}for(const a in i){const o=i[a];if(!o.conditions||!o.conditions.length)continue;const c=this.visibility.evaluateConditions(o.conditions,r);N(o.element).closest(".fl-field")[c?"show":"hide"]()}}})},"initModule"),{blockConfig:Se}=window.Tangible,{fields:je}=Se.visibility;jQuery(()=>{for(const n in je)xe(n)});var Pe=Object.defineProperty,Te=d((n,t)=>Pe(n,"name",{value:t,configurable:!0}),"i$5");const Fe=Te(n=>wp.element.createElement("div",{id:"tangible-logic-root",className:"tangible-logic-open"},wp.element.createElement("div",{className:"tangible-logic-modal"},wp.element.createElement("div",{className:"tangible-logic-header"},wp.element.createElement("div",{className:"tangible-logic-title"},n.title?n.title:""),wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button has-icon",type:"button","aria-label":"Close dialog",onClick:n.cancel},wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})))),wp.element.createElement("div",{className:"tangible-logic-rule-group"},n.children),wp.element.createElement("div",{className:"tangible-logic-actions tangible-logic-clear"},wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button is-tertiary",type:"button",onClick:n.cancel},"Cancel"),wp.element.createElement("button",{id:"logic-button-add-logic",className:"tangible-components-button is-primary",type:"button",onClick:n.submit},"Save")))),"Modal");var ke=Object.defineProperty,Ve=d((n,t)=>ke(n,"name",{value:t,configurable:!0}),"n$2");const{wp:q}=window,{useState:De,useEffect:Ae}=q.element,Le=Ve(n=>{const[t,e]=De(n.initialValue);return Ae(()=>n.handler(t),[t]),q.element.createElement("input",{type:"text",value:t,onChange:l=>e(l.target.value)})},"Text");var G=Object.defineProperty,U=Object.getOwnPropertySymbols,Me=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable,z=d((n,t,e)=>t in n?G(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,"a$3"),Ie=d((n,t)=>{for(var e in t||(t={}))Me.call(t,e)&&z(n,e,t[e]);if(U)for(var e of U(t))Be.call(t,e)&&z(n,e,t[e]);return n},"f$1"),Re=d((n,t)=>G(n,"name",{value:t,configurable:!0}),"g$3");const{jQuery:Je}=window,$=Re(({labelForEmptyValue:n="",options:t=[],value:e="",onChange:l,multiSelect:i,style:r})=>{const a=wp.element.useRef();if(wp.element.useEffect(()=>{if(!a.current)return;const o=Je(a.current);a.current.$el=o,l(e),o.tangibleSelect({minimumResultsForSearch:5}),i&&(o.val(e),o.trigger("change")),o.on("change",function(b){if(!i&&!a.current._silentChange){l(b.target.value);return}if(!a.current||a.current._silentChange)return;const s=o.select2("data").map(m=>m.id);l(s)});const c=a.current.select2=o.data("select2");return()=>{c&&c.destroy()}},[]),a.current&&a.current.$el)if(i){const o=a.current.$el.val();e.length!==o.length&&t.length&&setImmediate(function(){!a.current||!a.current.$el||(a.current.$el.val(e),a.current.$el.trigger("change"))})}else a.current.value!==e&&(a.current._silentChange=!0,a.current.$el.val(e),a.current.$el.trigger("change"),setImmediate(function(){a.current._silentChange=!1}));return wp.element.createElement("select",{ref:a,autoComplete:"off",multiple:i,style:Ie({display:"none",width:"160px"},r)},n&&wp.element.createElement("option",{value:"",disabled:!0,selected:e==null},n),t.map((o,c)=>wp.element.createElement("option",{key:`option-${c}`,value:o.value,selected:o.value===e},o.label)))},"Select");var Qe=Object.defineProperty,He=d((n,t)=>Qe(n,"name",{value:t,configurable:!0}),"a$2");const We=He(({getData:n,setData:t,includeOrder:e,includeOrderBy:l})=>{const i=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"order"},"Order"),wp.element.createElement($,{labelForEmptyValue:"Choose Order",options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],value:n("order"),style:{width:"100%"},onChange:c=>t("order",c)}))),r=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby"},"Order by"),wp.element.createElement($,{labelForEmptyValue:"Order by",options:[{label:"Title",value:"title"},{label:"ID",value:"id"},{label:"Author",value:"author"},{label:"Name",value:"name"},{label:"Type",value:"type"},{label:"Date",value:"date"},{label:"Modified",value:"modified"},{label:"Random",value:"random"},{label:"Comment count",value:"comment_count"},{label:"Relevance",value:"relevance"},{label:"Menu",value:"menu"},{label:"Custom value",value:"meta_value"},{label:"Custom value number",value:"meta_value_num"}],value:n("orderby"),style:{width:"100%"},onChange:c=>t("orderby",c)}))),a=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field"},"Order by custom field"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",name:"orderby-field",id:"orderby_field",onChange:c=>t("orderby_field",c.target.value),placeholder:"Enter field key",value:n("orderby_field")}))),o=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field_number"},"Order by custom field with numeric value"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",id:"orderby_field_number",name:"orderby-field-number",onChange:c=>t("orderby_field_number",c.target.value),placeholder:"Enter field key",value:n("orderby_field_number")})));return wp.element.createElement("div",{className:"tangible-logic-rule"},e&&i,l&&r,n("orderby")==="meta_value"&&a,n("orderby")==="meta_value_num"&&o)},"Order");var qe=Object.defineProperty,Ge=d((n,t)=>qe(n,"name",{value:t,configurable:!0}),"p$3");const{useState:K,useEffect:X}=wp.element,Ue=Ge(({initialLoopType:n,initialType:t,setData:e,fields:l})=>{const[i,r]=K(n||"post"),[a,o]=K(t);X(()=>e("loopType",i),[i]),X(()=>e("type",a),[a]);const c=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label"},"Content type"),wp.element.createElement($,{labelForEmptyValue:"Choose a Type",options:[{label:"Post",value:"post"}],value:i,onChange:s=>r(s),style:{width:"100%"}}))),b=i==="post"?wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"post_type"},"Fields"),wp.element.createElement($,{labelForEmptyValue:"Choose Fields",value:a?a.split(","):["null"],options:l,multiSelect:!0,style:{width:"100%"},onChange:s=>s=="null"?o(""):o(s.toString())}))):"";return wp.element.createElement("div",{className:"tangible-logic-rule"},c,b)},"Type");var Y=Object.defineProperty,ze=Object.defineProperties,Ke=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,Ye=Object.prototype.propertyIsEnumerable,ee=d((n,t,e)=>t in n?Y(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,"h$1"),te=d((n,t)=>{for(var e in t||(t={}))Xe.call(t,e)&&ee(n,e,t[e]);if(Z)for(var e of Z(t))Ye.call(t,e)&&ee(n,e,t[e]);return n},"u$4"),ne=d((n,t)=>ze(n,Ke(t)),"b$2"),x=d((n,t)=>Y(n,"name",{value:t,configurable:!0}),"m$3");const{Tangible:Ze,wp:v}=window,{useState:le,useEffect:et}=v.element,{allTaxonomies:ae={}}=Ze.postQueryControlData,tt=x(({value:n,initialData:t,save:e,showBtn:l,remove:i})=>{const r=n===1,a=Object.keys(ae),[o,c]=le(t);et(()=>{e(o)},[o]);const b=x(g=>{const w=ae[g];if(w==null||w.length===0)return[];let O=[];return w.forEach(Ne=>{O.push({label:Ne.name,value:Ne.slug})}),O},"getTerms"),s=x(g=>o.hasOwnProperty(g)?o[g]===""?null:o[g]:null,"getParam"),m=x(g=>{C(w=>[]),g.length>0&&C(w=>g)},"updateTerms"),u=x((g,w)=>c(O=>ne(te({},O),{[g]:w})),"updateParam"),[E,C]=le(o.hasOwnProperty("taxonomy")?b(o.taxonomy):[]),j=v.element.createElement("div",{className:"tangible-components-control"},v.element.createElement("div",{className:"tangible-components-control__field"},v.element.createElement("label",{className:"tangible-components-control__label"},"Taxonomy ",!r&&n),v.element.createElement($,{style:{width:"100%"},labelForEmptyValue:`Taxonomy ${r?"":n}`,options:a.map(g=>({label:g,value:g})),value:s("taxonomy"),onChange:g=>{u("terms",""),u("taxonomy",g);const w=b(g);m(w)}}))),P=v.element.createElement("div",{className:"tangible-components-control"},v.element.createElement("div",{className:"tangible-components-control__field"},v.element.createElement("label",{className:"tangible-components-control__label"},"Compare ",!r&&n),v.element.createElement($,{style:{width:"100%"},labelForEmptyValue:`Compare ${r?"":n}`,options:[{label:"In",value:"in"},{label:"Not",value:"not"},{label:"And",value:"and"},{label:"Exists",value:"exists"},{label:"Not exists",value:"not exists"}],value:o.taxonomy_compare,onChange:g=>u("taxonomy_compare",g)}))),p=s("terms"),_=v.element.createElement("div",{className:"tangible-components-control"},v.element.createElement("div",{className:"tangible-components-control__field"},v.element.createElement("label",{className:"tangible-components-control__label"},"Term ",!r&&n),v.element.createElement($,{style:{width:"100%"},labelForEmptyValue:`Terms ${r?"":n}`,multiSelect:!0,options:E,value:p?p.split(","):["null"],onChange:g=>c(w=>{let O="";return g!="null"&&(O=g.toString()),ne(te({},w),{terms:O})})})));return v.element.createElement("div",{className:"tangible-logic-rule"},j,P,_,l&&v.element.createElement("button",{id:"logic-button-rule",className:"tangible-components-button is-secondary",type:"button",onClick:i},"Remove"))},"QueryGroup");var nt=Object.defineProperty,F=d((n,t)=>nt(n,"name",{value:t,configurable:!0}),"s$2");const{wp:y}=window,{useState:oe,useEffect:ie}=y.element,re=3,se=F(({initialData:n,save:t})=>{const[e,l]=oe([]),[i,r]=oe("");ie(()=>{if(!n)return;const s=JSON.parse(n),m=[];if(s.taxonomy_relation&&r(s.taxonomy_relation),!s.taxonomy)return;let u="",E=1;for(;s[`taxonomy${u}`]&&E<=re&&(u=E!==1?`_${E}`:"",!!s[`taxonomy${u}`]);)m.push({taxonomy:s[`taxonomy${u}`],terms:s[`terms${u}`],taxonomy_compare:s[`taxonomy_compare${u}`]}),E++;l(m)},[]),ie(()=>{const s={};i&&(s.taxonomy_relation=i);for(let m=0;m<e.length;m++){const u=m!==0?`_${m+1}`:"";s[`taxonomy${u}`]=e[m].taxonomy,s[`terms${u}`]=e[m].terms,s[`taxonomy_compare${u}`]=e[m].taxonomy_compare}t(s)},[e,i]);const a=y.element.createElement("div",{className:"tangible-logic-rule tangible-logic-clear"},y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Relation"),y.element.createElement($,{style:{width:"100%"},labelForEmptyValue:"Choose Relation",options:[{label:"And",value:"and"},{label:"Or",value:"or"}],value:i,onChange:s=>r(s)})))),o=F(()=>{l([...e,{taxonomy:"",terms:"",taxonomy_compare:""}])},"addRow"),c=F((s,m)=>{e[s]=m,l([...e])},"saveRow"),b=F(s=>{l([...e.slice(0,s),...e.slice(s+1)])},"removeRow");return y.element.createElement("div",{className:"tangible-logic-rule-group-box-bordered"},e.length>1&&y.element.createElement("div",{className:"tangible-logic-taxonomy-group"},a),y.element.createElement("div",{className:"tangible-logic-taxonomy-group"},e.length>0&&e.map((s,m)=>y.element.createElement(tt,{key:m+JSON.stringify(s),value:m+1,initialData:s,showBtn:!0,save:u=>c(m,u),remove:()=>b(m)}))),e.length<re&&y.element.createElement("div",{className:"tangible-logic-group-actions"},y.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:o},"Add taxonomy filter"),y.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:()=>l([])},"Remove")))},"Taxonomy");var ce=Object.defineProperty,lt=Object.defineProperties,at=Object.getOwnPropertyDescriptors,me=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,ue=d((n,t,e)=>t in n?ce(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,"g$2"),pe=d((n,t)=>{for(var e in t||(t={}))ot.call(t,e)&&ue(n,e,t[e]);if(me)for(var e of me(t))it.call(t,e)&&ue(n,e,t[e]);return n},"y$1"),de=d((n,t)=>lt(n,at(t)),"m$2"),k=d((n,t)=>ce(n,"name",{value:t,configurable:!0}),"u$3");const{Tangible:rt,wp:f}=window,{useState:st,useEffect:be}=f.element,{allPostTypes:ge={}}=rt.postQueryControlData||{},ct=k(({initialData:n,save:t,fields:e=[]})=>{const l=e.replace(/\s+/g,"").split(","),i=k(s=>{try{return JSON.parse(s)}catch(m){return{}}},"parseData"),[r,a]=st(i(n));be(()=>a(i(n)),[n]),be(()=>{t(r)},[r]);const o=k(s=>r[s]&&r[s]!==""?r[s]:null,"getData"),c=k((s,m)=>a(u=>s!=="orderby"?de(pe({},u),{[s]:m}):(m!=="meta_value"&&u.orderby_field&&delete u.orderby_field,m!=="meta_value_num"&&u.orderby_field_number&&delete u.orderby_field_number,de(pe({},u),{[s]:m}))),"updateArgs"),b=f.element.createElement(se,{initialData:r.hasOwnProperty("taxonomies")?JSON.stringify(r.taxonomies):"{}",save:s=>c("taxonomies",s)});return f.element.createElement(f.element.Fragment,null,(l.includes("order")||l.includes("orderby"))&&f.element.createElement("div",{className:"tangible-logic-rule-group-box"},f.element.createElement("h4",{style:{fontWeight:"600"}},"Order"),f.element.createElement(We,{getData:o,setData:c,includeOrder:l.includes("order"),includeOrderBy:l.includes("orderby")})),l.includes("type")&&f.element.createElement("div",{className:"tangible-logic-rule-group-box"},f.element.createElement("h4",{style:{fontWeight:"600"}},"Type"),f.element.createElement(Ue,{initialLoopType:o("loopType")!==null?o("loopType"):"post",initialType:o("type"),setData:c,fields:Object.keys(ge).map(s=>({label:ge[s],value:s}))})),l.includes("taxonomy")&&f.element.createElement("div",{className:"tangible-logic-rule-group-box"},f.element.createElement("h4",{style:{fontWeight:"600"}},"Filter by Taxonomy"),b))},"PostQuery");var mt=Object.defineProperty,I=d((n,t)=>mt(n,"name",{value:t,configurable:!0}),"i$1");const{wp:h}=window,{element:{useEffect:V,useState:D}}=h,{ajax:ut}=window.Tangible,pt=I(({handler:n,initialValue:t,fields:e=[]})=>{const[l,i]=D(t?JSON.parse(t):[]),[r,a]=D(""),[o,c]=D([]),[b,s]=D(!1),m="tangible-block-editor-control-ajax-select",u=e.multiple&&e.multiple==="true";V(()=>{u&&!Array.isArray(l)&&i([l])}),V(()=>{const p={search:r,field:e};ut(e.ajax_action_name,p).then(_=>c(_)).catch(_=>console.error(_))},[r]),V(()=>n(JSON.stringify(l)),[l]),V(()=>{b===!1&&a("")},[b]);const E=I(p=>{i(u?[...l,p]:[p])},"saveValue"),C=I(p=>{const _=l.filter(g=>g.value!==p.value);i([..._])},"removeValue"),j=Array.isArray(l)?l.map(p=>p.value):[],P=h.element.createElement("span",{className:"dashicons dashicons-no-alt"});return h.element.createElement("div",{className:b?`${m} is-open`:m},u&&Array.isArray(l)?h.element.createElement("ul",{className:m+"-choice"},l.map(p=>h.element.createElement("li",{id:p.name},h.element.createElement("button",{onClick:()=>C(p)},P)," ",h.element.createElement("span",null,p.label)," "))):"",h.element.createElement("input",{type:"text",className:m+"-input",onFocus:()=>s(!0),onBlur:()=>s(!1),onChange:p=>{a(p.target.value)},placeholder:e.placeholder?e.placeholder:"Select",value:!b&&!u&&l[0]?l[0].label:r}),b&&h.element.createElement("ul",{class:m+"-ul"},o?o.map(p=>u&&j.includes(p.value)?"":h.element.createElement("li",{id:p.name,onMouseDown:()=>E(p)},p.label!==""?p.label:h.element.createElement("i",null,"Untitled"))):""))},"AjaxSelect");var ve=Object.defineProperty,ye=Object.getOwnPropertySymbols,dt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,fe=d((n,t,e)=>t in n?ve(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,"a"),he=d((n,t)=>{for(var e in t||(t={}))dt.call(t,e)&&fe(n,e,t[e]);if(ye)for(var e of ye(t))bt.call(t,e)&&fe(n,e,t[e]);return n},"s"),gt=d((n,t)=>ve(n,"name",{value:t,configurable:!0}),"m");const vt=gt((n,t,e,l)=>{switch(n.type){case"post_query":return wp.element.createElement(ct,{save:a=>t(JSON.stringify(a)),initialData:e,fields:l.include_fields?l.include_fields:"type, order, orderby"});case"taxonomy":return wp.element.createElement(se,he({save:a=>t(JSON.stringify(a)),initialData:e},l));case"select2":const i=l.multiple&&l.multiple==="true",r=typeof e=="string"&&i?e!==""?e.split(","):[]:e!==""?e:null;return wp.element.createElement($,{labelForEmptyValue:"Choose...",options:l.options?Object.keys(l.options).map(a=>({value:a,label:l.options[a]})):[],onChange:a=>t(a!==null?Array.isArray(a)?a.join(","):a:""),multiSelect:i,value:r,style:{width:"100%"}});case"ajax_select":return wp.element.createElement(pt,{handler:t,initialValue:e,fields:l});default:return wp.element.createElement(Le,he({handler:t,initialValue:e},l))}},"getControl");var yt=Object.defineProperty,A=d((n,t)=>yt(n,"name",{value:t,configurable:!0}),"l$1");const{useState:R,useEffect:Ee}=wp.element,ft=A(n=>{const{config:t,field:e,builder:l,initialValue:i}=n,r=t.popup,[a,o]=R(l==="beaver-builder"),[c=i,b]=R(),[s=i,m]=R(),u=A(_=>(r||m(_),b(_)),"save");Ee(()=>n.save(s),[s]),Ee(()=>{r&&a&&b(s)},[a]);const E={display:"flex",marginBottom:"10px"},C=wp.element.createElement(wp.element.Fragment,null,l==="elementor"&&!r?wp.element.createElement("label",{className:"elementor-control-title",style:E},e.label):"",wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${t.type}`},vt(t,u,s,e)));if(!r)return C;const j=A(()=>o(!1),"cancel"),P=A(()=>{o(!1),m(c)},"submit"),p=l!=="beaver-builder"?wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${l}`},l==="elementor"?wp.element.createElement("label",{className:"elementor-control-title",style:E},e.label):"",wp.element.createElement("button",{onClick:()=>o(!a),className:"components-button is-secondary tangible-control-btn"},"Open Settings")):"";return a?wp.element.createElement(wp.element.Fragment,null,p,wp.element.createElement(Fe,{submit:P,cancel:j,title:e.label},C)):p},"Control");var ht=Object.defineProperty,J=d((n,t)=>ht(n,"name",{value:t,configurable:!0}),"r");const{render:Q,unmountComponentAtNode:H}=wp.element,{blockConfig:{controls:we}}=Tangible,_e=jQuery,S=document;_e(()=>{for(const n in we)Et(we[n])});const Et=J(n=>{FLBuilder.addHook("didShowLightbox",()=>{const t=S.getElementsByClassName(`${n.prefixed_type}-container`);if(t.length!==0)for(let e=0;e<t.length;e++){const l=t[e],i=_e(l).next(),r=JSON.parse(l.getAttribute("data-field"));if(!n.popup){Q($e(n,i,r),l);continue}const a=S.createElement("div");a.setAttribute("class",`${n.prefixed_type}-popup-container`),S.body.append(a);const o=`tangible-block-control-button ${n.prefixed_type}-popup-container`;Q(wp.element.createElement("button",{className:o,onClick:J(()=>{H(a),Q($e(n,i,r),a)},"onClickAction")},"Open Settings"),l)}}),FLBuilder.addHook("settings-lightbox-closed",()=>{const t=S.getElementsByClassName(`tangible-block-control-${n.prefixed_type}-container`);if(t.length===0)return;for(let l=0;l<t.length;l++)H(t[l]);if(!n.popup)return;const e=S.getElementsByClassName(`${n.prefixed_type}-popup-container`);for(let l=0;l<e.length;l++)H(e[l])})},"initControl"),$e=J((n,t,e)=>wp.element.createElement(ft,{config:n,initialValue:t.val(),builder:"beaver-builder",field:e,save:l=>{t.val(l),t.trigger("change")}}),"initComponent")})();
//# sourceMappingURL=beaver-integration.min.js.map
