var bt=Object.defineProperty;var u=(N,O)=>bt(N,"name",{value:O,configurable:!0});(function(){"use strict";(function(){const e={env:{NODE_ENV:"production"}};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,e);return}}catch(t){}globalThis.process={env:e}})();var N=Object.defineProperty,O=u((e,t)=>N(e,"name",{value:t,configurable:!0}),"l$4");class _{constructor(t){this.conditionsMap=t||[],this.getPreviousLevels=this.getPreviousLevels.bind(this),this.getCondition=this.getCondition.bind(this)}evaluateConditions(t,n){let l=!0;if(!t||!Array.isArray(t))return l;for(const a of t){const c=this.getCondition(a);if(!this.evaluateCondition(c,n))return!1}return l}getCondition(t){var n;const l=t.split("-"),a=parseInt(l[0]),c=parseInt(l[1]);return{number:a,level:c,current:(n=this.conditionsMap[a])==null?void 0:n[c],previousLevels:this.getPreviousLevels(a,c)}}getPreviousLevels(t,n){if(n===0)return[];let l=0;const a=[];for(;l<n;)a.push(this.conditionsMap[t][l]),l++;return a}extractComparisons(t){const n=[];for(const l in t)if(!(l==="compare"||l.slice(0,8)==="compare_"||l==="value"||l.slice(0,6)==="value_")){if(l==="control"||l.slice(0,8)==="control_"){const a=t[l],[c,s=0]=l.split("_");n.push({field:a,value:t[`value${s?"_"+s:""}`],compare:t[`compare${s?"_"+s:""}`]});continue}n.push({field:l,value:t[l]})}return n}evaluateCondition(t,n){let l=!0;for(const c of t.previousLevels){const s=this.extractComparisons(c);for(const{field:m,value:d,compare:p}of s){const i=n(m);if(this.compare(i,d,p))return!1}}const a=this.extractComparisons(t.current);for(const{field:c,value:s,compare:m}of a){const d=n(c);if(!this.compare(d,s,m))return!1}return l}compare(t,n,l="is"){let a=!1;switch(l){case"is":case"equal":case"not":default:a=t===n,l==="not"&&(a=!a);break}return a}}u(_,"u$3"),O(_,"ControlVisibility");var K=Object.defineProperty,Q=u((e,t)=>K(e,"name",{value:t,configurable:!0}),"i$8");const W=Q(e=>wp.element.createElement("div",{id:"tangible-logic-root",className:"tangible-logic-open"},wp.element.createElement("div",{className:"tangible-logic-modal"},wp.element.createElement("div",{className:"tangible-logic-header"},wp.element.createElement("div",{className:"tangible-logic-title"},e.title?e.title:""),wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button has-icon",type:"button","aria-label":"Close dialog",onClick:e.cancel},wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})))),wp.element.createElement("div",{className:"tangible-logic-rule-group"},e.children),wp.element.createElement("div",{className:"tangible-logic-actions tangible-logic-clear"},wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button is-tertiary",type:"button",onClick:e.cancel},"Cancel"),wp.element.createElement("button",{id:"logic-button-add-logic",className:"tangible-components-button is-primary",type:"button",onClick:e.submit},"Save")))),"Modal");var x=Object.defineProperty,P=Object.getOwnPropertySymbols,X=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable,A=u((e,t,n)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"i$7"),Z=u((e,t)=>{for(var n in t||(t={}))X.call(t,n)&&A(e,n,t[n]);if(P)for(var n of P(t))Y.call(t,n)&&A(e,n,t[n]);return e},"s$3"),ee=u((e,t)=>x(e,"name",{value:t,configurable:!0}),"y$1");const te=ee((e,t,n)=>tangibleFields.render(Z({onChange:l=>e(Array.isArray(l)||typeof l=="object"?JSON.stringify(l):String(l)),value:t},n)),"getControl");var ne=Object.defineProperty,$=u((e,t)=>ne(e,"name",{value:t,configurable:!0}),"t");const S=$(e=>{const{config:t,field:n,builder:l,initialValue:a}=e,c=t.popup,[s,m]=wp.element.useState(l==="beaver-builder"),[d=a,p]=wp.element.useState(),[i=a,g]=wp.element.useState(),o=$(J=>(c||g(J),p(J)),"save");wp.element.useEffect(()=>e.save(i),[i]),wp.element.useEffect(()=>c&&s&&p(i),[s]);const k=wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${t.type}`},te(o,i,n));if(!c)return k;const ut=$(()=>m(!1),"cancel"),pt=$(()=>{m(!1),g(d)},"submit"),z=l!=="beaver-builder"&&wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${l}`},l==="elementor"&&wp.element.createElement("label",{className:"elementor-control-title"},n.label),wp.element.createElement("button",{onClick:()=>m(!s),class:"components-button is-secondary tangible-control-btn"},"Open Settings"));return s?wp.element.createElement(wp.element.Fragment,null,z,wp.element.createElement(W,{submit:pt,cancel:ut,title:n.label},k)):z},"Control");var le=Object.defineProperty,ae=u((e,t)=>le(e,"name",{value:t,configurable:!0}),"n$4");const{components:{BaseControl:re}}=wp,{blockConfig:{controls:j}}=Tangible,oe=ae((e,t,n)=>{const l=`tangible-block-editor-control-${e.type}`;if(j[e.type]){const a=j[e.type];return wp.element.createElement(re,{label:e.label,className:l},wp.element.createElement(S,{config:a,initialValue:t,builder:"gutenberg",field:e,save:c=>n({[e.name]:c})}))}},"getField");var ie=Object.defineProperty,v=u((e,t)=>ie(e,"name",{value:t,configurable:!0}),"e");const ce=v(e=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(e)||/^([A-Fa-f0-9]{3,4}){1,2}$/.test(e),"isHex"),se=v((e,t)=>{const n=Math.floor((e.length-1)/3),l=me(e.slice(1),n),[a,c,s,m]=l.map(ue);return`rgba(${a}, ${c}, ${s}, ${pe(m)})`},"hexToRGBA"),me=v((e,t)=>e.match(new RegExp(`.{${t}}`,"g")),"getChunksFromString"),ue=v(e=>parseInt(e.repeat(2/e.length),16),"convertHexUnitTo256"),pe=v(e=>typeof e!="undefined"?parseFloat(e/255).toFixed(2):1,"getAlphafloat");var be=Object.defineProperty,de=u((e,t)=>be(e,"name",{value:t,configurable:!0}),"n$3");const{wp:f}=window,{components:{BaseControl:ge,ColorPicker:ve},element:{useEffect:fe}}=f,Ee=de(e=>{const t=e.value===""&&e.defaultValue!==!1?ce(e.defaultValue)?se(e.defaultValue):e.defaultValue:e.value;return fe(()=>e.onChange(t),[]),f.element.createElement(ge,{className:e.className},f.element.createElement("div",null,f.element.createElement("p",null,e.label),f.element.createElement(ve,{style:{display:"block",marginTop:"10px"},color:t,onChangeComplete:n=>{const l=e.alpha===!1?`rgb(${n.rgb.r}, ${n.rgb.g}, ${n.rgb.b})`:`rgba(${n.rgb.r}, ${n.rgb.g}, ${n.rgb.b}, ${n.rgb.a})`;e.onChange(l)},disableAlpha:e.alpha===!1||e.alpha==="false"})))},"Color");var ye=Object.defineProperty,he=u((e,t)=>ye(e,"name",{value:t,configurable:!0}),"u$2");const{wp:w}=window,{components:{BaseControl:$e,__experimentalBoxControl:we,SelectControl:Ce},element:{useEffect:ke,useState:L}}=w,Ne=he(e=>{const[t,n]=L(e.value),[l,a]=L(e.value.unit?e.value.unit:e.defaultUnit),c=e.multipleValues!=="false"?e.className:`${e.className} ${e.className}-single-value`,s=[];for(let m in e.units)s.push({value:e.units[m],label:e.units[m]});return ke(()=>{const m={top:t.top?t.top.replace(/[^0-9]/g,""):"",right:t.right?t.right.replace(/[^0-9]/g,""):"",bottom:t.bottom?t.bottom.replace(/[^0-9]/g,""):"",left:t.left?t.left.replace(/[^0-9]/g,""):"",unit:l};e.onChange(m)},[t,l]),w.element.createElement($e,{className:c},w.element.createElement(we,{label:e.label,values:e.multipleValues!=="false"?t:{top:t.top},units:[{value:"px",label:"px"}],onChange:m=>n(m),sides:e.multipleValues!=="false"?[]:["top"]}),w.element.createElement(Ce,{onChange:m=>a(m),value:l,label:"Unit",options:s}))},"Dimension");var Oe=Object.defineProperty,_e=u((e,t)=>Oe(e,"name",{value:t,configurable:!0}),"u$1");const{wp:V}=window,{element:{useEffect:xe,useRef:Pe,useState:Ae}}=V,Se=_e(e=>{const t=Pe(null),[n,l]=Ae(e.value);return xe(()=>{tinyMCE.init({target:t.current,setup:function(a){a.on("input",function(c){e.updateVal(a.getContent())}),a.on("ExecCommand",function(c){e.updateVal(a.getContent())})}})},[]),V.element.createElement("textarea",{ref:t},n)},"TextArea");var T=Object.defineProperty,je=Object.defineProperties,Le=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,Ve=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable,M=u((e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"l"),F=u((e,t)=>{for(var n in t||(t={}))Ve.call(t,n)&&M(e,n,t[n]);if(B)for(var n of B(t))Te.call(t,n)&&M(e,n,t[n]);return e},"n$1"),Be=u((e,t)=>je(e,Le(t)),"v$1"),Me=u((e,t)=>T(e,"name",{value:t,configurable:!0}),"i$2");const{wp:R}=window,{element:{useEffect:Fe,useState:Re}}=R,Ie=Me(e=>{const[t,n]=Re(e.value?e.value:0);return Fe(()=>{e.onChange(t)},[t]),R.element.createElement("input",Be(F(F({type:"number",value:t},e.min&&{min:e.min}),e.max&&{max:e.max}),{onChange:l=>{n(l.target.value!==""?parseInt(l.target.value):0)}}))},"Number");var De=Object.defineProperty,I=u((e,t)=>De(e,"name",{value:t,configurable:!0}),"b");const{wp:r,Tangible:Ue}=window,{components:{BaseControl:b,Button:E,ButtonGroup:Ge,DatePicker:He,GradientPicker:qe,__experimentalGradientPicker:ze,Icon:y,SelectControl:Je,TextControl:Ke,ToggleControl:Qe},blockEditor:{MediaUpload:D,MediaUploadCheck:U}}=r,{blockConfig:{controls:G}}=Ue,H=I(e=>({id:e.id,url:e.url}),"extractMediaFields"),We=I((e,t)=>{const n=t.attributes[e.name],l=typeof e.default!="undefined"?e.default:!1,a=`tangible-block-editor-control-${e.type}`;switch(e.type){case"text":return r.element.createElement(Ke,{className:a,label:e.label,value:n,onChange:o=>t.setAttributes({[e.name]:o})});case"select":const c=Object.keys(e.options).map(o=>({value:o,label:e.options[o]}));return r.element.createElement(Je,{className:e.multiple?a+"-multiple":a,label:e.label,value:n!==""||!l?n:l,options:c,multiple:e.multiple,onChange:o=>t.setAttributes({[e.name]:o})});case"date":return r.element.createElement(b,{label:e.label,className:a},r.element.createElement(He,{currentDate:n?new Date(n):new Date,onChange:o=>t.setAttributes({[e.name]:o}),onMonthPreviewed:()=>!0}));case"color":return r.element.createElement(Ee,{label:e.label,value:n,defaultValue:l,alpha:e.alpha,onChange:o=>t.setAttributes({[e.name]:o}),className:a});case"align":return n===""&&l&&t.setAttributes({[e.name]:l}),r.element.createElement(b,{label:e.label,className:a},r.element.createElement(Ge,{style:{display:"block",marginTop:"10px"}},r.element.createElement(E,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"left"})},r.element.createElement(y,{icon:"editor-alignleft"})),r.element.createElement(E,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"center"})},r.element.createElement(y,{icon:"editor-aligncenter"})),r.element.createElement(E,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"right"})},r.element.createElement(y,{icon:"editor-alignright"}))));case"image":return r.element.createElement(b,{className:a},r.element.createElement(U,null,r.element.createElement(D,{onSelect:o=>t.setAttributes({[e.name]:H(o)}),allowedTypes:["image"],value:n,render:({open:o})=>r.element.createElement("div",null,r.element.createElement("p",null,e.label),r.element.createElement("img",{src:n.url,style:{width:"150px"}}),r.element.createElement(E,{isSecondary:!0,onClick:o,style:{display:"block",marginTop:"10px"}},r.element.createElement(y,{icon:"upload"}),"  Open Media Library"))})));case"editor":return r.element.createElement(b,{className:a},r.element.createElement("div",null,r.element.createElement("p",null,e.label),r.element.createElement(Se,{value:n,updateVal:o=>t.setAttributes({[e.name]:o})})));case"switch":const s=e.hasOwnProperty("value_on")?e.value_on:"on",m=e.hasOwnProperty("value_off")?e.value_off:"off",d=e.hasOwnProperty("label_on")?e.label_on:"On",p=e.hasOwnProperty("label_off")?e.label_off:"Off";return r.element.createElement(b,{className:a},r.element.createElement(Qe,{label:e.label,help:n===s?d:p,checked:n===s,onChange:o=>o?t.setAttributes({[e.name]:s}):t.setAttributes({[e.name]:m})}));case"dimension":return r.element.createElement(Ne,{className:a,value:n,label:e.label,units:e.units?e.units.replace(/ /g,"").split(","):"",defaultUnit:e.default_unit?e.default_unit:"px",onChange:o=>t.setAttributes({[e.name]:o}),multipleValues:e.multiple_values?e.multiple_values:!0});case"gallery":let i=[];return n&&n.forEach((o,k)=>{i[k]=o.id?o.id:o}),r.element.createElement(b,{className:a},r.element.createElement(U,null,r.element.createElement(D,{onSelect:o=>t.setAttributes({[e.name]:o.map(H)}),allowedTypes:["image"],value:i,gallery:!0,multiple:!0,render:({open:o})=>r.element.createElement("div",null,r.element.createElement("p",null,e.label),r.element.createElement(E,{isSecondary:!0,onClick:o,style:{display:"block",marginTop:"10px"}},r.element.createElement(y,{icon:"upload"}),"  Open Media Library"))})));case"number":return r.element.createElement(b,{className:a},r.element.createElement("div",null,r.element.createElement("p",null,e.label),r.element.createElement(Ie,{className:a,value:n,min:e.min?e.min:!1,max:e.max?e.max:!1,onChange:o=>{t.setAttributes({[e.name]:o})}})));case"gradient":let g=ze||qe;return r.element.createElement(b,null,r.element.createElement("p",null,e.label),r.element.createElement(g,{value:n,onChange:o=>{t.setAttributes({[e.name]:o})},gradients:[{name:"Vivid cyan blue to vivid purple",gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:"Light green cyan to vivid green cyan",gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:"Luminous vivid amber to luminous vivid orange",gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"}]}))}if(G[e.type]){const c=G[e.type];return r.element.createElement(b,{label:e.label,className:a},r.element.createElement(S,{config:c,initialValue:n,builder:"gutenberg",field:e,save:s=>t.setAttributes({[e.name]:s})}))}},"getLegacyField");var Xe=Object.defineProperty,C=u((e,t)=>Xe(e,"name",{value:t,configurable:!0}),"n");const{blockEditor:{InspectorControls:Ye},blocks:{registerBlockType:Ze},components:{Panel:et,PanelBody:tt,PanelRow:nt},element:{useState:lt,createContext:at},i18n:{__:dt},serverSideRender:rt}=wp,{blockConfig:h,moduleLoader:ot,ServerSideRender:it=rt}=Tangible,ct=at(),st=C(e=>{const t=`${h.package}/${e.universal_id?"block-"+e.universal_id:e.name}`;Ze(t,{title:e.label,description:e.description?e.description:"",category:h.category,sections:e.sections,icon:h.icon,edit(n){const{block_id:l}=n.attributes,[a,c]=lt(e.tabs[0]),s=h.conditions[e.universal_id?e.universal_id:e.content_id],m=new _(s.general),d=C(i=>Number.isInteger(n.attributes[i])?n.attributes[i].toString():n.attributes[i],"getFieldValue"),p=C(i=>m.evaluateConditions(i,d),"isVisible");return l||n.setAttributes({block_id:n.clientId}),n.attributes.current_post_id||n.setAttributes({current_post_id:h.current_post_id}),wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(Ye,null,e.tabs.length>1&&wp.element.createElement("div",{className:"tangible-block-editor-tabs"},e.tabs.map(i=>(i.name===a.name||p(i.conditions))&&wp.element.createElement("div",{key:`tab-${i.name}`,className:"tangible-block-editor-tab components-button edit-post-sidebar__panel-tab"+(i.name===a.name?" is-active":""),onClick:()=>c(i)},wp.element.createElement("p",null,i.label==="default"?"Content":i.label)))),wp.element.createElement(ct.Provider,{value:{id:l,conditions:s}},a.sections.map((i,g)=>p(i.conditions)&&wp.element.createElement(et,{key:`${i.name}-panel-${g}`,className:"tangible-block-editor-section"},wp.element.createElement(tt,{title:i.label,initialOpen:g===0},i.fields.map(o=>p(o.conditions)&&wp.element.createElement(nt,null,e.use_legacy_controls?We(o,n):oe(o,n.attributes[o.name],n.setAttributes)))))))),wp.element.createElement(it,{block:t,attributes:n.attributes,httpMethod:"POST",EmptyResponsePlaceholder:q,LoadingResponsePlaceholder:q,onFetchResponseRendered:i=>{ot(i)}}))},save(){return null}})},"createBlock"),q=C(()=>wp.element.createElement("div",{className:"tangible-loop-block"},"\xA0"),"EmptyLoopBlock"),{blocks:mt}=window.Tangible;mt.map(e=>st(e))})();
//# sourceMappingURL=gutenberg-integration.min.js.map
