var sl=Object.defineProperty;var g=(G,Q)=>sl(G,"name",{value:Q,configurable:!0});(function(){"use strict";(function(){const e={NODE_ENV:"production"};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,e);return}}catch{}globalThis.process={env:e}})();var G=Object.defineProperty,Q=g((e,t)=>G(e,"name",{value:t,configurable:!0}),"l$4");let K=g(class{constructor(t){this.conditionsMap=t||[],this.getPreviousLevels=this.getPreviousLevels.bind(this),this.getCondition=this.getCondition.bind(this)}evaluateConditions(t,l){let n=!0;if(!t||!Array.isArray(t))return n;for(const o of t){const s=this.getCondition(o);if(!this.evaluateCondition(s,l))return!1}return n}getCondition(t){const l=t.split("-"),n=parseInt(l[0]),o=parseInt(l[1]);return{number:n,level:o,current:this.conditionsMap[n]?.[o],previousLevels:this.getPreviousLevels(n,o)}}getPreviousLevels(t,l){if(l===0)return[];let n=0;const o=[];for(;n<l;)o.push(this.conditionsMap[t][n]),n++;return o}extractComparisons(t){const l=[];for(const n in t)if(!(n==="compare"||n.slice(0,8)==="compare_"||n==="value"||n.slice(0,6)==="value_")){if(n==="control"||n.slice(0,8)==="control_"){const o=t[n],[s,r=0]=n.split("_");l.push({field:o,value:t[`value${r?"_"+r:""}`],compare:t[`compare${r?"_"+r:""}`]});continue}l.push({field:n,value:t[n]})}return l}evaluateCondition(t,l){let n=!0;for(const s of t.previousLevels){const r=this.extractComparisons(s);for(const{field:c,value:p,compare:d}of r){const i=l(c);if(this.compare(i,p,d))return!1}}const o=this.extractComparisons(t.current);for(const{field:s,value:r,compare:c}of o){const p=l(s);if(!this.compare(p,r,c))return!1}return n}compare(t,l,n="is"){let o=!1;switch(n){case"is":case"equal":case"not":default:o=t===l,n==="not"&&(o=!o);break}return o}},"u");Q(K,"ControlVisibility");var we=Object.defineProperty,$e=g((e,t)=>we(e,"name",{value:t,configurable:!0}),"i$d");const X=$e(e=>wp.element.createElement("div",{id:"tangible-logic-root",className:"tangible-logic-open"},wp.element.createElement("div",{className:"tangible-logic-modal"},wp.element.createElement("div",{className:"tangible-logic-header"},wp.element.createElement("div",{className:"tangible-logic-title"},e.title?e.title:""),wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button has-icon",type:"button","aria-label":"Close dialog",onClick:e.cancel},wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})))),wp.element.createElement("div",{className:"tangible-logic-rule-group"},e.children),wp.element.createElement("div",{className:"tangible-logic-actions tangible-logic-clear"},wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button is-tertiary",type:"button",onClick:e.cancel},"Cancel"),wp.element.createElement("button",{id:"logic-button-add-logic",className:"tangible-components-button is-primary",type:"button",onClick:e.submit},"Save")))),"Modal");var _e=Object.defineProperty,Ce=g((e,t)=>_e(e,"name",{value:t,configurable:!0}),"o$2");const Ne=Ce((e,t,l,n)=>tangibleFields.render({context:n==="gutenberg"?"wp":n,onChange:o=>e(Array.isArray(o)||typeof o=="object"?JSON.stringify(o):String(o)),...l,value:t}),"getControl");var xe=Object.defineProperty,D=g((e,t)=>xe(e,"name",{value:t,configurable:!0}),"e$2");const Oe=D(e=>{const{config:t,field:l,builder:n,initialValue:o}=e,s=t.popup,[r,c]=wp.element.useState(n==="beaver-builder"),[p=o,d]=wp.element.useState(),[i=o,u]=wp.element.useState(),a=D(b=>(s||u(b),d(b)),"save");wp.element.useEffect(()=>e.save(i),[i]),wp.element.useEffect(()=>s&&r&&d(i),[r]);const y=wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${t.type}`},Ne(a,i,l,n));if(!s)return y;const E=D(()=>c(!1),"cancel"),k=D(()=>{c(!1),u(p)},"submit"),O=n!=="beaver-builder"&&wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${n}`},n==="elementor"&&wp.element.createElement("label",{className:"elementor-control-title"},l.label),wp.element.createElement("button",{onClick:()=>c(!r),class:"components-button is-secondary tangible-control-btn"},"Open Settings"));return r?wp.element.createElement(wp.element.Fragment,null,O,wp.element.createElement(X,{submit:k,cancel:E,title:l.label},y)):O},"Control");var ke=Object.defineProperty,Se=g((e,t)=>ke(e,"name",{value:t,configurable:!0}),"t$2");const{components:{BaseControl:Pe}}=wp,{blockConfig:{controls:Y}}=Tangible,Ae=Se((e,t,l)=>{const n=`tangible-block-editor-control-${e.type}`;if(Y[e.type]){const o=Y[e.type];return wp.element.createElement(Pe,{className:n},wp.element.createElement(Oe,{config:o,initialValue:t,builder:"gutenberg",field:e.data,save:s=>l({[e.name]:s})}))}},"getField");var Te=Object.defineProperty,P=g((e,t)=>Te(e,"name",{value:t,configurable:!0}),"e");const Ve=P(e=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(e)||/^([A-Fa-f0-9]{3,4}){1,2}$/.test(e),"isHex"),Fe=P((e,t)=>{const l=Math.floor((e.length-1)/3),n=je(e.slice(1),l),[o,s,r,c]=n.map(De);return`rgba(${o}, ${s}, ${r}, ${Le(c)})`},"hexToRGBA"),je=P((e,t)=>e.match(new RegExp(`.{${t}}`,"g")),"getChunksFromString"),De=P(e=>parseInt(e.repeat(2/e.length),16),"convertHexUnitTo256"),Le=P(e=>typeof e<"u"?parseFloat(e/255).toFixed(2):1,"getAlphafloat");var Re=Object.defineProperty,Be=g((e,t)=>Re(e,"name",{value:t,configurable:!0}),"n$5");const{wp:A}=window,{components:{BaseControl:Me,ColorPicker:Ie},element:{useEffect:Je}}=A,Ue=Be(e=>{const t=e.value===""&&e.defaultValue!==!1?Ve(e.defaultValue)?Fe(e.defaultValue):e.defaultValue:e.value;return Je(()=>e.onChange(t),[]),A.element.createElement(Me,{className:e.className},A.element.createElement("div",null,A.element.createElement("p",null,e.label),A.element.createElement(Ie,{style:{display:"block",marginTop:"10px"},color:t,onChangeComplete:l=>{const n=e.alpha===!1?`rgb(${l.rgb.r}, ${l.rgb.g}, ${l.rgb.b})`:`rgba(${l.rgb.r}, ${l.rgb.g}, ${l.rgb.b}, ${l.rgb.a})`;e.onChange(n)},disableAlpha:e.alpha===!1||e.alpha==="false"})))},"Color");var Ge=Object.defineProperty,Qe=g((e,t)=>Ge(e,"name",{value:t,configurable:!0}),"u$4");const{wp:L}=window,{components:{BaseControl:He,__experimentalBoxControl:We,SelectControl:qe},element:{useEffect:ze,useState:Z}}=L,Ke=Qe(e=>{const[t,l]=Z(e.value),[n,o]=Z(e.value.unit?e.value.unit:e.defaultUnit),s=e.multipleValues!=="false"?e.className:`${e.className} ${e.className}-single-value`,r=[];for(let c in e.units)r.push({value:e.units[c],label:e.units[c]});return ze(()=>{const c={top:t.top?t.top.replace(/[^0-9]/g,""):"",right:t.right?t.right.replace(/[^0-9]/g,""):"",bottom:t.bottom?t.bottom.replace(/[^0-9]/g,""):"",left:t.left?t.left.replace(/[^0-9]/g,""):"",unit:n};e.onChange(c)},[t,n]),L.element.createElement(He,{className:s},L.element.createElement(We,{label:e.label,values:e.multipleValues!=="false"?t:{top:t.top},units:[{value:"px",label:"px"}],onChange:c=>l(c),sides:e.multipleValues!=="false"?[]:["top"]}),L.element.createElement(qe,{onChange:c=>o(c),value:n,label:"Unit",options:r}))},"Dimension");var Xe=Object.defineProperty,Ye=g((e,t)=>Xe(e,"name",{value:t,configurable:!0}),"u$3");const{wp:ee}=window,{element:{useEffect:Ze,useRef:et,useState:tt}}=ee,lt=Ye(e=>{const t=et(null),[l,n]=tt(e.value);return Ze(()=>{tinyMCE.init({target:t.current,setup:function(o){o.on("input",function(s){e.updateVal(o.getContent())}),o.on("ExecCommand",function(s){e.updateVal(o.getContent())})}})},[]),ee.element.createElement("textarea",{ref:t},l)},"TextArea");var nt=Object.defineProperty,at=g((e,t)=>nt(e,"name",{value:t,configurable:!0}),"n$3");const{wp:te}=window,{element:{useEffect:ot,useState:rt}}=te,it=at(e=>{const[t,l]=rt(e.value?e.value:0);return ot(()=>{e.onChange(t)},[t]),te.element.createElement("input",{type:"number",value:t,...e.min&&{min:e.min},...e.max&&{max:e.max},onChange:n=>{l(n.target.value!==""?parseInt(n.target.value):0)}})},"Number");var ct=Object.defineProperty,st=g((e,t)=>ct(e,"name",{value:t,configurable:!0}),"n$2");const{wp:le}=window,{useState:mt,useEffect:ut}=le.element,pt=st(e=>{const[t,l]=mt(e.initialValue);return ut(()=>e.handler(t),[t]),le.element.createElement("input",{type:"text",value:t,onChange:n=>l(n.target.value)})},"Text");var bt=Object.defineProperty,dt=g((e,t)=>bt(e,"name",{value:t,configurable:!0}),"i$5");const{jQuery:gt}=window,N=dt(({labelForEmptyValue:e="",options:t=[],value:l="",onChange:n,multiSelect:o,style:s})=>{const r=wp.element.useRef();if(wp.element.useEffect(()=>{if(!r.current)return;const c=gt(r.current);r.current.$el=c,n(l),c.tangibleSelect({minimumResultsForSearch:5}),o&&(c.val(l),c.trigger("change")),c.on("change",function(d){if(!o&&!r.current._silentChange){n(d.target.value);return}if(!r.current||r.current._silentChange)return;const i=c.select2("data").map(u=>u.id);n(i)});const p=r.current.select2=c.data("select2");return()=>{p&&p.destroy()}},[]),r.current&&r.current.$el)if(o){const c=r.current.$el.val();l.length!==c.length&&t.length&&setTimeout(function(){!r.current||!r.current.$el||(r.current.$el.val(l),r.current.$el.trigger("change"))},0)}else r.current.value!==l&&(r.current._silentChange=!0,r.current.$el.val(l),r.current.$el.trigger("change"),setTimeout(function(){r.current._silentChange=!1},0));return wp.element.createElement("select",{ref:r,autoComplete:"off",multiple:o,style:{display:"none",width:"160px",...s}},e&&wp.element.createElement("option",{value:"",disabled:!0,selected:l==null},e),t.map((c,p)=>wp.element.createElement("option",{key:`option-${p}`,value:c.value,selected:c.value===l},c.label)))},"Select");var vt=Object.defineProperty,yt=g((e,t)=>vt(e,"name",{value:t,configurable:!0}),"a$4");const ft=yt(({getData:e,setData:t,includeOrder:l,includeOrderBy:n})=>{const o=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"order"},"Order"),wp.element.createElement(N,{labelForEmptyValue:"Choose Order",options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],value:e("order"),style:{width:"100%"},onChange:p=>t("order",p)}))),s=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby"},"Order by"),wp.element.createElement(N,{labelForEmptyValue:"Order by",options:[{label:"Title",value:"title"},{label:"ID",value:"id"},{label:"Author",value:"author"},{label:"Name",value:"name"},{label:"Type",value:"type"},{label:"Date",value:"date"},{label:"Modified",value:"modified"},{label:"Random",value:"random"},{label:"Comment count",value:"comment_count"},{label:"Relevance",value:"relevance"},{label:"Menu",value:"menu"},{label:"Custom value",value:"meta_value"},{label:"Custom value number",value:"meta_value_num"}],value:e("orderby"),style:{width:"100%"},onChange:p=>t("orderby",p)}))),r=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field"},"Order by custom field"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",name:"orderby-field",id:"orderby_field",onChange:p=>t("orderby_field",p.target.value),placeholder:"Enter field key",value:e("orderby_field")}))),c=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field_number"},"Order by custom field with numeric value"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",id:"orderby_field_number",name:"orderby-field-number",onChange:p=>t("orderby_field_number",p.target.value),placeholder:"Enter field key",value:e("orderby_field_number")})));return wp.element.createElement("div",{className:"tangible-logic-rule"},l&&o,n&&s,e("orderby")==="meta_value"&&r,e("orderby")==="meta_value_num"&&c)},"Order");var Et=Object.defineProperty,ht=g((e,t)=>Et(e,"name",{value:t,configurable:!0}),"p$1");const{useState:ne,useEffect:ae}=wp.element,wt=ht(({initialLoopType:e,initialType:t,setData:l,fields:n})=>{const[o,s]=ne(e||"post"),[r,c]=ne(t);ae(()=>l("loopType",o),[o]),ae(()=>l("type",r),[r]);const p=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label"},"Content type"),wp.element.createElement(N,{labelForEmptyValue:"Choose a Type",options:[{label:"Post",value:"post"}],value:o,onChange:i=>s(i),style:{width:"100%"}}))),d=o==="post"?wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"post_type"},"Fields"),wp.element.createElement(N,{labelForEmptyValue:"Choose Fields",value:r?r.split(","):["null"],options:n,multiSelect:!0,style:{width:"100%"},onChange:i=>i=="null"?c(""):c(i.toString())}))):"";return wp.element.createElement("div",{className:"tangible-logic-rule"},p,d)},"Type");var $t=Object.defineProperty,T=g((e,t)=>$t(e,"name",{value:t,configurable:!0}),"r$1");const{Tangible:_t,wp:f}=window,{useState:oe,useEffect:Ct}=f.element,{allTaxonomies:re={}}=_t.postQueryControlData,Nt=T(({value:e,initialData:t,save:l,showBtn:n,remove:o})=>{const s=e===1,r=Object.keys(re),[c,p]=oe(t);Ct(()=>{l(c)},[c]);const d=T(v=>{const _=re[v];if(_==null||_.length===0)return[];let S=[];return _.forEach(he=>{S.push({label:he.name,value:he.slug})}),S},"getTerms"),i=T(v=>c.hasOwnProperty(v)?c[v]===""?null:c[v]:null,"getParam"),u=T(v=>{E(_=>[]),v.length>0&&E(_=>v)},"updateTerms"),a=T((v,_)=>p(S=>({...S,[v]:_})),"updateParam"),[y,E]=oe(c.hasOwnProperty("taxonomy")?d(c.taxonomy):[]),k=f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Taxonomy ",!s&&e),f.element.createElement(N,{style:{width:"100%"},labelForEmptyValue:`Taxonomy ${s?"":e}`,options:r.map(v=>({label:v,value:v})),value:i("taxonomy"),onChange:v=>{a("terms",""),a("taxonomy",v);const _=d(v);u(_)}}))),O=f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Compare ",!s&&e),f.element.createElement(N,{style:{width:"100%"},labelForEmptyValue:`Compare ${s?"":e}`,options:[{label:"In",value:"in"},{label:"Not",value:"not"},{label:"And",value:"and"},{label:"Exists",value:"exists"},{label:"Not exists",value:"not exists"}],value:c.taxonomy_compare,onChange:v=>a("taxonomy_compare",v)}))),b=i("terms"),C=f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Term ",!s&&e),f.element.createElement(N,{style:{width:"100%"},labelForEmptyValue:`Terms ${s?"":e}`,multiSelect:!0,options:y,value:b?b.split(","):["null"],onChange:v=>p(_=>{let S="";return v!="null"&&(S=v.toString()),{..._,terms:S}})})));return f.element.createElement("div",{className:"tangible-logic-rule"},k,O,C,n&&f.element.createElement("button",{id:"logic-button-rule",className:"tangible-components-button is-secondary",type:"button",onClick:o},"Remove"))},"QueryGroup");var xt=Object.defineProperty,R=g((e,t)=>xt(e,"name",{value:t,configurable:!0}),"s$2");const{wp:h}=window,{useState:ie,useEffect:ce}=h.element,se=3,me=R(({initialData:e,save:t})=>{const[l,n]=ie([]),[o,s]=ie("");ce(()=>{if(!e)return;const i=JSON.parse(e),u=[];if(i.taxonomy_relation&&s(i.taxonomy_relation),!i.taxonomy)return;let a="",y=1;for(;i[`taxonomy${a}`]&&y<=se&&(a=y!==1?`_${y}`:"",!!i[`taxonomy${a}`]);)u.push({taxonomy:i[`taxonomy${a}`],terms:i[`terms${a}`],taxonomy_compare:i[`taxonomy_compare${a}`]}),y++;n(u)},[]),ce(()=>{const i={};o&&(i.taxonomy_relation=o);for(let u=0;u<l.length;u++){const a=u!==0?`_${u+1}`:"";i[`taxonomy${a}`]=l[u].taxonomy,i[`terms${a}`]=l[u].terms,i[`taxonomy_compare${a}`]=l[u].taxonomy_compare}t(i)},[l,o]);const r=h.element.createElement("div",{className:"tangible-logic-rule tangible-logic-clear"},h.element.createElement("div",{className:"tangible-components-control"},h.element.createElement("div",{className:"tangible-components-control__field"},h.element.createElement("label",{className:"tangible-components-control__label"},"Relation"),h.element.createElement(N,{style:{width:"100%"},labelForEmptyValue:"Choose Relation",options:[{label:"And",value:"and"},{label:"Or",value:"or"}],value:o,onChange:i=>s(i)})))),c=R(()=>{n([...l,{taxonomy:"",terms:"",taxonomy_compare:""}])},"addRow"),p=R((i,u)=>{l[i]=u,n([...l])},"saveRow"),d=R(i=>{n([...l.slice(0,i),...l.slice(i+1)])},"removeRow");return h.element.createElement("div",{className:"tangible-logic-rule-group-box-bordered"},l.length>1&&h.element.createElement("div",{className:"tangible-logic-taxonomy-group"},r),h.element.createElement("div",{className:"tangible-logic-taxonomy-group"},l.length>0&&l.map((i,u)=>h.element.createElement(Nt,{key:u+JSON.stringify(i),value:u+1,initialData:i,showBtn:!0,save:a=>p(u,a),remove:()=>d(u)}))),l.length<se&&h.element.createElement("div",{className:"tangible-logic-group-actions"},h.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:c},"Add taxonomy filter"),h.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:()=>n([])},"Remove")))},"Taxonomy");var Ot=Object.defineProperty,B=g((e,t)=>Ot(e,"name",{value:t,configurable:!0}),"s$1");const{Tangible:kt,wp:w}=window,{useState:St,useEffect:ue}=w.element,{allPostTypes:pe={}}=kt.postQueryControlData||{},Pt=B(({initialData:e,save:t,fields:l=[]})=>{const n=l.replace(/\s+/g,"").split(","),o=B(i=>{try{return JSON.parse(i)}catch{return{}}},"parseData"),[s,r]=St(o(e));ue(()=>r(o(e)),[e]),ue(()=>{t(s)},[s]);const c=B(i=>s[i]&&s[i]!==""?s[i]:null,"getData"),p=B((i,u)=>r(a=>i!=="orderby"?{...a,[i]:u}:(u!=="meta_value"&&a.orderby_field&&delete a.orderby_field,u!=="meta_value_num"&&a.orderby_field_number&&delete a.orderby_field_number,{...a,[i]:u})),"updateArgs"),d=w.element.createElement(me,{initialData:s.hasOwnProperty("taxonomies")?JSON.stringify(s.taxonomies):"{}",save:i=>p("taxonomies",i)});return w.element.createElement(w.element.Fragment,null,(n.includes("order")||n.includes("orderby"))&&w.element.createElement("div",{className:"tangible-logic-rule-group-box"},w.element.createElement("h4",{style:{fontWeight:"600"}},"Order"),w.element.createElement(ft,{getData:c,setData:p,includeOrder:n.includes("order"),includeOrderBy:n.includes("orderby")})),n.includes("type")&&w.element.createElement("div",{className:"tangible-logic-rule-group-box"},w.element.createElement("h4",{style:{fontWeight:"600"}},"Type"),w.element.createElement(wt,{initialLoopType:c("loopType")!==null?c("loopType"):"post",initialType:c("type"),setData:p,fields:Object.keys(pe).map(i=>({label:pe[i],value:i}))})),n.includes("taxonomy")&&w.element.createElement("div",{className:"tangible-logic-rule-group-box"},w.element.createElement("h4",{style:{fontWeight:"600"}},"Filter by Taxonomy"),d))},"PostQuery");var At=Object.defineProperty,H=g((e,t)=>At(e,"name",{value:t,configurable:!0}),"i$3");const{wp:$}=window,{element:{useEffect:M,useState:I}}=$,{ajax:Tt}=window.Tangible,Vt=H(({handler:e,initialValue:t,fields:l=[]})=>{const[n,o]=I(t?JSON.parse(t):[]),[s,r]=I(""),[c,p]=I([]),[d,i]=I(!1),u="tangible-block-editor-control-ajax-select",a=l.multiple&&l.multiple==="true";M(()=>{a&&!Array.isArray(n)&&o([n])}),M(()=>{const b={search:s,field:l};Tt(l.ajax_action_name,b).then(C=>p(C)).catch(C=>console.error(C))},[s]),M(()=>e(JSON.stringify(n)),[n]),M(()=>{d===!1&&r("")},[d]);const y=H(b=>{o(a?[...n,b]:[b])},"saveValue"),E=H(b=>{const C=n.filter(v=>v.value!==b.value);o([...C])},"removeValue"),k=Array.isArray(n)?n.map(b=>b.value):[],O=$.element.createElement("span",{className:"dashicons dashicons-no-alt"});return $.element.createElement("div",{className:d?`${u} is-open`:u},a&&Array.isArray(n)?$.element.createElement("ul",{className:u+"-choice"},n.map(b=>$.element.createElement("li",{id:b.name},$.element.createElement("button",{onClick:()=>E(b)},O)," ",$.element.createElement("span",null,b.label)," "))):"",$.element.createElement("input",{type:"text",className:u+"-input",onFocus:()=>i(!0),onBlur:()=>i(!1),onChange:b=>{r(b.target.value)},placeholder:l.placeholder?l.placeholder:"Select",value:!d&&!a&&n[0]?n[0].label:s}),d&&$.element.createElement("ul",{class:u+"-ul"},c?c.map(b=>a&&k.includes(b.value)?"":$.element.createElement("li",{id:b.name,onMouseDown:()=>y(b)},b.label!==""?b.label:$.element.createElement("i",null,"Untitled"))):""))},"AjaxSelect");var Ft=Object.defineProperty,jt=g((e,t)=>Ft(e,"name",{value:t,configurable:!0}),"n$1");const Dt=jt((e,t,l,n)=>{switch(e.type){case"post_query":return wp.element.createElement(Pt,{save:r=>t(JSON.stringify(r)),initialData:l,fields:n.include_fields?n.include_fields:"type, order, orderby"});case"taxonomy":return wp.element.createElement(me,{save:r=>t(JSON.stringify(r)),initialData:l,...n});case"select2":const o=n.multiple&&n.multiple==="true",s=typeof l=="string"&&o?l!==""?l.split(","):[]:l!==""?l:null;return wp.element.createElement(N,{labelForEmptyValue:"Choose...",options:n.options?Object.keys(n.options).map(r=>({value:r,label:n.options[r]})):[],onChange:r=>t(r!==null?Array.isArray(r)?r.join(","):r:""),multiSelect:o,value:s,style:{width:"100%"}});case"ajax_select":return wp.element.createElement(Vt,{handler:t,initialValue:l,fields:n});default:return wp.element.createElement(pt,{handler:t,initialValue:l,...n})}},"getLegacyControl");var Lt=Object.defineProperty,J=g((e,t)=>Lt(e,"name",{value:t,configurable:!0}),"n");const{useState:W,useEffect:q}=wp.element,Rt=J(e=>{const{config:t,field:l,builder:n,initialValue:o}=e,s=t.popup,[r,c]=W(n==="beaver-builder"),[p=o,d]=W(),[i=o,u]=W(),a=J(C=>(s||u(C),d(C)),"save");q(()=>e.save(i),[i]),q(()=>{s&&r&&d(i)},[r]),q(()=>{!r&&e.onPopupClose&&e.onPopupClose()},[r]);const y={display:"flex",marginBottom:"10px"},E=wp.element.createElement(wp.element.Fragment,null,n==="elementor"&&!s?wp.element.createElement("label",{className:"elementor-control-title",style:y},l.label):"",wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${t.type}`},Dt(t,a,i,l)));if(!s)return E;const k=J(()=>c(!1),"cancel"),O=J(()=>{c(!1),u(p)},"submit"),b=n!=="beaver-builder"?wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${n}`},n==="elementor"?wp.element.createElement("label",{className:"elementor-control-title",style:y},l.label):"",wp.element.createElement("button",{onClick:()=>c(!r),className:"components-button is-secondary tangible-control-btn"},"Open Settings")):"";return r?wp.element.createElement(wp.element.Fragment,null,b,wp.element.createElement(X,{submit:O,cancel:k,title:l.label},E)):b},"LegacyControl");var Bt=Object.defineProperty,be=g((e,t)=>Bt(e,"name",{value:t,configurable:!0}),"b");const{wp:m,Tangible:Mt}=window,{components:{BaseControl:x,Button:V,ButtonGroup:It,DatePicker:Jt,GradientPicker:Ut,__experimentalGradientPicker:Gt,Icon:F,SelectControl:Qt,TextControl:Ht,ToggleControl:Wt},blockEditor:{MediaUpload:de,MediaUploadCheck:ge}}=m,{blockConfig:{legacy_controls:ve}}=Mt,ye=be(e=>({id:e.id,url:e.url}),"extractMediaFields"),qt=be((e,t)=>{const l=t.attributes[e.name],n=typeof e.default<"u"?e.default:!1,o=`tangible-block-editor-control-${e.type}`;switch(e.type){case"text":return m.element.createElement(Ht,{className:o,label:e.label,value:l,onChange:a=>t.setAttributes({[e.name]:a})});case"select":const s=Object.keys(e.options).map(a=>({value:a,label:e.options[a]}));return m.element.createElement(Qt,{className:e.multiple?o+"-multiple":o,label:e.label,value:l!==""||!n?l:n,options:s,multiple:e.multiple,onChange:a=>t.setAttributes({[e.name]:a})});case"date":return m.element.createElement(x,{label:e.label,className:o},m.element.createElement(Jt,{currentDate:l?new Date(l):new Date,onChange:a=>t.setAttributes({[e.name]:a}),onMonthPreviewed:()=>!0}));case"color":return m.element.createElement(Ue,{label:e.label,value:l,defaultValue:n,alpha:e.alpha,onChange:a=>t.setAttributes({[e.name]:a}),className:o});case"align":return l===""&&n&&t.setAttributes({[e.name]:n}),m.element.createElement(x,{label:e.label,className:o},m.element.createElement(It,{style:{display:"block",marginTop:"10px"}},m.element.createElement(V,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"left"})},m.element.createElement(F,{icon:"editor-alignleft"})),m.element.createElement(V,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"center"})},m.element.createElement(F,{icon:"editor-aligncenter"})),m.element.createElement(V,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"right"})},m.element.createElement(F,{icon:"editor-alignright"}))));case"image":return m.element.createElement(x,{className:o},m.element.createElement(ge,null,m.element.createElement(de,{onSelect:a=>t.setAttributes({[e.name]:ye(a)}),allowedTypes:["image"],value:l,render:({open:a})=>m.element.createElement("div",null,m.element.createElement("p",null,e.label),m.element.createElement("img",{src:l.url,style:{width:"150px"}}),m.element.createElement(V,{isSecondary:!0,onClick:a,style:{display:"block",marginTop:"10px"}},m.element.createElement(F,{icon:"upload"}),"  Open Media Library"))})));case"editor":return m.element.createElement(x,{className:o},m.element.createElement("div",null,m.element.createElement("p",null,e.label),m.element.createElement(lt,{value:l,updateVal:a=>t.setAttributes({[e.name]:a})})));case"switch":const r=e.hasOwnProperty("value_on")?e.value_on:"on",c=e.hasOwnProperty("value_off")?e.value_off:"off",p=e.hasOwnProperty("label_on")?e.label_on:"On",d=e.hasOwnProperty("label_off")?e.label_off:"Off";return m.element.createElement(x,{className:o},m.element.createElement(Wt,{label:e.label,help:l===r?p:d,checked:l===r,onChange:a=>a?t.setAttributes({[e.name]:r}):t.setAttributes({[e.name]:c})}));case"dimension":return m.element.createElement(Ke,{className:o,value:l,label:e.label,units:e.units?e.units.replace(/ /g,"").split(","):"",defaultUnit:e.default_unit?e.default_unit:"px",onChange:a=>t.setAttributes({[e.name]:a}),multipleValues:e.multiple_values?e.multiple_values:!0});case"gallery":let i=[];return l&&l.forEach((a,y)=>{i[y]=a.id?a.id:a}),m.element.createElement(x,{className:o},m.element.createElement(ge,null,m.element.createElement(de,{onSelect:a=>t.setAttributes({[e.name]:a.map(ye)}),allowedTypes:["image"],value:i,gallery:!0,multiple:!0,render:({open:a})=>m.element.createElement("div",null,m.element.createElement("p",null,e.label),m.element.createElement(V,{isSecondary:!0,onClick:a,style:{display:"block",marginTop:"10px"}},m.element.createElement(F,{icon:"upload"}),"  Open Media Library"))})));case"number":return m.element.createElement(x,{className:o},m.element.createElement("div",null,m.element.createElement("p",null,e.label),m.element.createElement(it,{className:o,value:l,min:e.min?e.min:!1,max:e.max?e.max:!1,onChange:a=>{t.setAttributes({[e.name]:a})}})));case"gradient":let u=Gt||Ut;return m.element.createElement(x,null,m.element.createElement("p",null,e.label),m.element.createElement(u,{value:l,onChange:a=>{t.setAttributes({[e.name]:a})},gradients:[{name:"Vivid cyan blue to vivid purple",gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:"Light green cyan to vivid green cyan",gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:"Luminous vivid amber to luminous vivid orange",gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"}]}))}if(ve[e.type]){const s=ve[e.type];return m.element.createElement(x,{label:e.label,className:o},m.element.createElement(Rt,{config:s,initialValue:l,builder:"gutenberg",field:e,save:r=>t.setAttributes({[e.name]:r})}))}},"getLegacyField");var zt=Object.defineProperty,U=g((e,t)=>zt(e,"name",{value:t,configurable:!0}),"i$1");const{blockEditor:{InspectorControls:Kt},blocks:{registerBlockType:Xt},components:{Panel:Yt,PanelBody:Zt,PanelRow:el},element:{useState:fe,createContext:tl,useEffect:ll},i18n:{__:ml},serverSideRender:nl}=wp,{blockConfig:j,moduleLoader:al,ServerSideRender:ol=nl}=Tangible,rl=tl(),z=[],il=U(e=>{const t=`${j.package}/${e.universal_id?"block-"+e.universal_id:e.name}`;Xt(t,{title:e.label,description:e.description?e.description:"",category:j.category,sections:e.sections,icon:j.icon,edit(l){const{block_id:n}=l.attributes,[o,s]=fe(!1);ll(()=>{let a=n;(!a||z.includes(a))&&(a=l.clientId,l.setAttributes({block_id:a})),z.includes(a)||z.push(a),s(!0)},[]);const[r,c]=fe(e.tabs[0]),p=j.conditions[e.universal_id?e.universal_id:e.content_id]||{general:[],repeater:[]},d=new K(p.general),i=U(a=>Number.isInteger(l.attributes[a])?l.attributes[a].toString():l.attributes[a],"getFieldValue"),u=U(a=>d.evaluateConditions(a,i),"isVisible");if(l.attributes.current_post_id||l.setAttributes({current_post_id:j.current_post_id}),o)return wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(Kt,null,e.tabs.length>1&&wp.element.createElement("div",{className:"tangible-block-editor-tabs"},e.tabs.map(a=>(a.name===r.name||u(a.conditions))&&wp.element.createElement("div",{key:`tab-${a.name}`,className:"tangible-block-editor-tab components-button edit-post-sidebar__panel-tab"+(a.name===r.name?" is-active":""),onClick:()=>c(a)},wp.element.createElement("p",null,a.label==="default"?"Content":a.label)))),wp.element.createElement(rl.Provider,{value:{id:n,conditions:p}},r.sections.map((a,y)=>u(a.conditions)&&wp.element.createElement(Yt,{key:`${a.name}-panel-${y}`,className:"tangible-block-editor-section"},wp.element.createElement(Zt,{title:a.label,initialOpen:y===0},a.fields.map(E=>u(E.conditions)&&wp.element.createElement(el,null,e.legacy_controls?qt(E,l):Ae(E,l.attributes[E.name],l.setAttributes)))))))),wp.element.createElement(ol,{block:t,attributes:l.attributes,httpMethod:"POST",EmptyResponsePlaceholder:Ee,LoadingResponsePlaceholder:Ee,onFetchResponseRendered:al}))},save(){return null}})},"createBlock"),Ee=U(()=>wp.element.createElement("div",{className:"tangible-loop-block"},"\xA0"),"EmptyLoopBlock"),{blocks:cl}=window.Tangible;cl.map(e=>il(e))})();
//# sourceMappingURL=gutenberg-integration.min.js.map
