var zl=Object.defineProperty;var p=(U,Q)=>zl(U,"name",{value:Q,configurable:!0});(function(){"use strict";(function(){const e={env:{NODE_ENV:"production"}};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,e);return}}catch(t){}globalThis.process={env:e}})();var U=Object.defineProperty,Q=p((e,t)=>U(e,"name",{value:t,configurable:!0}),"l$6");class H{constructor(t){this.conditionsMap=t||[],this.getPreviousLevels=this.getPreviousLevels.bind(this),this.getCondition=this.getCondition.bind(this)}evaluateConditions(t,l){let n=!0;if(!t||!Array.isArray(t))return n;for(const r of t){const s=this.getCondition(r);if(!this.evaluateCondition(s,l))return!1}return n}getCondition(t){var l;const n=t.split("-"),r=parseInt(n[0]),s=parseInt(n[1]);return{number:r,level:s,current:(l=this.conditionsMap[r])==null?void 0:l[s],previousLevels:this.getPreviousLevels(r,s)}}getPreviousLevels(t,l){if(l===0)return[];let n=0;const r=[];for(;n<l;)r.push(this.conditionsMap[t][n]),n++;return r}extractComparisons(t){const l=[];for(const n in t)if(!(n==="compare"||n.slice(0,8)==="compare_"||n==="value"||n.slice(0,6)==="value_")){if(n==="control"||n.slice(0,8)==="control_"){const r=t[n],[s,o=0]=n.split("_");l.push({field:r,value:t[`value${o?"_"+o:""}`],compare:t[`compare${o?"_"+o:""}`]});continue}l.push({field:n,value:t[n]})}return l}evaluateCondition(t,l){let n=!0;for(const s of t.previousLevels){const o=this.extractComparisons(s);for(const{field:c,value:b,compare:d}of o){const a=l(c);if(this.compare(a,b,d))return!1}}const r=this.extractComparisons(t.current);for(const{field:s,value:o,compare:c}of r){const b=l(s);if(!this.compare(b,o,c))return!1}return n}compare(t,l,n="is"){let r=!1;switch(n){case"is":case"equal":case"not":default:r=t===l,n==="not"&&(r=!r);break}return r}}p(H,"u$8"),Q(H,"ControlVisibility");var Ge=Object.defineProperty,Ue=p((e,t)=>Ge(e,"name",{value:t,configurable:!0}),"i$c");const z=Ue(e=>wp.element.createElement("div",{id:"tangible-logic-root",className:"tangible-logic-open"},wp.element.createElement("div",{className:"tangible-logic-modal"},wp.element.createElement("div",{className:"tangible-logic-header"},wp.element.createElement("div",{className:"tangible-logic-title"},e.title?e.title:""),wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button has-icon",type:"button","aria-label":"Close dialog",onClick:e.cancel},wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})))),wp.element.createElement("div",{className:"tangible-logic-rule-group"},e.children),wp.element.createElement("div",{className:"tangible-logic-actions tangible-logic-clear"},wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button is-tertiary",type:"button",onClick:e.cancel},"Cancel"),wp.element.createElement("button",{id:"logic-button-add-logic",className:"tangible-components-button is-primary",type:"button",onClick:e.submit},"Save")))),"Modal");var K=Object.defineProperty,Qe=Object.defineProperties,He=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,We=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,Y=p((e,t,l)=>t in e?K(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"i$b"),ze=p((e,t)=>{for(var l in t||(t={}))We.call(t,l)&&Y(e,l,t[l]);if(X)for(var l of X(t))qe.call(t,l)&&Y(e,l,t[l]);return e},"s$8"),Ke=p((e,t)=>Qe(e,He(t)),"y$4"),Xe=p((e,t)=>K(e,"name",{value:t,configurable:!0}),"p$5");const Ye=Xe((e,t,l)=>tangibleFields.render(Ke(ze({onChange:n=>e(Array.isArray(n)||typeof n=="object"?JSON.stringify(n):String(n))},l),{value:t})),"getControl");var Ze=Object.defineProperty,D=p((e,t)=>Ze(e,"name",{value:t,configurable:!0}),"t$1");const et=D(e=>{const{config:t,field:l,builder:n,initialValue:r}=e,s=t.popup,[o,c]=wp.element.useState(n==="beaver-builder"),[b=r,d]=wp.element.useState(),[a=r,u]=wp.element.useState(),i=D(g=>(s||u(g),d(g)),"save");wp.element.useEffect(()=>e.save(a),[a]),wp.element.useEffect(()=>s&&o&&d(a),[o]);const y=wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${t.type}`},Ye(i,a,l));if(!s)return y;const O=D(()=>c(!1),"cancel"),P=D(()=>{c(!1),u(b)},"submit"),x=n!=="beaver-builder"&&wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${n}`},n==="elementor"&&wp.element.createElement("label",{className:"elementor-control-title"},l.label),wp.element.createElement("button",{onClick:()=>c(!o),class:"components-button is-secondary tangible-control-btn"},"Open Settings"));return o?wp.element.createElement(wp.element.Fragment,null,x,wp.element.createElement(z,{submit:P,cancel:O,title:l.label},y)):x},"Control");var tt=Object.defineProperty,lt=p((e,t)=>tt(e,"name",{value:t,configurable:!0}),"t");const{components:{BaseControl:nt}}=wp,{blockConfig:{controls:Z}}=Tangible,at=lt((e,t,l)=>{const n=`tangible-block-editor-control-${e.type}`;if(Z[e.type]){const r=Z[e.type];return wp.element.createElement(nt,{className:n},wp.element.createElement(et,{config:r,initialValue:t,builder:"gutenberg",field:e.data,save:s=>l({[e.name]:s})}))}},"getField");var rt=Object.defineProperty,j=p((e,t)=>rt(e,"name",{value:t,configurable:!0}),"e");const ot=j(e=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(e)||/^([A-Fa-f0-9]{3,4}){1,2}$/.test(e),"isHex"),it=j((e,t)=>{const l=Math.floor((e.length-1)/3),n=ct(e.slice(1),l),[r,s,o,c]=n.map(st);return`rgba(${r}, ${s}, ${o}, ${mt(c)})`},"hexToRGBA"),ct=j((e,t)=>e.match(new RegExp(`.{${t}}`,"g")),"getChunksFromString"),st=j(e=>parseInt(e.repeat(2/e.length),16),"convertHexUnitTo256"),mt=j(e=>typeof e!="undefined"?parseFloat(e/255).toFixed(2):1,"getAlphafloat");var ut=Object.defineProperty,pt=p((e,t)=>ut(e,"name",{value:t,configurable:!0}),"n$6");const{wp:S}=window,{components:{BaseControl:bt,ColorPicker:dt},element:{useEffect:gt}}=S,vt=pt(e=>{const t=e.value===""&&e.defaultValue!==!1?ot(e.defaultValue)?it(e.defaultValue):e.defaultValue:e.value;return gt(()=>e.onChange(t),[]),S.element.createElement(bt,{className:e.className},S.element.createElement("div",null,S.element.createElement("p",null,e.label),S.element.createElement(dt,{style:{display:"block",marginTop:"10px"},color:t,onChangeComplete:l=>{const n=e.alpha===!1?`rgb(${l.rgb.r}, ${l.rgb.g}, ${l.rgb.b})`:`rgba(${l.rgb.r}, ${l.rgb.g}, ${l.rgb.b}, ${l.rgb.a})`;e.onChange(n)},disableAlpha:e.alpha===!1||e.alpha==="false"})))},"Color");var yt=Object.defineProperty,ft=p((e,t)=>yt(e,"name",{value:t,configurable:!0}),"u$7");const{wp:L}=window,{components:{BaseControl:Et,__experimentalBoxControl:$t,SelectControl:wt},element:{useEffect:ht,useState:ee}}=L,_t=ft(e=>{const[t,l]=ee(e.value),[n,r]=ee(e.value.unit?e.value.unit:e.defaultUnit),s=e.multipleValues!=="false"?e.className:`${e.className} ${e.className}-single-value`,o=[];for(let c in e.units)o.push({value:e.units[c],label:e.units[c]});return ht(()=>{const c={top:t.top?t.top.replace(/[^0-9]/g,""):"",right:t.right?t.right.replace(/[^0-9]/g,""):"",bottom:t.bottom?t.bottom.replace(/[^0-9]/g,""):"",left:t.left?t.left.replace(/[^0-9]/g,""):"",unit:n};e.onChange(c)},[t,n]),L.element.createElement(Et,{className:s},L.element.createElement($t,{label:e.label,values:e.multipleValues!=="false"?t:{top:t.top},units:[{value:"px",label:"px"}],onChange:c=>l(c),sides:e.multipleValues!=="false"?[]:["top"]}),L.element.createElement(wt,{onChange:c=>r(c),value:n,label:"Unit",options:o}))},"Dimension");var Ct=Object.defineProperty,Nt=p((e,t)=>Ct(e,"name",{value:t,configurable:!0}),"u$6");const{wp:te}=window,{element:{useEffect:Ot,useRef:xt,useState:Pt}}=te,kt=Nt(e=>{const t=xt(null),[l,n]=Pt(e.value);return Ot(()=>{tinyMCE.init({target:t.current,setup:function(r){r.on("input",function(s){e.updateVal(r.getContent())}),r.on("ExecCommand",function(s){e.updateVal(r.getContent())})}})},[]),te.element.createElement("textarea",{ref:t},l)},"TextArea");var le=Object.defineProperty,jt=Object.defineProperties,St=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable,ae=p((e,t,l)=>t in e?le(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"l$2"),re=p((e,t)=>{for(var l in t||(t={}))At.call(t,l)&&ae(e,l,t[l]);if(ne)for(var l of ne(t))Tt.call(t,l)&&ae(e,l,t[l]);return e},"n$4"),Vt=p((e,t)=>jt(e,St(t)),"v$5"),Ft=p((e,t)=>le(e,"name",{value:t,configurable:!0}),"i$6");const{wp:oe}=window,{element:{useEffect:Dt,useState:Lt}}=oe,Rt=Ft(e=>{const[t,l]=Lt(e.value?e.value:0);return Dt(()=>{e.onChange(t)},[t]),oe.element.createElement("input",Vt(re(re({type:"number",value:t},e.min&&{min:e.min}),e.max&&{max:e.max}),{onChange:n=>{l(n.target.value!==""?parseInt(n.target.value):0)}}))},"Number");var Bt=Object.defineProperty,It=p((e,t)=>Bt(e,"name",{value:t,configurable:!0}),"n$3");const{wp:ie}=window,{useState:Mt,useEffect:Jt}=ie.element,Gt=It(e=>{const[t,l]=Mt(e.initialValue);return Jt(()=>e.handler(t),[t]),ie.element.createElement("input",{type:"text",value:t,onChange:n=>l(n.target.value)})},"Text");var ce=Object.defineProperty,se=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,me=p((e,t,l)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"a$4"),Ht=p((e,t)=>{for(var l in t||(t={}))Ut.call(t,l)&&me(e,l,t[l]);if(se)for(var l of se(t))Qt.call(t,l)&&me(e,l,t[l]);return e},"f$3"),Wt=p((e,t)=>ce(e,"name",{value:t,configurable:!0}),"g$2");const{jQuery:qt}=window,C=Wt(({labelForEmptyValue:e="",options:t=[],value:l="",onChange:n,multiSelect:r,style:s})=>{const o=wp.element.useRef();if(wp.element.useEffect(()=>{if(!o.current)return;const c=qt(o.current);o.current.$el=c,n(l),c.tangibleSelect({minimumResultsForSearch:5}),r&&(c.val(l),c.trigger("change")),c.on("change",function(d){if(!r&&!o.current._silentChange){n(d.target.value);return}if(!o.current||o.current._silentChange)return;const a=c.select2("data").map(u=>u.id);n(a)});const b=o.current.select2=c.data("select2");return()=>{b&&b.destroy()}},[]),o.current&&o.current.$el)if(r){const c=o.current.$el.val();l.length!==c.length&&t.length&&setImmediate(function(){!o.current||!o.current.$el||(o.current.$el.val(l),o.current.$el.trigger("change"))})}else o.current.value!==l&&(o.current._silentChange=!0,o.current.$el.val(l),o.current.$el.trigger("change"),setImmediate(function(){o.current._silentChange=!1}));return wp.element.createElement("select",{ref:o,autoComplete:"off",multiple:r,style:Ht({display:"none",width:"160px"},s)},e&&wp.element.createElement("option",{value:"",disabled:!0,selected:l==null},e),t.map((c,b)=>wp.element.createElement("option",{key:`option-${b}`,value:c.value,selected:c.value===l},c.label)))},"Select");var zt=Object.defineProperty,Kt=p((e,t)=>zt(e,"name",{value:t,configurable:!0}),"a$3");const Xt=Kt(({getData:e,setData:t,includeOrder:l,includeOrderBy:n})=>{const r=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"order"},"Order"),wp.element.createElement(C,{labelForEmptyValue:"Choose Order",options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],value:e("order"),style:{width:"100%"},onChange:b=>t("order",b)}))),s=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby"},"Order by"),wp.element.createElement(C,{labelForEmptyValue:"Order by",options:[{label:"Title",value:"title"},{label:"ID",value:"id"},{label:"Author",value:"author"},{label:"Name",value:"name"},{label:"Type",value:"type"},{label:"Date",value:"date"},{label:"Modified",value:"modified"},{label:"Random",value:"random"},{label:"Comment count",value:"comment_count"},{label:"Relevance",value:"relevance"},{label:"Menu",value:"menu"},{label:"Custom value",value:"meta_value"},{label:"Custom value number",value:"meta_value_num"}],value:e("orderby"),style:{width:"100%"},onChange:b=>t("orderby",b)}))),o=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field"},"Order by custom field"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",name:"orderby-field",id:"orderby_field",onChange:b=>t("orderby_field",b.target.value),placeholder:"Enter field key",value:e("orderby_field")}))),c=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field_number"},"Order by custom field with numeric value"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",id:"orderby_field_number",name:"orderby-field-number",onChange:b=>t("orderby_field_number",b.target.value),placeholder:"Enter field key",value:e("orderby_field_number")})));return wp.element.createElement("div",{className:"tangible-logic-rule"},l&&r,n&&s,e("orderby")==="meta_value"&&o,e("orderby")==="meta_value_num"&&c)},"Order");var Yt=Object.defineProperty,Zt=p((e,t)=>Yt(e,"name",{value:t,configurable:!0}),"p$2");const{useState:ue,useEffect:pe}=wp.element,el=Zt(({initialLoopType:e,initialType:t,setData:l,fields:n})=>{const[r,s]=ue(e||"post"),[o,c]=ue(t);pe(()=>l("loopType",r),[r]),pe(()=>l("type",o),[o]);const b=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label"},"Content type"),wp.element.createElement(C,{labelForEmptyValue:"Choose a Type",options:[{label:"Post",value:"post"}],value:r,onChange:a=>s(a),style:{width:"100%"}}))),d=r==="post"?wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"post_type"},"Fields"),wp.element.createElement(C,{labelForEmptyValue:"Choose Fields",value:o?o.split(","):["null"],options:n,multiSelect:!0,style:{width:"100%"},onChange:a=>a=="null"?c(""):c(a.toString())}))):"";return wp.element.createElement("div",{className:"tangible-logic-rule"},b,d)},"Type");var be=Object.defineProperty,tl=Object.defineProperties,ll=Object.getOwnPropertyDescriptors,de=Object.getOwnPropertySymbols,nl=Object.prototype.hasOwnProperty,al=Object.prototype.propertyIsEnumerable,ge=p((e,t,l)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"h$2"),ve=p((e,t)=>{for(var l in t||(t={}))nl.call(t,l)&&ge(e,l,t[l]);if(de)for(var l of de(t))al.call(t,l)&&ge(e,l,t[l]);return e},"u$4"),ye=p((e,t)=>tl(e,ll(t)),"b$2"),A=p((e,t)=>be(e,"name",{value:t,configurable:!0}),"m$2");const{Tangible:rl,wp:f}=window,{useState:fe,useEffect:ol}=f.element,{allTaxonomies:Ee={}}=rl.postQueryControlData,il=A(({value:e,initialData:t,save:l,showBtn:n,remove:r})=>{const s=e===1,o=Object.keys(Ee),[c,b]=fe(t);ol(()=>{l(c)},[c]);const d=A(v=>{const h=Ee[v];if(h==null||h.length===0)return[];let k=[];return h.forEach(Je=>{k.push({label:Je.name,value:Je.slug})}),k},"getTerms"),a=A(v=>c.hasOwnProperty(v)?c[v]===""?null:c[v]:null,"getParam"),u=A(v=>{O(h=>[]),v.length>0&&O(h=>v)},"updateTerms"),i=A((v,h)=>b(k=>ye(ve({},k),{[v]:h})),"updateParam"),[y,O]=fe(c.hasOwnProperty("taxonomy")?d(c.taxonomy):[]),P=f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Taxonomy ",!s&&e),f.element.createElement(C,{style:{width:"100%"},labelForEmptyValue:`Taxonomy ${s?"":e}`,options:o.map(v=>({label:v,value:v})),value:a("taxonomy"),onChange:v=>{i("terms",""),i("taxonomy",v);const h=d(v);u(h)}}))),x=f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Compare ",!s&&e),f.element.createElement(C,{style:{width:"100%"},labelForEmptyValue:`Compare ${s?"":e}`,options:[{label:"In",value:"in"},{label:"Not",value:"not"},{label:"And",value:"and"},{label:"Exists",value:"exists"},{label:"Not exists",value:"not exists"}],value:c.taxonomy_compare,onChange:v=>i("taxonomy_compare",v)}))),g=a("terms"),_=f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Term ",!s&&e),f.element.createElement(C,{style:{width:"100%"},labelForEmptyValue:`Terms ${s?"":e}`,multiSelect:!0,options:y,value:g?g.split(","):["null"],onChange:v=>b(h=>{let k="";return v!="null"&&(k=v.toString()),ye(ve({},h),{terms:k})})})));return f.element.createElement("div",{className:"tangible-logic-rule"},P,x,_,n&&f.element.createElement("button",{id:"logic-button-rule",className:"tangible-components-button is-secondary",type:"button",onClick:r},"Remove"))},"QueryGroup");var cl=Object.defineProperty,R=p((e,t)=>cl(e,"name",{value:t,configurable:!0}),"s$2");const{wp:E}=window,{useState:$e,useEffect:we}=E.element,he=3,_e=R(({initialData:e,save:t})=>{const[l,n]=$e([]),[r,s]=$e("");we(()=>{if(!e)return;const a=JSON.parse(e),u=[];if(a.taxonomy_relation&&s(a.taxonomy_relation),!a.taxonomy)return;let i="",y=1;for(;a[`taxonomy${i}`]&&y<=he&&(i=y!==1?`_${y}`:"",!!a[`taxonomy${i}`]);)u.push({taxonomy:a[`taxonomy${i}`],terms:a[`terms${i}`],taxonomy_compare:a[`taxonomy_compare${i}`]}),y++;n(u)},[]),we(()=>{const a={};r&&(a.taxonomy_relation=r);for(let u=0;u<l.length;u++){const i=u!==0?`_${u+1}`:"";a[`taxonomy${i}`]=l[u].taxonomy,a[`terms${i}`]=l[u].terms,a[`taxonomy_compare${i}`]=l[u].taxonomy_compare}t(a)},[l,r]);const o=E.element.createElement("div",{className:"tangible-logic-rule tangible-logic-clear"},E.element.createElement("div",{className:"tangible-components-control"},E.element.createElement("div",{className:"tangible-components-control__field"},E.element.createElement("label",{className:"tangible-components-control__label"},"Relation"),E.element.createElement(C,{style:{width:"100%"},labelForEmptyValue:"Choose Relation",options:[{label:"And",value:"and"},{label:"Or",value:"or"}],value:r,onChange:a=>s(a)})))),c=R(()=>{n([...l,{taxonomy:"",terms:"",taxonomy_compare:""}])},"addRow"),b=R((a,u)=>{l[a]=u,n([...l])},"saveRow"),d=R(a=>{n([...l.slice(0,a),...l.slice(a+1)])},"removeRow");return E.element.createElement("div",{className:"tangible-logic-rule-group-box-bordered"},l.length>1&&E.element.createElement("div",{className:"tangible-logic-taxonomy-group"},o),E.element.createElement("div",{className:"tangible-logic-taxonomy-group"},l.length>0&&l.map((a,u)=>E.element.createElement(il,{key:u+JSON.stringify(a),value:u+1,initialData:a,showBtn:!0,save:i=>b(u,i),remove:()=>d(u)}))),l.length<he&&E.element.createElement("div",{className:"tangible-logic-group-actions"},E.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:c},"Add taxonomy filter"),E.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:()=>n([])},"Remove")))},"Taxonomy");var Ce=Object.defineProperty,sl=Object.defineProperties,ml=Object.getOwnPropertyDescriptors,Ne=Object.getOwnPropertySymbols,ul=Object.prototype.hasOwnProperty,pl=Object.prototype.propertyIsEnumerable,Oe=p((e,t,l)=>t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"g$1"),xe=p((e,t)=>{for(var l in t||(t={}))ul.call(t,l)&&Oe(e,l,t[l]);if(Ne)for(var l of Ne(t))pl.call(t,l)&&Oe(e,l,t[l]);return e},"y$2"),Pe=p((e,t)=>sl(e,ml(t)),"m$1"),B=p((e,t)=>Ce(e,"name",{value:t,configurable:!0}),"u$3");const{Tangible:bl,wp:$}=window,{useState:dl,useEffect:ke}=$.element,{allPostTypes:je={}}=bl.postQueryControlData||{},gl=B(({initialData:e,save:t,fields:l=[]})=>{const n=l.replace(/\s+/g,"").split(","),r=B(a=>{try{return JSON.parse(a)}catch(u){return{}}},"parseData"),[s,o]=dl(r(e));ke(()=>o(r(e)),[e]),ke(()=>{t(s)},[s]);const c=B(a=>s[a]&&s[a]!==""?s[a]:null,"getData"),b=B((a,u)=>o(i=>a!=="orderby"?Pe(xe({},i),{[a]:u}):(u!=="meta_value"&&i.orderby_field&&delete i.orderby_field,u!=="meta_value_num"&&i.orderby_field_number&&delete i.orderby_field_number,Pe(xe({},i),{[a]:u}))),"updateArgs"),d=$.element.createElement(_e,{initialData:s.hasOwnProperty("taxonomies")?JSON.stringify(s.taxonomies):"{}",save:a=>b("taxonomies",a)});return $.element.createElement($.element.Fragment,null,(n.includes("order")||n.includes("orderby"))&&$.element.createElement("div",{className:"tangible-logic-rule-group-box"},$.element.createElement("h4",{style:{fontWeight:"600"}},"Order"),$.element.createElement(Xt,{getData:c,setData:b,includeOrder:n.includes("order"),includeOrderBy:n.includes("orderby")})),n.includes("type")&&$.element.createElement("div",{className:"tangible-logic-rule-group-box"},$.element.createElement("h4",{style:{fontWeight:"600"}},"Type"),$.element.createElement(el,{initialLoopType:c("loopType")!==null?c("loopType"):"post",initialType:c("type"),setData:b,fields:Object.keys(je).map(a=>({label:je[a],value:a}))})),n.includes("taxonomy")&&$.element.createElement("div",{className:"tangible-logic-rule-group-box"},$.element.createElement("h4",{style:{fontWeight:"600"}},"Filter by Taxonomy"),d))},"PostQuery");var vl=Object.defineProperty,W=p((e,t)=>vl(e,"name",{value:t,configurable:!0}),"i$2");const{wp:w}=window,{element:{useEffect:I,useState:M}}=w,{ajax:yl}=window.Tangible,fl=W(({handler:e,initialValue:t,fields:l=[]})=>{const[n,r]=M(t?JSON.parse(t):[]),[s,o]=M(""),[c,b]=M([]),[d,a]=M(!1),u="tangible-block-editor-control-ajax-select",i=l.multiple&&l.multiple==="true";I(()=>{i&&!Array.isArray(n)&&r([n])}),I(()=>{const g={search:s,field:l};yl(l.ajax_action_name,g).then(_=>b(_)).catch(_=>console.error(_))},[s]),I(()=>e(JSON.stringify(n)),[n]),I(()=>{d===!1&&o("")},[d]);const y=W(g=>{r(i?[...n,g]:[g])},"saveValue"),O=W(g=>{const _=n.filter(v=>v.value!==g.value);r([..._])},"removeValue"),P=Array.isArray(n)?n.map(g=>g.value):[],x=w.element.createElement("span",{className:"dashicons dashicons-no-alt"});return w.element.createElement("div",{className:d?`${u} is-open`:u},i&&Array.isArray(n)?w.element.createElement("ul",{className:u+"-choice"},n.map(g=>w.element.createElement("li",{id:g.name},w.element.createElement("button",{onClick:()=>O(g)},x)," ",w.element.createElement("span",null,g.label)," "))):"",w.element.createElement("input",{type:"text",className:u+"-input",onFocus:()=>a(!0),onBlur:()=>a(!1),onChange:g=>{o(g.target.value)},placeholder:l.placeholder?l.placeholder:"Select",value:!d&&!i&&n[0]?n[0].label:s}),d&&w.element.createElement("ul",{class:u+"-ul"},c?c.map(g=>i&&P.includes(g.value)?"":w.element.createElement("li",{id:g.name,onMouseDown:()=>y(g)},g.label!==""?g.label:w.element.createElement("i",null,"Untitled"))):""))},"AjaxSelect");var Se=Object.defineProperty,Ae=Object.getOwnPropertySymbols,El=Object.prototype.hasOwnProperty,$l=Object.prototype.propertyIsEnumerable,Te=p((e,t,l)=>t in e?Se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"a$1"),Ve=p((e,t)=>{for(var l in t||(t={}))El.call(t,l)&&Te(e,l,t[l]);if(Ae)for(var l of Ae(t))$l.call(t,l)&&Te(e,l,t[l]);return e},"s"),wl=p((e,t)=>Se(e,"name",{value:t,configurable:!0}),"l$1");const hl=wl((e,t,l,n)=>{switch(e.type){case"post_query":return wp.element.createElement(gl,{save:o=>t(JSON.stringify(o)),initialData:l,fields:n.include_fields?n.include_fields:"type, order, orderby"});case"taxonomy":return wp.element.createElement(_e,Ve({save:o=>t(JSON.stringify(o)),initialData:l},n));case"select2":const r=n.multiple&&n.multiple==="true",s=typeof l=="string"&&r?l!==""?l.split(","):[]:l!==""?l:null;return wp.element.createElement(C,{labelForEmptyValue:"Choose...",options:n.options?Object.keys(n.options).map(o=>({value:o,label:n.options[o]})):[],onChange:o=>t(o!==null?Array.isArray(o)?o.join(","):o:""),multiSelect:r,value:s,style:{width:"100%"}});case"ajax_select":return wp.element.createElement(fl,{handler:t,initialValue:l,fields:n});default:return wp.element.createElement(Gt,Ve({handler:t,initialValue:l},n))}},"getLegacyControl");var _l=Object.defineProperty,J=p((e,t)=>_l(e,"name",{value:t,configurable:!0}),"l");const{useState:q,useEffect:Fe}=wp.element,Cl=J(e=>{const{config:t,field:l,builder:n,initialValue:r}=e,s=t.popup,[o,c]=q(n==="beaver-builder"),[b=r,d]=q(),[a=r,u]=q(),i=J(_=>(s||u(_),d(_)),"save");Fe(()=>e.save(a),[a]),Fe(()=>{s&&o&&d(a)},[o]);const y={display:"flex",marginBottom:"10px"},O=wp.element.createElement(wp.element.Fragment,null,n==="elementor"&&!s?wp.element.createElement("label",{className:"elementor-control-title",style:y},l.label):"",wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${t.type}`},hl(t,i,a,l)));if(!s)return O;const P=J(()=>c(!1),"cancel"),x=J(()=>{c(!1),u(b)},"submit"),g=n!=="beaver-builder"?wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${n}`},n==="elementor"?wp.element.createElement("label",{className:"elementor-control-title",style:y},l.label):"",wp.element.createElement("button",{onClick:()=>c(!o),className:"components-button is-secondary tangible-control-btn"},"Open Settings")):"";return o?wp.element.createElement(wp.element.Fragment,null,g,wp.element.createElement(z,{submit:x,cancel:P,title:l.label},O)):g},"LegacyControl");var Nl=Object.defineProperty,De=p((e,t)=>Nl(e,"name",{value:t,configurable:!0}),"b");const{wp:m,Tangible:Ol}=window,{components:{BaseControl:N,Button:T,ButtonGroup:xl,DatePicker:Pl,GradientPicker:kl,__experimentalGradientPicker:jl,Icon:V,SelectControl:Sl,TextControl:Al,ToggleControl:Tl},blockEditor:{MediaUpload:Le,MediaUploadCheck:Re}}=m,{blockConfig:{legacy_controls:Be}}=Ol,Ie=De(e=>({id:e.id,url:e.url}),"extractMediaFields"),Vl=De((e,t)=>{const l=t.attributes[e.name],n=typeof e.default!="undefined"?e.default:!1,r=`tangible-block-editor-control-${e.type}`;switch(e.type){case"text":return m.element.createElement(Al,{className:r,label:e.label,value:l,onChange:i=>t.setAttributes({[e.name]:i})});case"select":const s=Object.keys(e.options).map(i=>({value:i,label:e.options[i]}));return m.element.createElement(Sl,{className:e.multiple?r+"-multiple":r,label:e.label,value:l!==""||!n?l:n,options:s,multiple:e.multiple,onChange:i=>t.setAttributes({[e.name]:i})});case"date":return m.element.createElement(N,{label:e.label,className:r},m.element.createElement(Pl,{currentDate:l?new Date(l):new Date,onChange:i=>t.setAttributes({[e.name]:i}),onMonthPreviewed:()=>!0}));case"color":return m.element.createElement(vt,{label:e.label,value:l,defaultValue:n,alpha:e.alpha,onChange:i=>t.setAttributes({[e.name]:i}),className:r});case"align":return l===""&&n&&t.setAttributes({[e.name]:n}),m.element.createElement(N,{label:e.label,className:r},m.element.createElement(xl,{style:{display:"block",marginTop:"10px"}},m.element.createElement(T,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"left"})},m.element.createElement(V,{icon:"editor-alignleft"})),m.element.createElement(T,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"center"})},m.element.createElement(V,{icon:"editor-aligncenter"})),m.element.createElement(T,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"right"})},m.element.createElement(V,{icon:"editor-alignright"}))));case"image":return m.element.createElement(N,{className:r},m.element.createElement(Re,null,m.element.createElement(Le,{onSelect:i=>t.setAttributes({[e.name]:Ie(i)}),allowedTypes:["image"],value:l,render:({open:i})=>m.element.createElement("div",null,m.element.createElement("p",null,e.label),m.element.createElement("img",{src:l.url,style:{width:"150px"}}),m.element.createElement(T,{isSecondary:!0,onClick:i,style:{display:"block",marginTop:"10px"}},m.element.createElement(V,{icon:"upload"}),"  Open Media Library"))})));case"editor":return m.element.createElement(N,{className:r},m.element.createElement("div",null,m.element.createElement("p",null,e.label),m.element.createElement(kt,{value:l,updateVal:i=>t.setAttributes({[e.name]:i})})));case"switch":const o=e.hasOwnProperty("value_on")?e.value_on:"on",c=e.hasOwnProperty("value_off")?e.value_off:"off",b=e.hasOwnProperty("label_on")?e.label_on:"On",d=e.hasOwnProperty("label_off")?e.label_off:"Off";return m.element.createElement(N,{className:r},m.element.createElement(Tl,{label:e.label,help:l===o?b:d,checked:l===o,onChange:i=>i?t.setAttributes({[e.name]:o}):t.setAttributes({[e.name]:c})}));case"dimension":return m.element.createElement(_t,{className:r,value:l,label:e.label,units:e.units?e.units.replace(/ /g,"").split(","):"",defaultUnit:e.default_unit?e.default_unit:"px",onChange:i=>t.setAttributes({[e.name]:i}),multipleValues:e.multiple_values?e.multiple_values:!0});case"gallery":let a=[];return l&&l.forEach((i,y)=>{a[y]=i.id?i.id:i}),m.element.createElement(N,{className:r},m.element.createElement(Re,null,m.element.createElement(Le,{onSelect:i=>t.setAttributes({[e.name]:i.map(Ie)}),allowedTypes:["image"],value:a,gallery:!0,multiple:!0,render:({open:i})=>m.element.createElement("div",null,m.element.createElement("p",null,e.label),m.element.createElement(T,{isSecondary:!0,onClick:i,style:{display:"block",marginTop:"10px"}},m.element.createElement(V,{icon:"upload"}),"  Open Media Library"))})));case"number":return m.element.createElement(N,{className:r},m.element.createElement("div",null,m.element.createElement("p",null,e.label),m.element.createElement(Rt,{className:r,value:l,min:e.min?e.min:!1,max:e.max?e.max:!1,onChange:i=>{t.setAttributes({[e.name]:i})}})));case"gradient":let u=jl||kl;return m.element.createElement(N,null,m.element.createElement("p",null,e.label),m.element.createElement(u,{value:l,onChange:i=>{t.setAttributes({[e.name]:i})},gradients:[{name:"Vivid cyan blue to vivid purple",gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:"Light green cyan to vivid green cyan",gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:"Luminous vivid amber to luminous vivid orange",gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"}]}))}if(Be[e.type]){const s=Be[e.type];return m.element.createElement(N,{label:e.label,className:r},m.element.createElement(Cl,{config:s,initialValue:l,builder:"gutenberg",field:e,save:o=>t.setAttributes({[e.name]:o})}))}},"getLegacyField");var Fl=Object.defineProperty,G=p((e,t)=>Fl(e,"name",{value:t,configurable:!0}),"n");const{blockEditor:{InspectorControls:Dl},blocks:{registerBlockType:Ll},components:{Panel:Rl,PanelBody:Bl,PanelRow:Il},element:{useState:Ml,createContext:Jl},i18n:{__:Kl},serverSideRender:Gl}=wp,{blockConfig:F,moduleLoader:Ul,ServerSideRender:Ql=Gl}=Tangible,Hl=Jl(),Wl=G(e=>{const t=`${F.package}/${e.universal_id?"block-"+e.universal_id:e.name}`;Ll(t,{title:e.label,description:e.description?e.description:"",category:F.category,sections:e.sections,icon:F.icon,edit(l){const{block_id:n}=l.attributes,[r,s]=Ml(e.tabs[0]),o=F.conditions[e.universal_id?e.universal_id:e.content_id],c=new H(o.general),b=G(a=>Number.isInteger(l.attributes[a])?l.attributes[a].toString():l.attributes[a],"getFieldValue"),d=G(a=>c.evaluateConditions(a,b),"isVisible");return n||l.setAttributes({block_id:l.clientId}),l.attributes.current_post_id||l.setAttributes({current_post_id:F.current_post_id}),wp.element.createElement(wp.element.Fragment,null,wp.element.createElement(Dl,null,e.tabs.length>1&&wp.element.createElement("div",{className:"tangible-block-editor-tabs"},e.tabs.map(a=>(a.name===r.name||d(a.conditions))&&wp.element.createElement("div",{key:`tab-${a.name}`,className:"tangible-block-editor-tab components-button edit-post-sidebar__panel-tab"+(a.name===r.name?" is-active":""),onClick:()=>s(a)},wp.element.createElement("p",null,a.label==="default"?"Content":a.label)))),wp.element.createElement(Hl.Provider,{value:{id:n,conditions:o}},r.sections.map((a,u)=>d(a.conditions)&&wp.element.createElement(Rl,{key:`${a.name}-panel-${u}`,className:"tangible-block-editor-section"},wp.element.createElement(Bl,{title:a.label,initialOpen:u===0},a.fields.map(i=>d(i.conditions)&&wp.element.createElement(Il,null,e.legacy_controls?Vl(i,l):at(i,l.attributes[i.name],l.setAttributes)))))))),wp.element.createElement(Ql,{block:t,attributes:l.attributes,httpMethod:"POST",EmptyResponsePlaceholder:Me,LoadingResponsePlaceholder:Me,onFetchResponseRendered:a=>{Ul(a)}}))},save(){return null}})},"createBlock"),Me=G(()=>wp.element.createElement("div",{className:"tangible-loop-block"},"\xA0"),"EmptyLoopBlock"),{blocks:ql}=window.Tangible;ql.map(e=>Wl(e))})();
//# sourceMappingURL=gutenberg-integration.min.js.map
