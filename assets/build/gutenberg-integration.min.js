var jl=Object.defineProperty;var b=(G,U)=>jl(G,"name",{value:U,configurable:!0});(function(){"use strict";(function(){const e={env:{NODE_ENV:"production"}};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,e);return}}catch(t){}globalThis.process={env:e}})();var G=Object.defineProperty,U=b((e,t)=>G(e,"name",{value:t,configurable:!0}),"l$6");class Q{constructor(t){this.conditionsMap=t||[],this.getPreviousLevels=this.getPreviousLevels.bind(this),this.getCondition=this.getCondition.bind(this)}evaluateConditions(t,l){let n=!0;if(!t||!Array.isArray(t))return n;for(const r of t){const s=this.getCondition(r);if(!this.evaluateCondition(s,l))return!1}return n}getCondition(t){const l=t.split("-"),n=parseInt(l[0]),r=parseInt(l[1]);return{number:n,level:r,current:this.conditionsMap[n][r],previousLevels:this.getPreviousLevels(n,r)}}getPreviousLevels(t,l){if(l===0)return[];let n=0;const r=[];for(;n<l;)r.push(this.conditionsMap[t][n]),n++;return r}extractComparisons(t){const l=[];for(const n in t)if(!(n==="compare"||n.slice(0,8)==="compare_"||n==="value"||n.slice(0,6)==="value_")){if(n==="control"||n.slice(0,8)==="control_"){const r=t[n],[s,a=0]=n.split("_");l.push({field:r,value:t[`value${a?"_"+a:""}`],compare:t[`compare${a?"_"+a:""}`]});continue}l.push({field:n,value:t[n]})}return l}evaluateCondition(t,l){let n=!0;for(const s of t.previousLevels){const a=this.extractComparisons(s);for(const{field:c,value:m,compare:d}of a){const o=l(c);if(this.compare(o,m,d))return!1}}const r=this.extractComparisons(t.current);for(const{field:s,value:a,compare:c}of r){const m=l(s);if(!this.compare(m,a,c))return!1}return n}compare(t,l,n="is"){let r=!1;switch(n){case"is":case"equal":case"not":default:r=t===l,n==="not"&&(r=!r);break}return r}}b(Q,"u$8"),U(Q,"ControlVisibility");var Be=Object.defineProperty,P=b((e,t)=>Be(e,"name",{value:t,configurable:!0}),"e$1");const Le=P(e=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(e)||/^([A-Fa-f0-9]{3,4}){1,2}$/.test(e),"isHex"),Ie=P((e,t)=>{const l=Math.floor((e.length-1)/3),n=Me(e.slice(1),l),[r,s,a,c]=n.map(Je);return`rgba(${r}, ${s}, ${a}, ${Ge(c)})`},"hexToRGBA"),Me=P((e,t)=>e.match(new RegExp(`.{${t}}`,"g")),"getChunksFromString"),Je=P(e=>parseInt(e.repeat(2/e.length),16),"convertHexUnitTo256"),Ge=P(e=>typeof e!="undefined"?parseFloat(e/255).toFixed(2):1,"getAlphafloat");var Ue=Object.defineProperty,Qe=b((e,t)=>Ue(e,"name",{value:t,configurable:!0}),"n$5");const{wp:j}=window,{components:{BaseControl:He,ColorPicker:We},element:{useEffect:qe}}=j,ze=Qe(e=>{const t=e.value===""&&e.defaultValue!==!1?Le(e.defaultValue)?Ie(e.defaultValue):e.defaultValue:e.value;return qe(()=>e.onChange(t),[]),j.element.createElement(He,{className:e.className},j.element.createElement("div",null,j.element.createElement("p",null,e.label),j.element.createElement(We,{style:{display:"block",marginTop:"10px"},color:t,onChangeComplete:l=>{const n=e.alpha===!1?`rgb(${l.rgb.r}, ${l.rgb.g}, ${l.rgb.b})`:`rgba(${l.rgb.r}, ${l.rgb.g}, ${l.rgb.b}, ${l.rgb.a})`;e.onChange(n)},disableAlpha:e.alpha===!1||e.alpha==="false"})))},"Color");var Ke=Object.defineProperty,Xe=b((e,t)=>Ke(e,"name",{value:t,configurable:!0}),"u$7");const{wp:R}=window,{components:{BaseControl:Ye,__experimentalBoxControl:Ze,SelectControl:et},element:{useEffect:tt,useState:z}}=R,lt=Xe(e=>{const[t,l]=z(e.value),[n,r]=z(e.value.unit?e.value.unit:e.defaultUnit),s=e.multipleValues!=="false"?e.className:`${e.className} ${e.className}-single-value`,a=[];for(let c in e.units)a.push({value:e.units[c],label:e.units[c]});return tt(()=>{const c={top:t.top?t.top.replace(/[^0-9]/g,""):"",right:t.right?t.right.replace(/[^0-9]/g,""):"",bottom:t.bottom?t.bottom.replace(/[^0-9]/g,""):"",left:t.left?t.left.replace(/[^0-9]/g,""):"",unit:n};e.onChange(c)},[t,n]),R.element.createElement(Ye,{className:s},R.element.createElement(Ze,{label:e.label,values:e.multipleValues!=="false"?t:{top:t.top},units:[{value:"px",label:"px"}],onChange:c=>l(c),sides:e.multipleValues!=="false"?[]:["top"]}),R.element.createElement(et,{onChange:c=>r(c),value:n,label:"Unit",options:a}))},"Dimension");var nt=Object.defineProperty,at=b((e,t)=>nt(e,"name",{value:t,configurable:!0}),"u$6");const{wp:K}=window,{element:{useEffect:rt,useRef:ot,useState:it}}=K,ct=at(e=>{const t=ot(null),[l,n]=it(e.value);return rt(()=>{tinyMCE.init({target:t.current,setup:function(r){r.on("input",function(s){e.updateVal(r.getContent())}),r.on("ExecCommand",function(s){e.updateVal(r.getContent())})}})},[]),K.element.createElement("textarea",{ref:t},l)},"TextArea");var X=Object.defineProperty,st=Object.defineProperties,mt=Object.getOwnPropertyDescriptors,Y=Object.getOwnPropertySymbols,ut=Object.prototype.hasOwnProperty,pt=Object.prototype.propertyIsEnumerable,Z=b((e,t,l)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"l$2"),ee=b((e,t)=>{for(var l in t||(t={}))ut.call(t,l)&&Z(e,l,t[l]);if(Y)for(var l of Y(t))pt.call(t,l)&&Z(e,l,t[l]);return e},"n$3"),bt=b((e,t)=>st(e,mt(t)),"v$5"),dt=b((e,t)=>X(e,"name",{value:t,configurable:!0}),"i$8");const{wp:te}=window,{element:{useEffect:gt,useState:vt}}=te,yt=dt(e=>{const[t,l]=vt(e.value?e.value:0);return gt(()=>{e.onChange(t)},[t]),te.element.createElement("input",bt(ee(ee({type:"number",value:t},e.min&&{min:e.min}),e.max&&{max:e.max}),{onChange:n=>{l(n.target.value!==""?parseInt(n.target.value):0)}}))},"Number");var ft=Object.defineProperty,Et=b((e,t)=>ft(e,"name",{value:t,configurable:!0}),"i$7");const ht=Et(e=>wp.element.createElement("div",{id:"tangible-logic-root",className:"tangible-logic-open"},wp.element.createElement("div",{className:"tangible-logic-modal"},wp.element.createElement("div",{className:"tangible-logic-header"},wp.element.createElement("div",{className:"tangible-logic-title"},e.title?e.title:""),wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button has-icon",type:"button","aria-label":"Close dialog",onClick:e.cancel},wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})))),wp.element.createElement("div",{className:"tangible-logic-rule-group"},e.children),wp.element.createElement("div",{className:"tangible-logic-actions tangible-logic-clear"},wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button is-tertiary",type:"button",onClick:e.cancel},"Cancel"),wp.element.createElement("button",{id:"logic-button-add-logic",className:"tangible-components-button is-primary",type:"button",onClick:e.submit},"Save")))),"Modal");var $t=Object.defineProperty,wt=b((e,t)=>$t(e,"name",{value:t,configurable:!0}),"n$2");const{wp:le}=window,{useState:_t,useEffect:Ct}=le.element,Nt=wt(e=>{const[t,l]=_t(e.initialValue);return Ct(()=>e.handler(t),[t]),le.element.createElement("input",{type:"text",value:t,onChange:n=>l(n.target.value)})},"Text");var ne=Object.defineProperty,ae=Object.getOwnPropertySymbols,xt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,re=b((e,t,l)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"a$4"),kt=b((e,t)=>{for(var l in t||(t={}))xt.call(t,l)&&re(e,l,t[l]);if(ae)for(var l of ae(t))Ot.call(t,l)&&re(e,l,t[l]);return e},"f$3"),Pt=b((e,t)=>ne(e,"name",{value:t,configurable:!0}),"g$2");const{jQuery:jt}=window,N=Pt(({labelForEmptyValue:e="",options:t=[],value:l="",onChange:n,multiSelect:r,style:s})=>{const a=wp.element.useRef();if(wp.element.useEffect(()=>{if(!a.current)return;const c=jt(a.current);a.current.$el=c,n(l),c.tangibleSelect({minimumResultsForSearch:5}),r&&(c.val(l),c.trigger("change")),c.on("change",function(d){if(!r&&!a.current._silentChange){n(d.target.value);return}if(!a.current||a.current._silentChange)return;const o=c.select2("data").map(p=>p.id);n(o)});const m=a.current.select2=c.data("select2");return()=>{m&&m.destroy()}},[]),a.current&&a.current.$el)if(r){const c=a.current.$el.val();l.length!==c.length&&t.length&&setImmediate(function(){!a.current||!a.current.$el||(a.current.$el.val(l),a.current.$el.trigger("change"))})}else a.current.value!==l&&(a.current._silentChange=!0,a.current.$el.val(l),a.current.$el.trigger("change"),setImmediate(function(){a.current._silentChange=!1}));return wp.element.createElement("select",{ref:a,autoComplete:"off",multiple:r,style:kt({display:"none",width:"160px"},s)},e&&wp.element.createElement("option",{value:"",disabled:!0,selected:l==null},e),t.map((c,m)=>wp.element.createElement("option",{key:`option-${m}`,value:c.value,selected:c.value===l},c.label)))},"Select");var St=Object.defineProperty,At=b((e,t)=>St(e,"name",{value:t,configurable:!0}),"a$3");const Tt=At(({getData:e,setData:t,includeOrder:l,includeOrderBy:n})=>{const r=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"order"},"Order"),wp.element.createElement(N,{labelForEmptyValue:"Choose Order",options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],value:e("order"),style:{width:"100%"},onChange:m=>t("order",m)}))),s=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby"},"Order by"),wp.element.createElement(N,{labelForEmptyValue:"Order by",options:[{label:"Title",value:"title"},{label:"ID",value:"id"},{label:"Author",value:"author"},{label:"Name",value:"name"},{label:"Type",value:"type"},{label:"Date",value:"date"},{label:"Modified",value:"modified"},{label:"Random",value:"random"},{label:"Comment count",value:"comment_count"},{label:"Relevance",value:"relevance"},{label:"Menu",value:"menu"},{label:"Custom value",value:"meta_value"},{label:"Custom value number",value:"meta_value_num"}],value:e("orderby"),style:{width:"100%"},onChange:m=>t("orderby",m)}))),a=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field"},"Order by custom field"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",name:"orderby-field",id:"orderby_field",onChange:m=>t("orderby_field",m.target.value),placeholder:"Enter field key",value:e("orderby_field")}))),c=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field_number"},"Order by custom field with numeric value"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",id:"orderby_field_number",name:"orderby-field-number",onChange:m=>t("orderby_field_number",m.target.value),placeholder:"Enter field key",value:e("orderby_field_number")})));return wp.element.createElement("div",{className:"tangible-logic-rule"},l&&r,n&&s,e("orderby")==="meta_value"&&a,e("orderby")==="meta_value_num"&&c)},"Order");var Vt=Object.defineProperty,Ft=b((e,t)=>Vt(e,"name",{value:t,configurable:!0}),"p$3");const{useState:oe,useEffect:ie}=wp.element,Dt=Ft(({initialLoopType:e,initialType:t,setData:l,fields:n})=>{const[r,s]=oe(e||"post"),[a,c]=oe(t);ie(()=>l("loopType",r),[r]),ie(()=>l("type",a),[a]);const m=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label"},"Content type"),wp.element.createElement(N,{labelForEmptyValue:"Choose a Type",options:[{label:"Post",value:"post"}],value:r,onChange:o=>s(o),style:{width:"100%"}}))),d=r==="post"?wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"post_type"},"Fields"),wp.element.createElement(N,{labelForEmptyValue:"Choose Fields",value:a?a.split(","):["null"],options:n,multiSelect:!0,style:{width:"100%"},onChange:o=>o=="null"?c(""):c(o.toString())}))):"";return wp.element.createElement("div",{className:"tangible-logic-rule"},m,d)},"Type");var ce=Object.defineProperty,Rt=Object.defineProperties,Bt=Object.getOwnPropertyDescriptors,se=Object.getOwnPropertySymbols,Lt=Object.prototype.hasOwnProperty,It=Object.prototype.propertyIsEnumerable,me=b((e,t,l)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"h$1"),ue=b((e,t)=>{for(var l in t||(t={}))Lt.call(t,l)&&me(e,l,t[l]);if(se)for(var l of se(t))It.call(t,l)&&me(e,l,t[l]);return e},"u$4"),pe=b((e,t)=>Rt(e,Bt(t)),"b$2"),S=b((e,t)=>ce(e,"name",{value:t,configurable:!0}),"m$3");const{Tangible:Mt,wp:y}=window,{useState:be,useEffect:Jt}=y.element,{allTaxonomies:de={}}=Mt.postQueryControlData,Gt=S(({value:e,initialData:t,save:l,showBtn:n,remove:r})=>{const s=e===1,a=Object.keys(de),[c,m]=be(t);Jt(()=>{l(c)},[c]);const d=S(v=>{const _=de[v];if(_==null||_.length===0)return[];let k=[];return _.forEach(Re=>{k.push({label:Re.name,value:Re.slug})}),k},"getTerms"),o=S(v=>c.hasOwnProperty(v)?c[v]===""?null:c[v]:null,"getParam"),p=S(v=>{O(_=>[]),v.length>0&&O(_=>v)},"updateTerms"),i=S((v,_)=>m(k=>pe(ue({},k),{[v]:_})),"updateParam"),[E,O]=be(c.hasOwnProperty("taxonomy")?d(c.taxonomy):[]),F=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Taxonomy ",!s&&e),y.element.createElement(N,{style:{width:"100%"},labelForEmptyValue:`Taxonomy ${s?"":e}`,options:a.map(v=>({label:v,value:v})),value:o("taxonomy"),onChange:v=>{i("terms",""),i("taxonomy",v);const _=d(v);p(_)}}))),D=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Compare ",!s&&e),y.element.createElement(N,{style:{width:"100%"},labelForEmptyValue:`Compare ${s?"":e}`,options:[{label:"In",value:"in"},{label:"Not",value:"not"},{label:"And",value:"and"},{label:"Exists",value:"exists"},{label:"Not exists",value:"not exists"}],value:c.taxonomy_compare,onChange:v=>i("taxonomy_compare",v)}))),g=o("terms"),C=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Term ",!s&&e),y.element.createElement(N,{style:{width:"100%"},labelForEmptyValue:`Terms ${s?"":e}`,multiSelect:!0,options:E,value:g?g.split(","):["null"],onChange:v=>m(_=>{let k="";return v!="null"&&(k=v.toString()),pe(ue({},_),{terms:k})})})));return y.element.createElement("div",{className:"tangible-logic-rule"},F,D,C,n&&y.element.createElement("button",{id:"logic-button-rule",className:"tangible-components-button is-secondary",type:"button",onClick:r},"Remove"))},"QueryGroup");var Ut=Object.defineProperty,B=b((e,t)=>Ut(e,"name",{value:t,configurable:!0}),"s$3");const{wp:f}=window,{useState:ge,useEffect:ve}=f.element,ye=3,fe=B(({initialData:e,save:t})=>{const[l,n]=ge([]),[r,s]=ge("");ve(()=>{if(!e)return;const o=JSON.parse(e),p=[];if(o.taxonomy_relation&&s(o.taxonomy_relation),!o.taxonomy)return;let i="",E=1;for(;o[`taxonomy${i}`]&&E<=ye&&(i=E!==1?`_${E}`:"",!!o[`taxonomy${i}`]);)p.push({taxonomy:o[`taxonomy${i}`],terms:o[`terms${i}`],taxonomy_compare:o[`taxonomy_compare${i}`]}),E++;n(p)},[]),ve(()=>{const o={};r&&(o.taxonomy_relation=r);for(let p=0;p<l.length;p++){const i=p!==0?`_${p+1}`:"";o[`taxonomy${i}`]=l[p].taxonomy,o[`terms${i}`]=l[p].terms,o[`taxonomy_compare${i}`]=l[p].taxonomy_compare}t(o)},[l,r]);const a=f.element.createElement("div",{className:"tangible-logic-rule tangible-logic-clear"},f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Relation"),f.element.createElement(N,{style:{width:"100%"},labelForEmptyValue:"Choose Relation",options:[{label:"And",value:"and"},{label:"Or",value:"or"}],value:r,onChange:o=>s(o)})))),c=B(()=>{n([...l,{taxonomy:"",terms:"",taxonomy_compare:""}])},"addRow"),m=B((o,p)=>{l[o]=p,n([...l])},"saveRow"),d=B(o=>{n([...l.slice(0,o),...l.slice(o+1)])},"removeRow");return f.element.createElement("div",{className:"tangible-logic-rule-group-box-bordered"},l.length>1&&f.element.createElement("div",{className:"tangible-logic-taxonomy-group"},a),f.element.createElement("div",{className:"tangible-logic-taxonomy-group"},l.length>0&&l.map((o,p)=>f.element.createElement(Gt,{key:p+JSON.stringify(o),value:p+1,initialData:o,showBtn:!0,save:i=>m(p,i),remove:()=>d(p)}))),l.length<ye&&f.element.createElement("div",{className:"tangible-logic-group-actions"},f.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:c},"Add taxonomy filter"),f.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:()=>n([])},"Remove")))},"Taxonomy");var Ee=Object.defineProperty,Qt=Object.defineProperties,Ht=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable,$e=b((e,t,l)=>t in e?Ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"g$1"),we=b((e,t)=>{for(var l in t||(t={}))Wt.call(t,l)&&$e(e,l,t[l]);if(he)for(var l of he(t))qt.call(t,l)&&$e(e,l,t[l]);return e},"y$3"),_e=b((e,t)=>Qt(e,Ht(t)),"m$2"),L=b((e,t)=>Ee(e,"name",{value:t,configurable:!0}),"u$3");const{Tangible:zt,wp:h}=window,{useState:Kt,useEffect:Ce}=h.element,{allPostTypes:Ne={}}=zt.postQueryControlData||{},Xt=L(({initialData:e,save:t,fields:l=[]})=>{const n=l.replace(/\s+/g,"").split(","),r=L(o=>{try{return JSON.parse(o)}catch(p){return{}}},"parseData"),[s,a]=Kt(r(e));Ce(()=>a(r(e)),[e]),Ce(()=>{t(s)},[s]);const c=L(o=>s[o]&&s[o]!==""?s[o]:null,"getData"),m=L((o,p)=>a(i=>o!=="orderby"?_e(we({},i),{[o]:p}):(p!=="meta_value"&&i.orderby_field&&delete i.orderby_field,p!=="meta_value_num"&&i.orderby_field_number&&delete i.orderby_field_number,_e(we({},i),{[o]:p}))),"updateArgs"),d=h.element.createElement(fe,{initialData:s.hasOwnProperty("taxonomies")?JSON.stringify(s.taxonomies):"{}",save:o=>m("taxonomies",o)});return h.element.createElement(h.element.Fragment,null,(n.includes("order")||n.includes("orderby"))&&h.element.createElement("div",{className:"tangible-logic-rule-group-box"},h.element.createElement("h4",{style:{fontWeight:"600"}},"Order"),h.element.createElement(Tt,{getData:c,setData:m,includeOrder:n.includes("order"),includeOrderBy:n.includes("orderby")})),n.includes("type")&&h.element.createElement("div",{className:"tangible-logic-rule-group-box"},h.element.createElement("h4",{style:{fontWeight:"600"}},"Type"),h.element.createElement(Dt,{initialLoopType:c("loopType")!==null?c("loopType"):"post",initialType:c("type"),setData:m,fields:Object.keys(Ne).map(o=>({label:Ne[o],value:o}))})),n.includes("taxonomy")&&h.element.createElement("div",{className:"tangible-logic-rule-group-box"},h.element.createElement("h4",{style:{fontWeight:"600"}},"Filter by Taxonomy"),d))},"PostQuery");var Yt=Object.defineProperty,H=b((e,t)=>Yt(e,"name",{value:t,configurable:!0}),"i$3");const{wp:w}=window,{element:{useEffect:I,useState:M}}=w,{ajax:Zt}=window.Tangible,el=H(({handler:e,initialValue:t,fields:l=[]})=>{const[n,r]=M(t?JSON.parse(t):[]),[s,a]=M(""),[c,m]=M([]),[d,o]=M(!1),p="tangible-block-editor-control-ajax-select",i=l.multiple&&l.multiple==="true";I(()=>{i&&!Array.isArray(n)&&r([n])}),I(()=>{const g={search:s,field:l};Zt(l.ajax_action_name,g).then(C=>m(C)).catch(C=>console.error(C))},[s]),I(()=>e(JSON.stringify(n)),[n]),I(()=>{d===!1&&a("")},[d]);const E=H(g=>{r(i?[...n,g]:[g])},"saveValue"),O=H(g=>{const C=n.filter(v=>v.value!==g.value);r([...C])},"removeValue"),F=Array.isArray(n)?n.map(g=>g.value):[],D=w.element.createElement("span",{className:"dashicons dashicons-no-alt"});return w.element.createElement("div",{className:d?`${p} is-open`:p},i&&Array.isArray(n)?w.element.createElement("ul",{className:p+"-choice"},n.map(g=>w.element.createElement("li",{id:g.name},w.element.createElement("button",{onClick:()=>O(g)},D)," ",w.element.createElement("span",null,g.label)," "))):"",w.element.createElement("input",{type:"text",className:p+"-input",onFocus:()=>o(!0),onBlur:()=>o(!1),onChange:g=>{a(g.target.value)},placeholder:l.placeholder?l.placeholder:"Select",value:!d&&!i&&n[0]?n[0].label:s}),d&&w.element.createElement("ul",{class:p+"-ul"},c?c.map(g=>i&&F.includes(g.value)?"":w.element.createElement("li",{id:g.name,onMouseDown:()=>E(g)},g.label!==""?g.label:w.element.createElement("i",null,"Untitled"))):""))},"AjaxSelect");var xe=Object.defineProperty,Oe=Object.getOwnPropertySymbols,tl=Object.prototype.hasOwnProperty,ll=Object.prototype.propertyIsEnumerable,ke=b((e,t,l)=>t in e?xe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"a$1"),Pe=b((e,t)=>{for(var l in t||(t={}))tl.call(t,l)&&ke(e,l,t[l]);if(Oe)for(var l of Oe(t))ll.call(t,l)&&ke(e,l,t[l]);return e},"s$1"),nl=b((e,t)=>xe(e,"name",{value:t,configurable:!0}),"m");const al=nl((e,t,l,n)=>{switch(e.type){case"post_query":return wp.element.createElement(Xt,{save:a=>t(JSON.stringify(a)),initialData:l,fields:n.include_fields?n.include_fields:"type, order, orderby"});case"taxonomy":return wp.element.createElement(fe,Pe({save:a=>t(JSON.stringify(a)),initialData:l},n));case"select2":const r=n.multiple&&n.multiple==="true",s=typeof l=="string"&&r?l!==""?l.split(","):[]:l!==""?l:null;return wp.element.createElement(N,{labelForEmptyValue:"Choose...",options:n.options?Object.keys(n.options).map(a=>({value:a,label:n.options[a]})):[],onChange:a=>t(a!==null?Array.isArray(a)?a.join(","):a:""),multiSelect:r,value:s,style:{width:"100%"}});case"ajax_select":return wp.element.createElement(el,{handler:t,initialValue:l,fields:n});default:return wp.element.createElement(Nt,Pe({handler:t,initialValue:l},n))}},"getControl");var rl=Object.defineProperty,J=b((e,t)=>rl(e,"name",{value:t,configurable:!0}),"l");const{useState:W,useEffect:je}=wp.element,ol=J(e=>{const{config:t,field:l,builder:n,initialValue:r}=e,s=t.popup,[a,c]=W(n==="beaver-builder"),[m=r,d]=W(),[o=r,p]=W(),i=J(C=>(s||p(C),d(C)),"save");je(()=>e.save(o),[o]),je(()=>{s&&a&&d(o)},[a]);const E={display:"flex",marginBottom:"10px"},O=wp.element.createElement(wp.element.Fragment,null,n==="elementor"&&!s?wp.element.createElement("label",{className:"elementor-control-title",style:E},l.label):"",wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${t.type}`},al(t,i,o,l)));if(!s)return O;const F=J(()=>c(!1),"cancel"),D=J(()=>{c(!1),p(m)},"submit"),g=n!=="beaver-builder"?wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${n}`},n==="elementor"?wp.element.createElement("label",{className:"elementor-control-title",style:E},l.label):"",wp.element.createElement("button",{onClick:()=>c(!a),className:"components-button is-secondary tangible-control-btn"},"Open Settings")):"";return a?wp.element.createElement(wp.element.Fragment,null,g,wp.element.createElement(ht,{submit:D,cancel:F,title:l.label},O)):g},"Control");var il=Object.defineProperty,Se=b((e,t)=>il(e,"name",{value:t,configurable:!0}),"b");const{wp:u,Tangible:cl}=window,{components:{BaseControl:x,Button:A,ButtonGroup:sl,DatePicker:ml,GradientPicker:ul,__experimentalGradientPicker:pl,Icon:T,SelectControl:bl,TextControl:dl,ToggleControl:gl},blockEditor:{MediaUpload:Ae,MediaUploadCheck:Te}}=u,{blockConfig:{controls:Ve}}=cl,Fe=Se(e=>({id:e.id,url:e.url}),"extractMediaFields"),vl=Se((e,t)=>{const l=t.attributes[e.name],n=typeof e.default!="undefined"?e.default:!1,r=`tangible-block-editor-control-${e.type}`;switch(e.type){case"text":return u.element.createElement(dl,{className:r,label:e.label,value:l,onChange:i=>t.setAttributes({[e.name]:i})});case"select":const s=Object.keys(e.options).map(i=>({value:i,label:e.options[i]}));return u.element.createElement(bl,{className:e.multiple?r+"-multiple":r,label:e.label,value:l!==""||!n?l:n,options:s,multiple:e.multiple,onChange:i=>t.setAttributes({[e.name]:i})});case"date":return u.element.createElement(x,{label:e.label,className:r},u.element.createElement(ml,{currentDate:l?new Date(l):new Date,onChange:i=>t.setAttributes({[e.name]:i}),onMonthPreviewed:()=>!0}));case"color":return u.element.createElement(ze,{label:e.label,value:l,defaultValue:n,alpha:e.alpha,onChange:i=>t.setAttributes({[e.name]:i}),className:r});case"align":return l===""&&n&&t.setAttributes({[e.name]:n}),u.element.createElement(x,{label:e.label,className:r},u.element.createElement(sl,{style:{display:"block",marginTop:"10px"}},u.element.createElement(A,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"left"})},u.element.createElement(T,{icon:"editor-alignleft"})),u.element.createElement(A,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"center"})},u.element.createElement(T,{icon:"editor-aligncenter"})),u.element.createElement(A,{variant:"secondary",onClick:()=>t.setAttributes({[e.name]:"right"})},u.element.createElement(T,{icon:"editor-alignright"}))));case"image":return u.element.createElement(x,{className:r},u.element.createElement(Te,null,u.element.createElement(Ae,{onSelect:i=>t.setAttributes({[e.name]:Fe(i)}),allowedTypes:["image"],value:l,render:({open:i})=>u.element.createElement("div",null,u.element.createElement("p",null,e.label),u.element.createElement("img",{src:l.url,style:{width:"150px"}}),u.element.createElement(A,{isSecondary:!0,onClick:i,style:{display:"block",marginTop:"10px"}},u.element.createElement(T,{icon:"upload"}),"  Open Media Library"))})));case"editor":return u.element.createElement(x,{className:r},u.element.createElement("div",null,u.element.createElement("p",null,e.label),u.element.createElement(ct,{value:l,updateVal:i=>t.setAttributes({[e.name]:i})})));case"switch":const a=e.hasOwnProperty("value_on")?e.value_on:"on",c=e.hasOwnProperty("value_off")?e.value_off:"off",m=e.hasOwnProperty("label_on")?e.label_on:"On",d=e.hasOwnProperty("label_off")?e.label_off:"Off";return u.element.createElement(x,{className:r},u.element.createElement(gl,{label:e.label,help:l===a?m:d,checked:l===a,onChange:i=>i?t.setAttributes({[e.name]:a}):t.setAttributes({[e.name]:c})}));case"dimension":return u.element.createElement(lt,{className:r,value:l,label:e.label,units:e.units?e.units.replace(/ /g,"").split(","):"",defaultUnit:e.default_unit?e.default_unit:"px",onChange:i=>t.setAttributes({[e.name]:i}),multipleValues:e.multiple_values?e.multiple_values:!0});case"gallery":let o=[];return l&&l.forEach((i,E)=>{o[E]=i.id?i.id:i}),u.element.createElement(x,{className:r},u.element.createElement(Te,null,u.element.createElement(Ae,{onSelect:i=>t.setAttributes({[e.name]:i.map(Fe)}),allowedTypes:["image"],value:o,gallery:!0,multiple:!0,render:({open:i})=>u.element.createElement("div",null,u.element.createElement("p",null,e.label),u.element.createElement(A,{isSecondary:!0,onClick:i,style:{display:"block",marginTop:"10px"}},u.element.createElement(T,{icon:"upload"}),"  Open Media Library"))})));case"number":return u.element.createElement(x,{className:r},u.element.createElement("div",null,u.element.createElement("p",null,e.label),u.element.createElement(yt,{className:r,value:l,min:e.min?e.min:!1,max:e.max?e.max:!1,onChange:i=>{t.setAttributes({[e.name]:i})}})));case"gradient":let p=pl||ul;return u.element.createElement(x,null,u.element.createElement("p",null,e.label),u.element.createElement(p,{value:l,onChange:i=>{t.setAttributes({[e.name]:i})},gradients:[{name:"Vivid cyan blue to vivid purple",gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:"Light green cyan to vivid green cyan",gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:"Luminous vivid amber to luminous vivid orange",gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"}]}))}if(Ve[e.type]){const s=Ve[e.type];return u.element.createElement(x,{label:e.label,className:r},u.element.createElement(ol,{config:s,initialValue:l,builder:"gutenberg",field:e,save:a=>t.setAttributes({[e.name]:a})}))}},"getField");var yl=Object.defineProperty,q=b((e,t)=>yl(e,"name",{value:t,configurable:!0}),"s");const{wp:$,Tangible:fl}=window,{blockEditor:{InspectorControls:El},blocks:{registerBlockType:hl},components:{Panel:$l,PanelBody:wl,PanelRow:_l},element:{useState:Cl},i18n:{__:Sl},serverSideRender:Nl}=$,{blockConfig:V,moduleLoader:xl,ServerSideRender:Ol=Nl}=fl,kl=q(e=>{const t=`${V.package}/${e.universal_id?"block-"+e.universal_id:e.name}`;hl(t,{title:e.label,description:e.description?e.description:"",category:V.category,sections:e.sections,icon:V.icon,edit(l){const{block_id:n}=l.attributes,[r,s]=Cl(e.tabs[0]),a=new Q(V.conditions[e.content_id]),c=q(m=>Number.isInteger(l.attributes[m])?l.attributes[m].toString():l.attributes[m],"getFieldValue");return n||l.setAttributes({block_id:l.clientId}),l.attributes.current_post_id||l.setAttributes({current_post_id:V.current_post_id}),$.element.createElement($.element.Fragment,null,$.element.createElement(El,null,e.tabs.length>1&&$.element.createElement("div",{className:"tangible-block-editor-tabs"},e.tabs.map((m,d)=>(m.name===r.name||a.evaluateConditions(m.conditions,c))&&$.element.createElement("div",{key:`tab-${m.name}`,className:"tangible-block-editor-tab components-button edit-post-sidebar__panel-tab"+(m.name===r.name?" is-active":""),onClick:()=>s(m)},$.element.createElement("p",null,m.label==="default"?"Content":m.label)))),r.sections.map((m,d)=>a.evaluateConditions(m.conditions,c)&&$.element.createElement($l,{key:`${m.name}-panel-${d}`,className:"tangible-block-editor-section"},$.element.createElement(wl,{title:m.label,initialOpen:d===0},m.fields.map(o=>a.evaluateConditions(o.conditions,c)&&$.element.createElement(_l,null,vl(o,l))))))),$.element.createElement(Ol,{block:t,attributes:l.attributes,EmptyResponsePlaceholder:De,LoadingResponsePlaceholder:De,onFetchResponseRendered:m=>{xl(m)}}))},save(){return null}})},"createBlock"),De=q(()=>$.element.createElement("div",{className:"tangible-loop-block"},"\xA0"),"EmptyLoopBlock"),{blocks:Pl}=window.Tangible;Pl.map(e=>kl(e))})();
//# sourceMappingURL=gutenberg-integration.min.js.map
