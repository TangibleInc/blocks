var Xl=Object.defineProperty;var d=(H,W)=>Xl(H,"name",{value:W,configurable:!0});(function(){"use strict";(function(){const e={env:{NODE_ENV:"production"}};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,e);return}}catch(t){}globalThis.process={env:e}})();var H=Object.defineProperty,W=d((e,t)=>H(e,"name",{value:t,configurable:!0}),"l$7");class q{constructor(t){this.conditionsMap=t||[],this.getPreviousLevels=this.getPreviousLevels.bind(this),this.getCondition=this.getCondition.bind(this)}evaluateConditions(t,l){let n=!0;if(!t||!Array.isArray(t))return n;for(const o of t){const i=this.getCondition(o);if(!this.evaluateCondition(i,l))return!1}return n}getCondition(t){const l=t.split("-"),n=parseInt(l[0]),o=parseInt(l[1]);return{number:n,level:o,current:this.conditionsMap[n][o],previousLevels:this.getPreviousLevels(n,o)}}getPreviousLevels(t,l){if(l===0)return[];let n=0;const o=[];for(;n<l;)o.push(this.conditionsMap[t][n]),n++;return o}extractComparisons(t){const l=[];for(const n in t)if(!(n==="compare"||n.slice(0,8)==="compare_"||n==="value"||n.slice(0,6)==="value_")){if(n==="control"||n.slice(0,8)==="control_"){const o=t[n],[i,a=0]=n.split("_");l.push({field:o,value:t[`value${a?"_"+a:""}`],compare:t[`compare${a?"_"+a:""}`]});continue}l.push({field:n,value:t[n]})}return l}evaluateCondition(t,l){let n=!0;for(const i of t.previousLevels){const a=this.extractComparisons(i);for(const{field:r,value:u,compare:m}of a){const c=l(r);if(this.compare(c,u,m))return!1}}const o=this.extractComparisons(t.current);for(const{field:i,value:a,compare:r}of o){const u=l(i);if(!this.compare(u,a,r))return!1}return n}compare(t,l,n="is"){let o=!1;switch(n){case"is":case"equal":case"not":default:o=t===l,n==="not"&&(o=!o);break}return o}}d(q,"u$7"),W(q,"ControlVisibility");var Qe=Object.defineProperty,T=d((e,t)=>Qe(e,"name",{value:t,configurable:!0}),"e$1");const He=T(e=>/^#([A-Fa-f0-9]{3,4}){1,2}$/.test(e)||/^([A-Fa-f0-9]{3,4}){1,2}$/.test(e),"isHex"),We=T((e,t)=>{const l=Math.floor((e.length-1)/3),n=qe(e.slice(1),l),[o,i,a,r]=n.map(ze);return`rgba(${o}, ${i}, ${a}, ${Ke(r)})`},"hexToRGBA"),qe=T((e,t)=>e.match(new RegExp(`.{${t}}`,"g")),"getChunksFromString"),ze=T(e=>parseInt(e.repeat(2/e.length),16),"convertHexUnitTo256"),Ke=T(e=>typeof e!="undefined"?parseFloat(e/255).toFixed(2):1,"getAlphafloat");var Xe=Object.defineProperty,Ye=d((e,t)=>Xe(e,"name",{value:t,configurable:!0}),"n$5");const{wp:F}=window,{components:{BaseControl:Ze,ColorPicker:et},element:{useEffect:tt}}=F,lt=Ye(e=>{const t=e.value===""&&e.defaultValue!==!1?He(e.defaultValue)?We(e.defaultValue):e.defaultValue:e.value;return tt(()=>e.onChange(t),[]),F.element.createElement(Ze,{className:e.className},F.element.createElement("div",null,F.element.createElement("p",null,e.label),F.element.createElement(et,{style:{display:"block",marginTop:"10px"},color:t,onChangeComplete:l=>{const n=e.alpha===!1?`rgb(${l.rgb.r}, ${l.rgb.g}, ${l.rgb.b})`:`rgba(${l.rgb.r}, ${l.rgb.g}, ${l.rgb.b}, ${l.rgb.a})`;e.onChange(n)},disableAlpha:e.alpha===!1||e.alpha==="false"})))},"Color");var nt=Object.defineProperty,at=d((e,t)=>nt(e,"name",{value:t,configurable:!0}),"u$6");const{wp:B}=window,{components:{BaseControl:rt,__experimentalBoxControl:ot,SelectControl:ct},element:{useEffect:it,useState:X}}=B,mt=at(e=>{const[t,l]=X(e.value),[n,o]=X(e.value.unit?e.value.unit:e.defaultUnit),i=e.multipleValues!=="false"?e.className:`${e.className} ${e.className}-single-value`,a=[];for(let r in e.units)a.push({value:e.units[r],label:e.units[r]});return it(()=>{const r={top:t.top?t.top.replace(/[^0-9]/g,""):"",right:t.right?t.right.replace(/[^0-9]/g,""):"",bottom:t.bottom?t.bottom.replace(/[^0-9]/g,""):"",left:t.left?t.left.replace(/[^0-9]/g,""):"",unit:n};e.onChange(r)},[t,n]),B.element.createElement(rt,{className:i},B.element.createElement(ot,{label:e.label,values:e.multipleValues!=="false"?t:{top:t.top},units:[{value:"px",label:"px"}],onChange:r=>l(r),sides:e.multipleValues!=="false"?[]:["top"]}),B.element.createElement(ct,{onChange:r=>o(r),value:n,label:"Unit",options:a}))},"Dimension");var Y=Object.defineProperty,st=Object.defineProperties,ut=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,pt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,ee=d((e,t,l)=>t in e?Y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"l$4"),te=d((e,t)=>{for(var l in t||(t={}))pt.call(t,l)&&ee(e,l,t[l]);if(Z)for(var l of Z(t))bt.call(t,l)&&ee(e,l,t[l]);return e},"n$3"),dt=d((e,t)=>st(e,ut(t)),"v$3"),vt=d((e,t)=>Y(e,"name",{value:t,configurable:!0}),"i$a");const{wp:le}=window,{element:{useEffect:gt,useState:yt}}=le,ft=vt(e=>{const[t,l]=yt(e.value?e.value:0);return gt(()=>{e.onChange(t)},[t]),le.element.createElement("input",dt(te(te({type:"number",value:t},e.min&&{min:e.min}),e.max&&{max:e.max}),{onChange:n=>{l(n.target.value!==""?parseInt(n.target.value):0)}}))},"Number");var ne=Object.defineProperty,ae=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable,re=d((e,t,l)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"c$3"),ht=d((e,t)=>{for(var l in t||(t={}))Et.call(t,l)&&re(e,l,t[l]);if(ae)for(var l of ae(t))$t.call(t,l)&&re(e,l,t[l]);return e},"d$5"),wt=d((e,t)=>ne(e,"name",{value:t,configurable:!0}),"p$4");const _t=wt((e,t)=>{switch(t.type){case"add":return[...e,ht({},t.structure)];case"remove":return[...e.slice(0,t.item),...e.slice(t.item+1)];case"update":return e[t.item][t.control]=t.value,[...e];case"clear":return[];default:return e}},"reducer");var Ct=Object.defineProperty,Nt=d((e,t)=>Ct(e,"name",{value:t,configurable:!0}),"c$2");const{wp:E}=window,{components:{Button:I,ButtonGroup:oe,Card:xt,CardBody:Ot,CardHeader:kt,CardFooter:Pt},element:{useState:jt,useReducer:St,useEffect:Tt}}=E,Ft=Nt(e=>{const[t,l]=St(_t,e.value),[n,o]=jt(!1);return Tt(()=>e.onChange(t),[t]),E.element.createElement(E.element.Fragment,null,t.map((i,a)=>E.element.createElement(xt,null,E.element.createElement(kt,null,E.element.createElement("strong",null,"Item ",a+1)),n===a&&e.controls.map(r=>{var u;return E.element.createElement(Ot,null,Ge(r,(u=i[r.name])!=null?u:"",m=>l({type:"update",item:a,control:r.name,value:m[r.name]})))}),E.element.createElement(Pt,null,E.element.createElement(oe,null,E.element.createElement(I,{onClick:()=>o(a!==n?a:!1),variant:"secondary"},n!==a?"Edit":"Close"),E.element.createElement(I,{onClick:()=>l({type:"remove",item:a}),variant:"secondary",isDestructive:!0},"Delete"))))),E.element.createElement(oe,{style:{display:"flex",marginTop:"10px",justifyContent:"right"}},E.element.createElement(I,{onClick:()=>l({type:"add",controls:e.controls,structure:e.structure}),variant:"secondary"},"Add"),E.element.createElement(I,{onClick:()=>l({type:"clear"}),variant:"secondary",isDestructive:!0},"Clear")))},"Repeater");var Vt=Object.defineProperty,Dt=d((e,t)=>Vt(e,"name",{value:t,configurable:!0}),"u$5");const{wp:ce}=window,{element:{useEffect:At,useRef:Rt,useState:Bt}}=ce,It=Dt(e=>{const t=Rt(null),[l,n]=Bt(e.value);return At(()=>{tinyMCE.init({target:t.current,setup:function(o){o.on("input",function(i){e.updateVal(o.getContent())}),o.on("ExecCommand",function(i){e.updateVal(o.getContent())})}})},[]),ce.element.createElement("textarea",{ref:t},l)},"TextArea");var Lt=Object.defineProperty,Mt=d((e,t)=>Lt(e,"name",{value:t,configurable:!0}),"i$7");const Gt=Mt(e=>wp.element.createElement("div",{id:"tangible-logic-root",className:"tangible-logic-open"},wp.element.createElement("div",{className:"tangible-logic-modal"},wp.element.createElement("div",{className:"tangible-logic-header"},wp.element.createElement("div",{className:"tangible-logic-title"},e.title?e.title:""),wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button has-icon",type:"button","aria-label":"Close dialog",onClick:e.cancel},wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})))),wp.element.createElement("div",{className:"tangible-logic-rule-group"},e.children),wp.element.createElement("div",{className:"tangible-logic-actions tangible-logic-clear"},wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button is-tertiary",type:"button",onClick:e.cancel},"Cancel"),wp.element.createElement("button",{id:"logic-button-add-logic",className:"tangible-components-button is-primary",type:"button",onClick:e.submit},"Save")))),"Modal");var Jt=Object.defineProperty,Ut=d((e,t)=>Jt(e,"name",{value:t,configurable:!0}),"n$2");const{wp:ie}=window,{useState:Qt,useEffect:Ht}=ie.element,Wt=Ut(e=>{const[t,l]=Qt(e.initialValue);return Ht(()=>e.handler(t),[t]),ie.element.createElement("input",{type:"text",value:t,onChange:n=>l(n.target.value)})},"Text");var me=Object.defineProperty,se=Object.getOwnPropertySymbols,qt=Object.prototype.hasOwnProperty,zt=Object.prototype.propertyIsEnumerable,ue=d((e,t,l)=>t in e?me(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"a$4"),Kt=d((e,t)=>{for(var l in t||(t={}))qt.call(t,l)&&ue(e,l,t[l]);if(se)for(var l of se(t))zt.call(t,l)&&ue(e,l,t[l]);return e},"f$2"),Xt=d((e,t)=>me(e,"name",{value:t,configurable:!0}),"g$3");const{jQuery:Yt}=window,k=Xt(({labelForEmptyValue:e="",options:t=[],value:l="",onChange:n,multiSelect:o,style:i})=>{const a=wp.element.useRef();if(wp.element.useEffect(()=>{if(!a.current)return;const r=Yt(a.current);a.current.$el=r,n(l),r.tangibleSelect({minimumResultsForSearch:5}),o&&(r.val(l),r.trigger("change")),r.on("change",function(m){if(!o&&!a.current._silentChange){n(m.target.value);return}if(!a.current||a.current._silentChange)return;const c=r.select2("data").map(p=>p.id);n(c)});const u=a.current.select2=r.data("select2");return()=>{u&&u.destroy()}},[]),a.current&&a.current.$el)if(o){const r=a.current.$el.val();l.length!==r.length&&t.length&&setImmediate(function(){!a.current||!a.current.$el||(a.current.$el.val(l),a.current.$el.trigger("change"))})}else a.current.value!==l&&(a.current._silentChange=!0,a.current.$el.val(l),a.current.$el.trigger("change"),setImmediate(function(){a.current._silentChange=!1}));return wp.element.createElement("select",{ref:a,autoComplete:"off",multiple:o,style:Kt({display:"none",width:"160px"},i)},e&&wp.element.createElement("option",{value:"",disabled:!0,selected:l==null},e),t.map((r,u)=>wp.element.createElement("option",{key:`option-${u}`,value:r.value,selected:r.value===l},r.label)))},"Select");var Zt=Object.defineProperty,el=d((e,t)=>Zt(e,"name",{value:t,configurable:!0}),"a$3");const tl=el(({getData:e,setData:t,includeOrder:l,includeOrderBy:n})=>{const o=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"order"},"Order"),wp.element.createElement(k,{labelForEmptyValue:"Choose Order",options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],value:e("order"),style:{width:"100%"},onChange:u=>t("order",u)}))),i=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby"},"Order by"),wp.element.createElement(k,{labelForEmptyValue:"Order by",options:[{label:"Title",value:"title"},{label:"ID",value:"id"},{label:"Author",value:"author"},{label:"Name",value:"name"},{label:"Type",value:"type"},{label:"Date",value:"date"},{label:"Modified",value:"modified"},{label:"Random",value:"random"},{label:"Comment count",value:"comment_count"},{label:"Relevance",value:"relevance"},{label:"Menu",value:"menu"},{label:"Custom value",value:"meta_value"},{label:"Custom value number",value:"meta_value_num"}],value:e("orderby"),style:{width:"100%"},onChange:u=>t("orderby",u)}))),a=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field"},"Order by custom field"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",name:"orderby-field",id:"orderby_field",onChange:u=>t("orderby_field",u.target.value),placeholder:"Enter field key",value:e("orderby_field")}))),r=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field_number"},"Order by custom field with numeric value"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",id:"orderby_field_number",name:"orderby-field-number",onChange:u=>t("orderby_field_number",u.target.value),placeholder:"Enter field key",value:e("orderby_field_number")})));return wp.element.createElement("div",{className:"tangible-logic-rule"},l&&o,n&&i,e("orderby")==="meta_value"&&a,e("orderby")==="meta_value_num"&&r)},"Order");var ll=Object.defineProperty,nl=d((e,t)=>ll(e,"name",{value:t,configurable:!0}),"p$2");const{useState:pe,useEffect:be}=wp.element,al=nl(({initialLoopType:e,initialType:t,setData:l,fields:n})=>{const[o,i]=pe(e||"post"),[a,r]=pe(t);be(()=>l("loopType",o),[o]),be(()=>l("type",a),[a]);const u=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label"},"Content type"),wp.element.createElement(k,{labelForEmptyValue:"Choose a Type",options:[{label:"Post",value:"post"}],value:o,onChange:c=>i(c),style:{width:"100%"}}))),m=o==="post"?wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"post_type"},"Fields"),wp.element.createElement(k,{labelForEmptyValue:"Choose Fields",value:a?a.split(","):["null"],options:n,multiSelect:!0,style:{width:"100%"},onChange:c=>c=="null"?r(""):r(c.toString())}))):"";return wp.element.createElement("div",{className:"tangible-logic-rule"},u,m)},"Type");var de=Object.defineProperty,rl=Object.defineProperties,ol=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,cl=Object.prototype.hasOwnProperty,il=Object.prototype.propertyIsEnumerable,ge=d((e,t,l)=>t in e?de(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"h$3"),ye=d((e,t)=>{for(var l in t||(t={}))cl.call(t,l)&&ge(e,l,t[l]);if(ve)for(var l of ve(t))il.call(t,l)&&ge(e,l,t[l]);return e},"u$3"),fe=d((e,t)=>rl(e,ol(t)),"b$1"),V=d((e,t)=>de(e,"name",{value:t,configurable:!0}),"m$4");const{Tangible:ml,wp:f}=window,{useState:Ee,useEffect:sl}=f.element,{allTaxonomies:$e={}}=ml.postQueryControlData,ul=V(({value:e,initialData:t,save:l,showBtn:n,remove:o})=>{const i=e===1,a=Object.keys($e),[r,u]=Ee(t);sl(()=>{l(r)},[r]);const m=V(y=>{const N=$e[y];if(N==null||N.length===0)return[];let S=[];return N.forEach(Ue=>{S.push({label:Ue.name,value:Ue.slug})}),S},"getTerms"),c=V(y=>r.hasOwnProperty(y)?r[y]===""?null:r[y]:null,"getParam"),p=V(y=>{P(N=>[]),y.length>0&&P(N=>y)},"updateTerms"),v=V((y,N)=>u(S=>fe(ye({},S),{[y]:N})),"updateParam"),[$,P]=Ee(r.hasOwnProperty("taxonomy")?m(r.taxonomy):[]),b=f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Taxonomy ",!i&&e),f.element.createElement(k,{style:{width:"100%"},labelForEmptyValue:`Taxonomy ${i?"":e}`,options:a.map(y=>({label:y,value:y})),value:c("taxonomy"),onChange:y=>{v("terms",""),v("taxonomy",y);const N=m(y);p(N)}}))),j=f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Compare ",!i&&e),f.element.createElement(k,{style:{width:"100%"},labelForEmptyValue:`Compare ${i?"":e}`,options:[{label:"In",value:"in"},{label:"Not",value:"not"},{label:"And",value:"and"},{label:"Exists",value:"exists"},{label:"Not exists",value:"not exists"}],value:r.taxonomy_compare,onChange:y=>v("taxonomy_compare",y)}))),g=c("terms"),O=f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Term ",!i&&e),f.element.createElement(k,{style:{width:"100%"},labelForEmptyValue:`Terms ${i?"":e}`,multiSelect:!0,options:$,value:g?g.split(","):["null"],onChange:y=>u(N=>{let S="";return y!="null"&&(S=y.toString()),fe(ye({},N),{terms:S})})})));return f.element.createElement("div",{className:"tangible-logic-rule"},b,j,O,n&&f.element.createElement("button",{id:"logic-button-rule",className:"tangible-components-button is-secondary",type:"button",onClick:o},"Remove"))},"QueryGroup");var pl=Object.defineProperty,L=d((e,t)=>pl(e,"name",{value:t,configurable:!0}),"s$3");const{wp:h}=window,{useState:he,useEffect:we}=h.element,_e=3,Ce=L(({initialData:e,save:t})=>{const[l,n]=he([]),[o,i]=he("");we(()=>{if(!e)return;const c=JSON.parse(e),p=[];if(c.taxonomy_relation&&i(c.taxonomy_relation),!c.taxonomy)return;let v="",$=1;for(;c[`taxonomy${v}`]&&$<=_e&&(v=$!==1?`_${$}`:"",!!c[`taxonomy${v}`]);)p.push({taxonomy:c[`taxonomy${v}`],terms:c[`terms${v}`],taxonomy_compare:c[`taxonomy_compare${v}`]}),$++;n(p)},[]),we(()=>{const c={};o&&(c.taxonomy_relation=o);for(let p=0;p<l.length;p++){const v=p!==0?`_${p+1}`:"";c[`taxonomy${v}`]=l[p].taxonomy,c[`terms${v}`]=l[p].terms,c[`taxonomy_compare${v}`]=l[p].taxonomy_compare}t(c)},[l,o]);const a=h.element.createElement("div",{className:"tangible-logic-rule tangible-logic-clear"},h.element.createElement("div",{className:"tangible-components-control"},h.element.createElement("div",{className:"tangible-components-control__field"},h.element.createElement("label",{className:"tangible-components-control__label"},"Relation"),h.element.createElement(k,{style:{width:"100%"},labelForEmptyValue:"Choose Relation",options:[{label:"And",value:"and"},{label:"Or",value:"or"}],value:o,onChange:c=>i(c)})))),r=L(()=>{n([...l,{taxonomy:"",terms:"",taxonomy_compare:""}])},"addRow"),u=L((c,p)=>{l[c]=p,n([...l])},"saveRow"),m=L(c=>{n([...l.slice(0,c),...l.slice(c+1)])},"removeRow");return h.element.createElement("div",{className:"tangible-logic-rule-group-box-bordered"},l.length>1&&h.element.createElement("div",{className:"tangible-logic-taxonomy-group"},a),h.element.createElement("div",{className:"tangible-logic-taxonomy-group"},l.length>0&&l.map((c,p)=>h.element.createElement(ul,{key:p+JSON.stringify(c),value:p+1,initialData:c,showBtn:!0,save:v=>u(p,v),remove:()=>m(p)}))),l.length<_e&&h.element.createElement("div",{className:"tangible-logic-group-actions"},h.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:r},"Add taxonomy filter"),h.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:()=>n([])},"Remove")))},"Taxonomy");var Ne=Object.defineProperty,bl=Object.defineProperties,dl=Object.getOwnPropertyDescriptors,xe=Object.getOwnPropertySymbols,vl=Object.prototype.hasOwnProperty,gl=Object.prototype.propertyIsEnumerable,Oe=d((e,t,l)=>t in e?Ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"g$2"),ke=d((e,t)=>{for(var l in t||(t={}))vl.call(t,l)&&Oe(e,l,t[l]);if(xe)for(var l of xe(t))gl.call(t,l)&&Oe(e,l,t[l]);return e},"y$1"),Pe=d((e,t)=>bl(e,dl(t)),"m$3"),M=d((e,t)=>Ne(e,"name",{value:t,configurable:!0}),"u$2");const{Tangible:yl,wp:w}=window,{useState:fl,useEffect:je}=w.element,{allPostTypes:Se={}}=yl.postQueryControlData||{},El=M(({initialData:e,save:t,fields:l=[]})=>{const n=l.replace(/\s+/g,"").split(","),o=M(c=>{try{return JSON.parse(c)}catch(p){return{}}},"parseData"),[i,a]=fl(o(e));je(()=>a(o(e)),[e]),je(()=>{t(i)},[i]);const r=M(c=>i[c]&&i[c]!==""?i[c]:null,"getData"),u=M((c,p)=>a(v=>c!=="orderby"?Pe(ke({},v),{[c]:p}):(p!=="meta_value"&&v.orderby_field&&delete v.orderby_field,p!=="meta_value_num"&&v.orderby_field_number&&delete v.orderby_field_number,Pe(ke({},v),{[c]:p}))),"updateArgs"),m=w.element.createElement(Ce,{initialData:i.hasOwnProperty("taxonomies")?JSON.stringify(i.taxonomies):"{}",save:c=>u("taxonomies",c)});return w.element.createElement(w.element.Fragment,null,(n.includes("order")||n.includes("orderby"))&&w.element.createElement("div",{className:"tangible-logic-rule-group-box"},w.element.createElement("h4",{style:{fontWeight:"600"}},"Order"),w.element.createElement(tl,{getData:r,setData:u,includeOrder:n.includes("order"),includeOrderBy:n.includes("orderby")})),n.includes("type")&&w.element.createElement("div",{className:"tangible-logic-rule-group-box"},w.element.createElement("h4",{style:{fontWeight:"600"}},"Type"),w.element.createElement(al,{initialLoopType:r("loopType")!==null?r("loopType"):"post",initialType:r("type"),setData:u,fields:Object.keys(Se).map(c=>({label:Se[c],value:c}))})),n.includes("taxonomy")&&w.element.createElement("div",{className:"tangible-logic-rule-group-box"},w.element.createElement("h4",{style:{fontWeight:"600"}},"Filter by Taxonomy"),m))},"PostQuery");var $l=Object.defineProperty,z=d((e,t)=>$l(e,"name",{value:t,configurable:!0}),"i$3");const{wp:C}=window,{element:{useEffect:G,useState:J}}=C,{ajax:hl}=window.Tangible,wl=z(({handler:e,initialValue:t,fields:l=[]})=>{const[n,o]=J(t?JSON.parse(t):[]),[i,a]=J(""),[r,u]=J([]),[m,c]=J(!1),p="tangible-block-editor-control-ajax-select",v=l.multiple&&l.multiple==="true";G(()=>{v&&!Array.isArray(n)&&o([n])}),G(()=>{const g={search:i,field:l};hl(l.ajax_action_name,g).then(O=>u(O)).catch(O=>console.error(O))},[i]),G(()=>e(JSON.stringify(n)),[n]),G(()=>{m===!1&&a("")},[m]);const $=z(g=>{o(v?[...n,g]:[g])},"saveValue"),P=z(g=>{const O=n.filter(y=>y.value!==g.value);o([...O])},"removeValue"),b=Array.isArray(n)?n.map(g=>g.value):[],j=C.element.createElement("span",{className:"dashicons dashicons-no-alt"});return C.element.createElement("div",{className:m?`${p} is-open`:p},v&&Array.isArray(n)?C.element.createElement("ul",{className:p+"-choice"},n.map(g=>C.element.createElement("li",{id:g.name},C.element.createElement("button",{onClick:()=>P(g)},j)," ",C.element.createElement("span",null,g.label)," "))):"",C.element.createElement("input",{type:"text",className:p+"-input",onFocus:()=>c(!0),onBlur:()=>c(!1),onChange:g=>{a(g.target.value)},placeholder:l.placeholder?l.placeholder:"Select",value:!m&&!v&&n[0]?n[0].label:i}),m&&C.element.createElement("ul",{class:p+"-ul"},r?r.map(g=>v&&b.includes(g.value)?"":C.element.createElement("li",{id:g.name,onMouseDown:()=>$(g)},g.label!==""?g.label:C.element.createElement("i",null,"Untitled"))):""))},"AjaxSelect");var Te=Object.defineProperty,Fe=Object.getOwnPropertySymbols,_l=Object.prototype.hasOwnProperty,Cl=Object.prototype.propertyIsEnumerable,Ve=d((e,t,l)=>t in e?Te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l,"a$1"),De=d((e,t)=>{for(var l in t||(t={}))_l.call(t,l)&&Ve(e,l,t[l]);if(Fe)for(var l of Fe(t))Cl.call(t,l)&&Ve(e,l,t[l]);return e},"s$1"),Nl=d((e,t)=>Te(e,"name",{value:t,configurable:!0}),"m$1");const xl=Nl((e,t,l,n)=>{switch(e.type){case"post_query":return wp.element.createElement(El,{save:a=>t(JSON.stringify(a)),initialData:l,fields:n.include_fields?n.include_fields:"type, order, orderby"});case"taxonomy":return wp.element.createElement(Ce,De({save:a=>t(JSON.stringify(a)),initialData:l},n));case"select2":const o=n.multiple&&n.multiple==="true",i=typeof l=="string"&&o?l!==""?l.split(","):[]:l!==""?l:null;return wp.element.createElement(k,{labelForEmptyValue:"Choose...",options:n.options?Object.keys(n.options).map(a=>({value:a,label:n.options[a]})):[],onChange:a=>t(a!==null?Array.isArray(a)?a.join(","):a:""),multiSelect:o,value:i,style:{width:"100%"}});case"ajax_select":return wp.element.createElement(wl,{handler:t,initialValue:l,fields:n});default:return wp.element.createElement(Wt,De({handler:t,initialValue:l},n))}},"getControl");var Ol=Object.defineProperty,U=d((e,t)=>Ol(e,"name",{value:t,configurable:!0}),"l");const{useState:K,useEffect:Ae}=wp.element,kl=U(e=>{const{config:t,field:l,builder:n,initialValue:o}=e,i=t.popup,[a,r]=K(n==="beaver-builder"),[u=o,m]=K(),[c=o,p]=K(),v=U(O=>(i||p(O),m(O)),"save");Ae(()=>e.save(c),[c]),Ae(()=>{i&&a&&m(c)},[a]);const $={display:"flex",marginBottom:"10px"},P=wp.element.createElement(wp.element.Fragment,null,n==="elementor"&&!i?wp.element.createElement("label",{className:"elementor-control-title",style:$},l.label):"",wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${t.type}`},xl(t,v,c,l)));if(!i)return P;const b=U(()=>r(!1),"cancel"),j=U(()=>{r(!1),p(u)},"submit"),g=n!=="beaver-builder"?wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${n}`},n==="elementor"?wp.element.createElement("label",{className:"elementor-control-title",style:$},l.label):"",wp.element.createElement("button",{onClick:()=>r(!a),className:"components-button is-secondary tangible-control-btn"},"Open Settings")):"";return a?wp.element.createElement(wp.element.Fragment,null,g,wp.element.createElement(Gt,{submit:j,cancel:b,title:l.label},P)):g},"Control");var Pl=Object.defineProperty,Re=d((e,t)=>Pl(e,"name",{value:t,configurable:!0}),"g");const{wp:s,Tangible:jl}=window,{components:{BaseControl:x,Button:D,ButtonGroup:Sl,DatePicker:Tl,GradientPicker:Fl,__experimentalGradientPicker:Vl,Icon:A,SelectControl:Dl,TextControl:Al,ToggleControl:Rl},blockEditor:{MediaUpload:Be,MediaUploadCheck:Ie}}=s,{blockConfig:{controls:Le}}=jl,Me=Re(e=>({id:e.id,url:e.url}),"extractMediaFields"),Ge=Re((e,t,l)=>{var n,o,i;const a=typeof e.default!="undefined"?e.default:!1,r=`tangible-block-editor-control-${e.type}`;switch(e.type){case"text":return s.element.createElement(Al,{className:r,label:e.label,value:t,onChange:b=>l({[e.name]:b})});case"select":const u=Object.keys((n=e.options)!=null?n:[]).map(b=>({value:b,label:e.options[b]}));return s.element.createElement(Dl,{className:e.multiple?r+"-multiple":r,label:e.label,value:t!==""||!a?t:a,options:u,multiple:e.multiple,onChange:b=>l({[e.name]:b})});case"date":return s.element.createElement(x,{label:e.label,className:r},s.element.createElement(Tl,{currentDate:t?new Date(t):new Date,onChange:b=>l({[e.name]:b}),onMonthPreviewed:()=>!0}));case"color":return s.element.createElement(lt,{label:e.label,value:t,defaultValue:a,alpha:e.alpha,onChange:b=>l({[e.name]:b}),className:r});case"align":return t===""&&a&&l({[e.name]:a}),s.element.createElement(x,{label:e.label,className:r},s.element.createElement(Sl,{style:{display:"block",marginTop:"10px"}},s.element.createElement(D,{variant:"secondary",onClick:()=>l({[e.name]:"left"})},s.element.createElement(A,{icon:"editor-alignleft"})),s.element.createElement(D,{variant:"secondary",onClick:()=>l({[e.name]:"center"})},s.element.createElement(A,{icon:"editor-aligncenter"})),s.element.createElement(D,{variant:"secondary",onClick:()=>l({[e.name]:"right"})},s.element.createElement(A,{icon:"editor-alignright"}))));case"image":return s.element.createElement(x,{className:r},s.element.createElement(Ie,null,s.element.createElement(Be,{onSelect:b=>l({[e.name]:Me(b)}),allowedTypes:["image"],value:t,render:({open:b})=>s.element.createElement("div",null,s.element.createElement("p",null,e.label),s.element.createElement("img",{src:t.url,style:{width:"150px"}}),s.element.createElement(D,{isSecondary:!0,onClick:b,style:{display:"block",marginTop:"10px"}},s.element.createElement(A,{icon:"upload"}),"  Open Media Library"))})));case"editor":return s.element.createElement(x,{className:r},s.element.createElement("div",null,s.element.createElement("p",null,e.label),s.element.createElement(It,{value:t,updateVal:b=>l({[e.name]:b})})));case"switch":const m=e.hasOwnProperty("value_on")?e.value_on:"on",c=e.hasOwnProperty("value_off")?e.value_off:"off",p=e.hasOwnProperty("label_on")?e.label_on:"On",v=e.hasOwnProperty("label_off")?e.label_off:"Off";return s.element.createElement(x,{className:r},s.element.createElement(Rl,{label:e.label,help:t===m?p:v,checked:t===m,onChange:b=>l({[e.name]:b?m:c})}));case"dimension":return s.element.createElement(mt,{className:r,value:t,label:e.label,units:e.units?e.units.replace(/ /g,"").split(","):"",defaultUnit:e.default_unit?e.default_unit:"px",onChange:b=>l({[e.name]:b}),multipleValues:e.multiple_values?e.multiple_values:!0});case"gallery":const $=[];return t&&t.forEach((b,j)=>{$[j]=b.id?b.id:b}),s.element.createElement(x,{className:r},s.element.createElement(Ie,null,s.element.createElement(Be,{onSelect:b=>l({[e.name]:b.map(Me)}),allowedTypes:["image"],value:$,gallery:!0,multiple:!0,render:({open:b})=>s.element.createElement("div",null,s.element.createElement("p",null,e.label),s.element.createElement(D,{isSecondary:!0,onClick:b,style:{display:"block",marginTop:"10px"}},s.element.createElement(A,{icon:"upload"}),"  Open Media Library"))})));case"number":return s.element.createElement(x,{className:r},s.element.createElement("div",null,s.element.createElement("p",null,e.label),s.element.createElement(ft,{className:r,value:t,min:e.min?e.min:!1,max:e.max?e.max:!1,onChange:b=>l({[e.name]:b})})));case"gradient":let P=Vl||Fl;return s.element.createElement(x,{className:r},s.element.createElement("p",null,e.label),s.element.createElement(P,{value:t,onChange:b=>l({[e.name]:b}),gradients:[{name:"Vivid cyan blue to vivid purple",gradient:"linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%)",slug:"vivid-cyan-blue-to-vivid-purple"},{name:"Light green cyan to vivid green cyan",gradient:"linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%)",slug:"light-green-cyan-to-vivid-green-cyan"},{name:"Luminous vivid amber to luminous vivid orange",gradient:"linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%)",slug:"luminous-vivid-amber-to-luminous-vivid-orange"}]}));case"repeater":return s.element.createElement(x,{className:r},s.element.createElement("p",null,e.label),s.element.createElement(Ft,{value:Array.isArray(t)?t:[],onChange:b=>l({[e.name]:b}),controls:(o=e.controls)!=null?o:[],structure:(i=e.item_structure)!=null?i:[]}))}if(Le[e.type]){const u=Le[e.type];return s.element.createElement(x,{label:e.label,className:r},s.element.createElement(kl,{config:u,initialValue:t,builder:"gutenberg",field:e,save:m=>l({[e.name]:m})}))}},"getField");var Bl=Object.defineProperty,Q=d((e,t)=>Bl(e,"name",{value:t,configurable:!0}),"o");const{wp:_,Tangible:Il}=window,{blockEditor:{InspectorControls:Ll},blocks:{registerBlockType:Ml},components:{Panel:Gl,PanelBody:Jl,PanelRow:Ul},element:{useState:Ql},i18n:{__:Yl},serverSideRender:Hl}=_,{blockConfig:R,moduleLoader:Wl,ServerSideRender:ql=Hl}=Il,zl=Q(e=>{const t=`${R.package}/${e.universal_id?"block-"+e.universal_id:e.name}`;Ml(t,{title:e.label,description:e.description?e.description:"",category:R.category,sections:e.sections,icon:R.icon,edit(l){const{block_id:n}=l.attributes,[o,i]=Ql(e.tabs[0]),a=Q(m=>Number.isInteger(l.attributes[m])?l.attributes[m].toString():l.attributes[m],"getFieldValue"),r=new q(R.conditions[e.universal_id?e.universal_id:e.content_id]),u=Q(m=>r.evaluateConditions(m,a),"isVisible");return n||l.setAttributes({block_id:l.clientId}),l.attributes.current_post_id||l.setAttributes({current_post_id:R.current_post_id}),_.element.createElement(_.element.Fragment,null,_.element.createElement(Ll,null,e.tabs.length>1&&_.element.createElement("div",{className:"tangible-block-editor-tabs"},e.tabs.map(m=>(m.name===o.name||u(m.conditions))&&_.element.createElement("div",{key:`tab-${m.name}`,className:"tangible-block-editor-tab components-button edit-post-sidebar__panel-tab"+(m.name===o.name?" is-active":""),onClick:()=>i(m)},_.element.createElement("p",null,m.label==="default"?"Content":m.label)))),o.sections.map((m,c)=>u(m.conditions)&&_.element.createElement(Gl,{key:`${m.name}-panel-${c}`,className:"tangible-block-editor-section"},_.element.createElement(Jl,{title:m.label,initialOpen:c===0},m.fields.map(p=>u(p.conditions)&&_.element.createElement(Ul,null,Ge(p,l.attributes[p.name],l.setAttributes))))))),_.element.createElement(ql,{block:t,attributes:l.attributes,EmptyResponsePlaceholder:Je,LoadingResponsePlaceholder:Je,onFetchResponseRendered:m=>{Wl(m)}}))},save(){return null}})},"createBlock"),Je=Q(()=>_.element.createElement("div",{className:"tangible-loop-block"},"\xA0"),"EmptyLoopBlock"),{blocks:Kl}=window.Tangible;Kl.map(e=>zl(e))})();
//# sourceMappingURL=gutenberg-integration.min.js.map
