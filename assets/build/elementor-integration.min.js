var Et=Object.defineProperty;var g=(Q,I)=>Et(Q,"name",{value:I,configurable:!0});(function(){"use strict";(function(){const e={NODE_ENV:"production"};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,e);return}}catch{}globalThis.process={env:e}})();var Q=Object.defineProperty,I=g((e,t)=>Q(e,"name",{value:t,configurable:!0}),"l");let W=g(class{constructor(t){this.conditionsMap=t||[],this.getPreviousLevels=this.getPreviousLevels.bind(this),this.getCondition=this.getCondition.bind(this)}evaluateConditions(t,n){let l=!0;if(!t||!Array.isArray(t))return l;for(const o of t){const s=this.getCondition(o);if(!this.evaluateCondition(s,n))return!1}return l}getCondition(t){const n=t.split("-"),l=parseInt(n[0]),o=parseInt(n[1]);return{number:l,level:o,current:this.conditionsMap[l]?.[o],previousLevels:this.getPreviousLevels(l,o)}}getPreviousLevels(t,n){if(n===0)return[];let l=0;const o=[];for(;l<n;)o.push(this.conditionsMap[t][l]),l++;return o}extractComparisons(t){const n=[];for(const l in t)if(!(l==="compare"||l.slice(0,8)==="compare_"||l==="value"||l.slice(0,6)==="value_")){if(l==="control"||l.slice(0,8)==="control_"){const o=t[l],[s,a=0]=l.split("_");n.push({field:o,value:t[`value${a?"_"+a:""}`],compare:t[`compare${a?"_"+a:""}`]});continue}n.push({field:l,value:t[l]})}return n}evaluateCondition(t,n){let l=!0;for(const s of t.previousLevels){const a=this.extractComparisons(s);for(const{field:c,value:i,compare:p}of a){const r=n(c);if(this.compare(r,i,p))return!1}}const o=this.extractComparisons(t.current);for(const{field:s,value:a,compare:c}of o){const i=n(s);if(!this.compare(i,a,c))return!1}return l}compare(t,n,l="is"){let o=!1;switch(l){case"is":case"equal":case"not":default:o=t===n,l==="not"&&(o=!o);break}return o}},"u");I(W,"ControlVisibility");var ue=Object.defineProperty,j=g((e,t)=>ue(e,"name",{value:t,configurable:!0}),"t$2");const T=jQuery,pe=j((e,t,n)=>{const l=new W(n),o=t.value.models,s=e.find(".elementor-repeater-fields");o.forEach((a,c)=>{const i=T(s[c]),p=a.attributes,r=a.controls,m=j(u=>p["tangible_control_"+u]??void 0,"getValue");for(const u in p){const v=i.find(`.elementor-control-${u}`);if(!v)continue;const _=r[u].tangible_conditions??[],O=l.evaluateConditions(_,m);v[O?"show":"hide"]()}})},"setVisibility"),P=j(()=>V.callback?V.callback():!1,"refresh"),U=new MutationObserver(e=>e.forEach(P)),de=j(()=>{document.querySelectorAll(".elementor-repeater-fields-wrapper").forEach(e=>U.observe(e,{childList:!0})),T(".elementor-repeater-fields elementor-control input").on("keyup change",P),T(".elementor-repeater-fields elementor-control select").on("select2:select",P)},"init"),be=j(()=>{U.disconnect(),T(".elementor-repeater-fields elementor-control input").off("keyup change",P),T(".elementor-repeater-fields elementor-control select").off("select2:select",P)},"clear"),V={setVisibility:pe,init:de,clear:be,callback:!1};var ge=Object.defineProperty,ve=g((e,t)=>ge(e,"name",{value:t,configurable:!0}),"o$3");const ye=jQuery,fe=ve(e=>{if(!e.content||!e.content.conditions||e.content.conditions!=="default-tab-workaround")return;const t=document.querySelector('.elementor-component-tab:not([data-tab="content"])');ye(t).trigger("click")},"maybeInitTabsWorkaround");var he=Object.defineProperty,C=g((e,t)=>he(e,"name",{value:t,configurable:!0}),"r$2");const{Tangible:we}=window,{prefix:A,visibility:Ee}=we.blockConfig,h=jQuery,{conditions:H,tabs:_e,sections:$e}=Ee,Ne=C(e=>{const t=e.attributes.widgetType;if(!t.startsWith(A.slug))return;const n=t.slice(A.slug.length),l=Ce(n);let o=_e[n]||{},s=$e[n]||{};Array.isArray(o)&&(o={}),Array.isArray(s)&&(s={});const a=new W(H[n].general),c=C(()=>e.get("settings").attributes,"getElementorSettings"),i=C(()=>{h(".elementor-control-type-section").off("click",i),h(".elementor-control input").off("keyup change",i),h(".elementor-control select").off("select2:select",i),h(".elementor-component-tab").off("click",i),V.clear(),Oe({controls:l,visibility:a,elementorSettings:c(),tabs:o,sections:s,blockId:n}),h(".elementor-control-type-section").on("click",i),h(".elementor-control input").on("keyup change",i),h(".elementor-control select").on("select2:select",i),h(".elementor-component-tab").on("click",i),V.init()},"refresh");fe(o),V.callback=i,i()},"widgetVisibility"),Ce=C(e=>{const t=A.slug+e,n=elementor.widgetsCache[t].controls,l={};for(const o in n)o.startsWith(A.control)&&(l[o]=n[o]);return l},"getBlockControls"),xe=C(e=>h("#elementor-controls").find(`[data-setting='${e}']`),"element"),Oe=C(({controls:e,visibility:t,elementorSettings:n,tabs:l,sections:o,blockId:s})=>{const a=ke(e,n),c=C(i=>a[i]?a[i].value:void 0,"getFieldValue");for(const i of Object.keys(l)){const p=l[i],r=p.conditions==="default-tab-workaround"?!1:t.evaluateConditions(p.conditions,c),m=h(`.elementor-tab-control-${i}`);m.hasClass("elementor-active")||m[r?"show":"hide"]()}for(const i of Object.keys(o)){const p=o[i],r=t.evaluateConditions(p.conditions,c),m=h(`.elementor-control-tangible_section_${i}`);m.hasClass("elementor-open")||m[r?"show":"hide"]()}for(const i in a){const p=a[i],r=t.evaluateConditions(p.conditions,c),m=h(`.elementor-control-${p.dataName}`);m[r?"show":"hide"]();const u=H[s].repeater[i]??!1;u&&setTimeout(()=>V.setVisibility(m,p,u))}},"setVisibility"),ke=C((e,t)=>{const n={};for(const l in e){const o={value:Se(t[l],e[l]),dataName:l,name:l.slice(A.control.length)};e[l].tangible_conditions&&(o.conditions=e[l].tangible_conditions),n[o.name]=o}return n},"getControlSettings"),Se=C((e,t)=>{if(t.type!=="number"&&t.type!=="switcher")return e;if(t.type==="number")return e&&e.toString();const n=xe(t.name);return n.length===0?e:n.is(":checked")?t.return_value:t.return_off},"getValue");jQuery(()=>{elementor.hooks.addAction("panel/open_editor/widget",(e,t)=>{t.attributes.elType==="widget"&&Ne(t)})});var Ve=Object.defineProperty,je=g((e,t)=>Ve(e,"name",{value:t,configurable:!0}),"i$6");const K=je(e=>wp.element.createElement("div",{id:"tangible-logic-root",className:"tangible-logic-open"},wp.element.createElement("div",{className:"tangible-logic-modal"},wp.element.createElement("div",{className:"tangible-logic-header"},wp.element.createElement("div",{className:"tangible-logic-title"},e.title?e.title:""),wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button has-icon",type:"button","aria-label":"Close dialog",onClick:e.cancel},wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})))),wp.element.createElement("div",{className:"tangible-logic-rule-group"},e.children),wp.element.createElement("div",{className:"tangible-logic-actions tangible-logic-clear"},wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button is-tertiary",type:"button",onClick:e.cancel},"Cancel"),wp.element.createElement("button",{id:"logic-button-add-logic",className:"tangible-components-button is-primary",type:"button",onClick:e.submit},"Save")))),"Modal");var Te=Object.defineProperty,Pe=g((e,t)=>Te(e,"name",{value:t,configurable:!0}),"o$2");const Ae=Pe((e,t,n,l)=>tangibleFields.render({context:l==="gutenberg"?"wp":l,onChange:o=>e(Array.isArray(o)||typeof o=="object"?JSON.stringify(o):String(o)),...n,value:t}),"getControl");var Fe=Object.defineProperty,D=g((e,t)=>Fe(e,"name",{value:t,configurable:!0}),"e");const De=D(e=>{const{config:t,field:n,builder:l,initialValue:o}=e,s=t.popup,[a,c]=wp.element.useState(l==="beaver-builder"),[i=o,p]=wp.element.useState(),[r=o,m]=wp.element.useState(),u=D(d=>(s||m(d),p(d)),"save");wp.element.useEffect(()=>e.save(r),[r]),wp.element.useEffect(()=>s&&a&&p(r),[a]);const v=wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${t.type}`},Ae(u,r,n,l));if(!s)return v;const _=D(()=>c(!1),"cancel"),O=D(()=>{c(!1),m(i)},"submit"),k=l!=="beaver-builder"&&wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${l}`},l==="elementor"&&wp.element.createElement("label",{className:"elementor-control-title"},n.label),wp.element.createElement("button",{onClick:()=>c(!a),class:"components-button is-secondary tangible-control-btn"},"Open Settings"));return a?wp.element.createElement(wp.element.Fragment,null,k,wp.element.createElement(K,{submit:O,cancel:_,title:n.label},v)):k},"Control");var Le=Object.defineProperty,Be=g((e,t)=>Le(e,"name",{value:t,configurable:!0}),"n$2");const{wp:X}=window,{useState:Re,useEffect:Je}=X.element,Me=Be(e=>{const[t,n]=Re(e.initialValue);return Je(()=>e.handler(t),[t]),X.element.createElement("input",{type:"text",value:t,onChange:l=>n(l.target.value)})},"Text");var Qe=Object.defineProperty,Ie=g((e,t)=>Qe(e,"name",{value:t,configurable:!0}),"i$3");const{jQuery:We}=window,x=Ie(({labelForEmptyValue:e="",options:t=[],value:n="",onChange:l,multiSelect:o,style:s})=>{const a=wp.element.useRef();if(wp.element.useEffect(()=>{if(!a.current)return;const c=We(a.current);a.current.$el=c,l(n),c.tangibleSelect({minimumResultsForSearch:5}),o&&(c.val(n),c.trigger("change")),c.on("change",function(p){if(!o&&!a.current._silentChange){l(p.target.value);return}if(!a.current||a.current._silentChange)return;const r=c.select2("data").map(m=>m.id);l(r)});const i=a.current.select2=c.data("select2");return()=>{i&&i.destroy()}},[]),a.current&&a.current.$el)if(o){const c=a.current.$el.val();n.length!==c.length&&t.length&&setTimeout(function(){!a.current||!a.current.$el||(a.current.$el.val(n),a.current.$el.trigger("change"))},0)}else a.current.value!==n&&(a.current._silentChange=!0,a.current.$el.val(n),a.current.$el.trigger("change"),setTimeout(function(){a.current._silentChange=!1},0));return wp.element.createElement("select",{ref:a,autoComplete:"off",multiple:o,style:{display:"none",width:"160px",...s}},e&&wp.element.createElement("option",{value:"",disabled:!0,selected:n==null},e),t.map((c,i)=>wp.element.createElement("option",{key:`option-${i}`,value:c.value,selected:c.value===n},c.label)))},"Select");var qe=Object.defineProperty,ze=g((e,t)=>qe(e,"name",{value:t,configurable:!0}),"a$3");const Ge=ze(({getData:e,setData:t,includeOrder:n,includeOrderBy:l})=>{const o=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"order"},"Order"),wp.element.createElement(x,{labelForEmptyValue:"Choose Order",options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],value:e("order"),style:{width:"100%"},onChange:i=>t("order",i)}))),s=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby"},"Order by"),wp.element.createElement(x,{labelForEmptyValue:"Order by",options:[{label:"Title",value:"title"},{label:"ID",value:"id"},{label:"Author",value:"author"},{label:"Name",value:"name"},{label:"Type",value:"type"},{label:"Date",value:"date"},{label:"Modified",value:"modified"},{label:"Random",value:"random"},{label:"Comment count",value:"comment_count"},{label:"Relevance",value:"relevance"},{label:"Menu",value:"menu"},{label:"Custom value",value:"meta_value"},{label:"Custom value number",value:"meta_value_num"}],value:e("orderby"),style:{width:"100%"},onChange:i=>t("orderby",i)}))),a=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field"},"Order by custom field"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",name:"orderby-field",id:"orderby_field",onChange:i=>t("orderby_field",i.target.value),placeholder:"Enter field key",value:e("orderby_field")}))),c=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field_number"},"Order by custom field with numeric value"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",id:"orderby_field_number",name:"orderby-field-number",onChange:i=>t("orderby_field_number",i.target.value),placeholder:"Enter field key",value:e("orderby_field_number")})));return wp.element.createElement("div",{className:"tangible-logic-rule"},n&&o,l&&s,e("orderby")==="meta_value"&&a,e("orderby")==="meta_value_num"&&c)},"Order");var Ue=Object.defineProperty,He=g((e,t)=>Ue(e,"name",{value:t,configurable:!0}),"p$1");const{useState:Y,useEffect:Z}=wp.element,Ke=He(({initialLoopType:e,initialType:t,setData:n,fields:l})=>{const[o,s]=Y(e||"post"),[a,c]=Y(t);Z(()=>n("loopType",o),[o]),Z(()=>n("type",a),[a]);const i=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label"},"Content type"),wp.element.createElement(x,{labelForEmptyValue:"Choose a Type",options:[{label:"Post",value:"post"}],value:o,onChange:r=>s(r),style:{width:"100%"}}))),p=o==="post"?wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"post_type"},"Fields"),wp.element.createElement(x,{labelForEmptyValue:"Choose Fields",value:a?a.split(","):["null"],options:l,multiSelect:!0,style:{width:"100%"},onChange:r=>r=="null"?c(""):c(r.toString())}))):"";return wp.element.createElement("div",{className:"tangible-logic-rule"},i,p)},"Type");var Xe=Object.defineProperty,F=g((e,t)=>Xe(e,"name",{value:t,configurable:!0}),"r$1");const{Tangible:Ye,wp:y}=window,{useState:ee,useEffect:Ze}=y.element,{allTaxonomies:te={}}=Ye.postQueryControlData,et=F(({value:e,initialData:t,save:n,showBtn:l,remove:o})=>{const s=e===1,a=Object.keys(te),[c,i]=ee(t);Ze(()=>{n(c)},[c]);const p=F(b=>{const $=te[b];if($==null||$.length===0)return[];let S=[];return $.forEach(me=>{S.push({label:me.name,value:me.slug})}),S},"getTerms"),r=F(b=>c.hasOwnProperty(b)?c[b]===""?null:c[b]:null,"getParam"),m=F(b=>{_($=>[]),b.length>0&&_($=>b)},"updateTerms"),u=F((b,$)=>i(S=>({...S,[b]:$})),"updateParam"),[v,_]=ee(c.hasOwnProperty("taxonomy")?p(c.taxonomy):[]),O=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Taxonomy ",!s&&e),y.element.createElement(x,{style:{width:"100%"},labelForEmptyValue:`Taxonomy ${s?"":e}`,options:a.map(b=>({label:b,value:b})),value:r("taxonomy"),onChange:b=>{u("terms",""),u("taxonomy",b);const $=p(b);m($)}}))),k=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Compare ",!s&&e),y.element.createElement(x,{style:{width:"100%"},labelForEmptyValue:`Compare ${s?"":e}`,options:[{label:"In",value:"in"},{label:"Not",value:"not"},{label:"And",value:"and"},{label:"Exists",value:"exists"},{label:"Not exists",value:"not exists"}],value:c.taxonomy_compare,onChange:b=>u("taxonomy_compare",b)}))),d=r("terms"),N=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Term ",!s&&e),y.element.createElement(x,{style:{width:"100%"},labelForEmptyValue:`Terms ${s?"":e}`,multiSelect:!0,options:v,value:d?d.split(","):["null"],onChange:b=>i($=>{let S="";return b!="null"&&(S=b.toString()),{...$,terms:S}})})));return y.element.createElement("div",{className:"tangible-logic-rule"},O,k,N,l&&y.element.createElement("button",{id:"logic-button-rule",className:"tangible-components-button is-secondary",type:"button",onClick:o},"Remove"))},"QueryGroup");var tt=Object.defineProperty,L=g((e,t)=>tt(e,"name",{value:t,configurable:!0}),"s$3");const{wp:f}=window,{useState:ne,useEffect:le}=f.element,ae=3,oe=L(({initialData:e,save:t})=>{const[n,l]=ne([]),[o,s]=ne("");le(()=>{if(!e)return;const r=JSON.parse(e),m=[];if(r.taxonomy_relation&&s(r.taxonomy_relation),!r.taxonomy)return;let u="",v=1;for(;r[`taxonomy${u}`]&&v<=ae&&(u=v!==1?`_${v}`:"",!!r[`taxonomy${u}`]);)m.push({taxonomy:r[`taxonomy${u}`],terms:r[`terms${u}`],taxonomy_compare:r[`taxonomy_compare${u}`]}),v++;l(m)},[]),le(()=>{const r={};o&&(r.taxonomy_relation=o);for(let m=0;m<n.length;m++){const u=m!==0?`_${m+1}`:"";r[`taxonomy${u}`]=n[m].taxonomy,r[`terms${u}`]=n[m].terms,r[`taxonomy_compare${u}`]=n[m].taxonomy_compare}t(r)},[n,o]);const a=f.element.createElement("div",{className:"tangible-logic-rule tangible-logic-clear"},f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Relation"),f.element.createElement(x,{style:{width:"100%"},labelForEmptyValue:"Choose Relation",options:[{label:"And",value:"and"},{label:"Or",value:"or"}],value:o,onChange:r=>s(r)})))),c=L(()=>{l([...n,{taxonomy:"",terms:"",taxonomy_compare:""}])},"addRow"),i=L((r,m)=>{n[r]=m,l([...n])},"saveRow"),p=L(r=>{l([...n.slice(0,r),...n.slice(r+1)])},"removeRow");return f.element.createElement("div",{className:"tangible-logic-rule-group-box-bordered"},n.length>1&&f.element.createElement("div",{className:"tangible-logic-taxonomy-group"},a),f.element.createElement("div",{className:"tangible-logic-taxonomy-group"},n.length>0&&n.map((r,m)=>f.element.createElement(et,{key:m+JSON.stringify(r),value:m+1,initialData:r,showBtn:!0,save:u=>i(m,u),remove:()=>p(m)}))),n.length<ae&&f.element.createElement("div",{className:"tangible-logic-group-actions"},f.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:c},"Add taxonomy filter"),f.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:()=>l([])},"Remove")))},"Taxonomy");var nt=Object.defineProperty,B=g((e,t)=>nt(e,"name",{value:t,configurable:!0}),"s$2");const{Tangible:lt,wp:w}=window,{useState:at,useEffect:re}=w.element,{allPostTypes:ie={}}=lt.postQueryControlData||{},ot=B(({initialData:e,save:t,fields:n=[]})=>{const l=n.replace(/\s+/g,"").split(","),o=B(r=>{try{return JSON.parse(r)}catch{return{}}},"parseData"),[s,a]=at(o(e));re(()=>a(o(e)),[e]),re(()=>{t(s)},[s]);const c=B(r=>s[r]&&s[r]!==""?s[r]:null,"getData"),i=B((r,m)=>a(u=>r!=="orderby"?{...u,[r]:m}:(m!=="meta_value"&&u.orderby_field&&delete u.orderby_field,m!=="meta_value_num"&&u.orderby_field_number&&delete u.orderby_field_number,{...u,[r]:m})),"updateArgs"),p=w.element.createElement(oe,{initialData:s.hasOwnProperty("taxonomies")?JSON.stringify(s.taxonomies):"{}",save:r=>i("taxonomies",r)});return w.element.createElement(w.element.Fragment,null,(l.includes("order")||l.includes("orderby"))&&w.element.createElement("div",{className:"tangible-logic-rule-group-box"},w.element.createElement("h4",{style:{fontWeight:"600"}},"Order"),w.element.createElement(Ge,{getData:c,setData:i,includeOrder:l.includes("order"),includeOrderBy:l.includes("orderby")})),l.includes("type")&&w.element.createElement("div",{className:"tangible-logic-rule-group-box"},w.element.createElement("h4",{style:{fontWeight:"600"}},"Type"),w.element.createElement(Ke,{initialLoopType:c("loopType")!==null?c("loopType"):"post",initialType:c("type"),setData:i,fields:Object.keys(ie).map(r=>({label:ie[r],value:r}))})),l.includes("taxonomy")&&w.element.createElement("div",{className:"tangible-logic-rule-group-box"},w.element.createElement("h4",{style:{fontWeight:"600"}},"Filter by Taxonomy"),p))},"PostQuery");var rt=Object.defineProperty,q=g((e,t)=>rt(e,"name",{value:t,configurable:!0}),"i$1");const{wp:E}=window,{element:{useEffect:R,useState:J}}=E,{ajax:it}=window.Tangible,ct=q(({handler:e,initialValue:t,fields:n=[]})=>{const[l,o]=J(t?JSON.parse(t):[]),[s,a]=J(""),[c,i]=J([]),[p,r]=J(!1),m="tangible-block-editor-control-ajax-select",u=n.multiple&&n.multiple==="true";R(()=>{u&&!Array.isArray(l)&&o([l])}),R(()=>{const d={search:s,field:n};it(n.ajax_action_name,d).then(N=>i(N)).catch(N=>console.error(N))},[s]),R(()=>e(JSON.stringify(l)),[l]),R(()=>{p===!1&&a("")},[p]);const v=q(d=>{o(u?[...l,d]:[d])},"saveValue"),_=q(d=>{const N=l.filter(b=>b.value!==d.value);o([...N])},"removeValue"),O=Array.isArray(l)?l.map(d=>d.value):[],k=E.element.createElement("span",{className:"dashicons dashicons-no-alt"});return E.element.createElement("div",{className:p?`${m} is-open`:m},u&&Array.isArray(l)?E.element.createElement("ul",{className:m+"-choice"},l.map(d=>E.element.createElement("li",{id:d.name},E.element.createElement("button",{onClick:()=>_(d)},k)," ",E.element.createElement("span",null,d.label)," "))):"",E.element.createElement("input",{type:"text",className:m+"-input",onFocus:()=>r(!0),onBlur:()=>r(!1),onChange:d=>{a(d.target.value)},placeholder:n.placeholder?n.placeholder:"Select",value:!p&&!u&&l[0]?l[0].label:s}),p&&E.element.createElement("ul",{class:m+"-ul"},c?c.map(d=>u&&O.includes(d.value)?"":E.element.createElement("li",{id:d.name,onMouseDown:()=>v(d)},d.label!==""?d.label:E.element.createElement("i",null,"Untitled"))):""))},"AjaxSelect");var st=Object.defineProperty,mt=g((e,t)=>st(e,"name",{value:t,configurable:!0}),"n$1");const ut=mt((e,t,n,l)=>{switch(e.type){case"post_query":return wp.element.createElement(ot,{save:a=>t(JSON.stringify(a)),initialData:n,fields:l.include_fields?l.include_fields:"type, order, orderby"});case"taxonomy":return wp.element.createElement(oe,{save:a=>t(JSON.stringify(a)),initialData:n,...l});case"select2":const o=l.multiple&&l.multiple==="true",s=typeof n=="string"&&o?n!==""?n.split(","):[]:n!==""?n:null;return wp.element.createElement(x,{labelForEmptyValue:"Choose...",options:l.options?Object.keys(l.options).map(a=>({value:a,label:l.options[a]})):[],onChange:a=>t(a!==null?Array.isArray(a)?a.join(","):a:""),multiSelect:o,value:s,style:{width:"100%"}});case"ajax_select":return wp.element.createElement(ct,{handler:t,initialValue:n,fields:l});default:return wp.element.createElement(Me,{handler:t,initialValue:n,...l})}},"getLegacyControl");var pt=Object.defineProperty,M=g((e,t)=>pt(e,"name",{value:t,configurable:!0}),"n");const{useState:z,useEffect:G}=wp.element,dt=M(e=>{const{config:t,field:n,builder:l,initialValue:o}=e,s=t.popup,[a,c]=z(l==="beaver-builder"),[i=o,p]=z(),[r=o,m]=z(),u=M(N=>(s||m(N),p(N)),"save");G(()=>e.save(r),[r]),G(()=>{s&&a&&p(r)},[a]),G(()=>{!a&&e.onPopupClose&&e.onPopupClose()},[a]);const v={display:"flex",marginBottom:"10px"},_=wp.element.createElement(wp.element.Fragment,null,l==="elementor"&&!s?wp.element.createElement("label",{className:"elementor-control-title",style:v},n.label):"",wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${t.type}`},ut(t,u,r,n)));if(!s)return _;const O=M(()=>c(!1),"cancel"),k=M(()=>{c(!1),m(i)},"submit"),d=l!=="beaver-builder"?wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${l}`},l==="elementor"?wp.element.createElement("label",{className:"elementor-control-title",style:v},n.label):"",wp.element.createElement("button",{onClick:()=>c(!a),className:"components-button is-secondary tangible-control-btn"},"Open Settings")):"";return a?wp.element.createElement(wp.element.Fragment,null,d,wp.element.createElement(K,{submit:k,cancel:O,title:n.label},_)):d},"LegacyControl");var bt=Object.defineProperty,gt=g((e,t)=>bt(e,"name",{value:t,configurable:!0}),"o");const vt=gt(e=>{const t=elementor.modules.controls.BaseData.extend({onReady:function(){const n=this.ui.contentEditable.prevObject[0].getElementsByClassName(e.prefixed_type)[0],l=JSON.parse(n.getAttribute("data-field")),o=this.saveValue.bind(this);wp.element.render(wp.element.createElement(dt,{config:e,field:l,initialValue:this.ui.input.val(),builder:"elementor",save:o}),n)},saveValue:function(n){this.ui.input.val(n),this.setValue(this.ui.input.val())},onBeforeDestroy:function(){this.saveValue(this.ui.input.val());const n=this.ui.contentEditable.prevObject[0];wp.element.unmountComponentAtNode(n)}});elementor.addControlView(e.prefixed_type,t)},"initLegacyControl");var yt=Object.defineProperty,ft=g((e,t)=>yt(e,"name",{value:t,configurable:!0}),"i");const ht=jQuery,{blockConfig:{controls:ce,legacy_controls:se}}=Tangible;ht(window).on("elementor:init",()=>{for(const e in ce)wt(ce[e]);for(const e in se)vt(se[e])});const wt=ft(e=>{const t=elementor.modules.controls.BaseData.extend({onReady:function(){const n=this.ui.contentEditable.prevObject[0].getElementsByClassName(e.prefixed_type)[0],l=JSON.parse(n.getAttribute("data-field")),o=this.saveValue.bind(this);wp.element.render(wp.element.createElement(De,{config:e,field:l,initialValue:this.ui.input.val(),builder:"elementor",save:o}),n)},saveValue:function(n){this.ui.input.val(n),this.setValue(this.ui.input.val())},onBeforeDestroy:function(){this.saveValue(this.ui.input.val());const n=this.ui.contentEditable.prevObject[0];wp.element.unmountComponentAtNode(n)}});elementor.addControlView(e.prefixed_type,t)},"initControl")})();
//# sourceMappingURL=elementor-integration.min.js.map
