var Bt=Object.defineProperty;var b=(J,M)=>Bt(J,"name",{value:M,configurable:!0});(function(){"use strict";(function(){const t={env:{NODE_ENV:"production"}};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,t);return}}catch(e){}globalThis.process={env:t}})();var J=Object.defineProperty,M=b((t,e)=>J(t,"name",{value:e,configurable:!0}),"l$4");class F{constructor(e){this.conditionsMap=e||[],this.getPreviousLevels=this.getPreviousLevels.bind(this),this.getCondition=this.getCondition.bind(this)}evaluateConditions(e,n){let l=!0;if(!e||!Array.isArray(e))return l;for(const r of e){const c=this.getCondition(r);if(!this.evaluateCondition(c,n))return!1}return l}getCondition(e){const n=e.split("-"),l=parseInt(n[0]),r=parseInt(n[1]);return{number:l,level:r,current:this.conditionsMap[l][r],previousLevels:this.getPreviousLevels(l,r)}}getPreviousLevels(e,n){if(n===0)return[];let l=0;const r=[];for(;l<n;)r.push(this.conditionsMap[e][l]),l++;return r}extractComparisons(e){const n=[];for(const l in e)if(!(l==="compare"||l.slice(0,8)==="compare_"||l==="value"||l.slice(0,6)==="value_")){if(l==="control"||l.slice(0,8)==="control_"){const r=e[l],[c,a=0]=l.split("_");n.push({field:r,value:e[`value${a?"_"+a:""}`],compare:e[`compare${a?"_"+a:""}`]});continue}n.push({field:l,value:e[l]})}return n}evaluateCondition(e,n){let l=!0;for(const c of e.previousLevels){const a=this.extractComparisons(c);for(const{field:i,value:s,compare:p}of a){const o=n(i);if(this.compare(o,s,p))return!1}}const r=this.extractComparisons(e.current);for(const{field:c,value:a,compare:i}of r){const s=n(c);if(!this.compare(s,a,i))return!1}return l}compare(e,n,l="is"){let r=!1;switch(l){case"is":case"equal":case"not":default:r=e===n,l==="not"&&(r=!r);break}return r}}b(F,"u$6"),M(F,"ControlVisibility");var Ce=Object.defineProperty,P=b((t,e)=>Ce(t,"name",{value:e,configurable:!0}),"t");const V=jQuery,xe=P((t,e,n)=>{const l=new F(n),r=e.value.models,c=t.find(".elementor-repeater-fields");r.forEach((a,i)=>{var s;const p=V(c[i]),o=a.attributes,m=a.controls,u=P(g=>{var h;return(h=o["tangible_control_"+g])!=null?h:void 0},"getValue");for(const g in o){const h=p.find(`.elementor-control-${g}`);if(!h)continue;const x=(s=m[g].tangible_conditions)!=null?s:[],j=l.evaluateConditions(x,u);h[j?"show":"hide"]()}})},"setVisibility"),T=P(()=>S.callback?S.callback():!1,"refresh"),G=new MutationObserver(t=>t.forEach(T)),je=P(()=>{document.querySelectorAll(".elementor-repeater-fields-wrapper").forEach(t=>G.observe(t,{childList:!0})),V(".elementor-repeater-fields elementor-control input").on("keyup change",T),V(".elementor-repeater-fields elementor-control select").on("select2:select",T)},"init"),ke=P(()=>{G.disconnect(),V(".elementor-repeater-fields elementor-control input").off("keyup change",T),V(".elementor-repeater-fields elementor-control select").off("select2:select",T)},"clear"),S={setVisibility:xe,init:je,clear:ke,callback:!1};var Se=Object.defineProperty,Pe=b((t,e)=>Se(t,"name",{value:e,configurable:!0}),"o$3");const Ve=jQuery,Te=Pe(t=>{if(!t.content||!t.content.conditions||t.content.conditions!=="default-tab-workaround")return;const e=document.querySelector('.elementor-component-tab:not([data-tab="content"])');Ve(e).trigger("click")},"maybeInitTabsWorkaround");var Ae=Object.defineProperty,O=b((t,e)=>Ae(t,"name",{value:e,configurable:!0}),"l$2");const{Tangible:De}=window,{prefix:A,visibility:Fe}=De.blockConfig,w=jQuery,{conditions:z,tabs:Ie,sections:Le}=Fe,Re=O(t=>{const e=t.attributes.widgetType;if(!e.startsWith(A.slug))return;const n=e.slice(A.slug.length),l=Be(n);let r=Ie[n]||{},c=Le[n]||{};Array.isArray(r)&&(r={}),Array.isArray(c)&&(c={});const a=new F(z[n].general),i=O(()=>t.get("settings").attributes,"getElementorSettings"),s=O(()=>{w(".elementor-control-type-section").off("click",s),w(".elementor-control input").off("keyup change",s),w(".elementor-control select").off("select2:select",s),w(".elementor-component-tab").off("click",s),S.clear(),Je({controls:l,visibility:a,elementorSettings:i(),tabs:r,sections:c,blockId:n}),w(".elementor-control-type-section").on("click",s),w(".elementor-control input").on("keyup change",s),w(".elementor-control select").on("select2:select",s),w(".elementor-component-tab").on("click",s),S.init()},"refresh");Te(r),S.callback=s,s()},"widgetVisibility"),Be=O(t=>{const e=A.slug+t,n=elementor.widgetsCache[e].controls,l={};for(const r in n)!r.startsWith(A.control)||(l[r]=n[r]);return l},"getBlockControls"),Qe=O(t=>w("#elementor-controls").find(`[data-setting='${t}']`),"element"),Je=O(({controls:t,visibility:e,elementorSettings:n,tabs:l,sections:r,blockId:c})=>{var a;const i=Me(t,n),s=O(p=>i[p]?i[p].value:void 0,"getFieldValue");for(const p of Object.keys(l)){const o=l[p],m=o.conditions==="default-tab-workaround"?!1:e.evaluateConditions(o.conditions,s),u=w(`.elementor-tab-control-${p}`);u.hasClass("elementor-active")||u[m?"show":"hide"]()}for(const p of Object.keys(r)){const o=r[p],m=e.evaluateConditions(o.conditions,s),u=w(`.elementor-control-tangible_section_${p}`);u.hasClass("elementor-open")||u[m?"show":"hide"]()}for(const p in i){const o=i[p],m=e.evaluateConditions(o.conditions,s),u=w(`.elementor-control-${o.dataName}`);u[m?"show":"hide"]();const g=(a=z[c].repeater[p])!=null?a:!1;!g||setTimeout(()=>S.setVisibility(u,o,g))}},"setVisibility"),Me=O((t,e)=>{const n={};for(const l in t){const r={value:We(e[l],t[l]),dataName:l,name:l.slice(A.control.length)};t[l].tangible_conditions&&(r.conditions=t[l].tangible_conditions),n[r.name]=r}return n},"getControlSettings"),We=O((t,e)=>{if(e.type!=="number"&&e.type!=="switcher")return t;if(e.type==="number")return t&&t.toString();const n=Qe(e.name);return n.length===0?t:n.is(":checked")?e.return_value:e.return_off},"getValue");jQuery(()=>{elementor.hooks.addAction("panel/open_editor/widget",(t,e)=>{e.attributes.elType==="widget"&&Re(e)})});var qe=Object.defineProperty,Ge=b((t,e)=>qe(t,"name",{value:e,configurable:!0}),"i$4");const ze=Ge(t=>wp.element.createElement("div",{id:"tangible-logic-root",className:"tangible-logic-open"},wp.element.createElement("div",{className:"tangible-logic-modal"},wp.element.createElement("div",{className:"tangible-logic-header"},wp.element.createElement("div",{className:"tangible-logic-title"},t.title?t.title:""),wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button has-icon",type:"button","aria-label":"Close dialog",onClick:t.cancel},wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})))),wp.element.createElement("div",{className:"tangible-logic-rule-group"},t.children),wp.element.createElement("div",{className:"tangible-logic-actions tangible-logic-clear"},wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button is-tertiary",type:"button",onClick:t.cancel},"Cancel"),wp.element.createElement("button",{id:"logic-button-add-logic",className:"tangible-components-button is-primary",type:"button",onClick:t.submit},"Save")))),"Modal");var Ue=Object.defineProperty,He=b((t,e)=>Ue(t,"name",{value:e,configurable:!0}),"n$2");const{wp:U}=window,{useState:Ke,useEffect:Xe}=U.element,Ye=He(t=>{const[e,n]=Ke(t.initialValue);return Xe(()=>t.handler(e),[e]),U.element.createElement("input",{type:"text",value:e,onChange:l=>n(l.target.value)})},"Text");var H=Object.defineProperty,K=Object.getOwnPropertySymbols,Ze=Object.prototype.hasOwnProperty,et=Object.prototype.propertyIsEnumerable,X=b((t,e,n)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"a$4"),tt=b((t,e)=>{for(var n in e||(e={}))Ze.call(e,n)&&X(t,n,e[n]);if(K)for(var n of K(e))et.call(e,n)&&X(t,n,e[n]);return t},"f$2"),nt=b((t,e)=>H(t,"name",{value:e,configurable:!0}),"g$2");const{jQuery:lt}=window,C=nt(({labelForEmptyValue:t="",options:e=[],value:n="",onChange:l,multiSelect:r,style:c})=>{const a=wp.element.useRef();if(wp.element.useEffect(()=>{if(!a.current)return;const i=lt(a.current);a.current.$el=i,l(n),i.tangibleSelect({minimumResultsForSearch:5}),r&&(i.val(n),i.trigger("change")),i.on("change",function(p){if(!r&&!a.current._silentChange){l(p.target.value);return}if(!a.current||a.current._silentChange)return;const o=i.select2("data").map(m=>m.id);l(o)});const s=a.current.select2=i.data("select2");return()=>{s&&s.destroy()}},[]),a.current&&a.current.$el)if(r){const i=a.current.$el.val();n.length!==i.length&&e.length&&setImmediate(function(){!a.current||!a.current.$el||(a.current.$el.val(n),a.current.$el.trigger("change"))})}else a.current.value!==n&&(a.current._silentChange=!0,a.current.$el.val(n),a.current.$el.trigger("change"),setImmediate(function(){a.current._silentChange=!1}));return wp.element.createElement("select",{ref:a,autoComplete:"off",multiple:r,style:tt({display:"none",width:"160px"},c)},t&&wp.element.createElement("option",{value:"",disabled:!0,selected:n==null},t),e.map((i,s)=>wp.element.createElement("option",{key:`option-${s}`,value:i.value,selected:i.value===n},i.label)))},"Select");var at=Object.defineProperty,ot=b((t,e)=>at(t,"name",{value:e,configurable:!0}),"a$3");const rt=ot(({getData:t,setData:e,includeOrder:n,includeOrderBy:l})=>{const r=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"order"},"Order"),wp.element.createElement(C,{labelForEmptyValue:"Choose Order",options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],value:t("order"),style:{width:"100%"},onChange:s=>e("order",s)}))),c=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby"},"Order by"),wp.element.createElement(C,{labelForEmptyValue:"Order by",options:[{label:"Title",value:"title"},{label:"ID",value:"id"},{label:"Author",value:"author"},{label:"Name",value:"name"},{label:"Type",value:"type"},{label:"Date",value:"date"},{label:"Modified",value:"modified"},{label:"Random",value:"random"},{label:"Comment count",value:"comment_count"},{label:"Relevance",value:"relevance"},{label:"Menu",value:"menu"},{label:"Custom value",value:"meta_value"},{label:"Custom value number",value:"meta_value_num"}],value:t("orderby"),style:{width:"100%"},onChange:s=>e("orderby",s)}))),a=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field"},"Order by custom field"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",name:"orderby-field",id:"orderby_field",onChange:s=>e("orderby_field",s.target.value),placeholder:"Enter field key",value:t("orderby_field")}))),i=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field_number"},"Order by custom field with numeric value"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",id:"orderby_field_number",name:"orderby-field-number",onChange:s=>e("orderby_field_number",s.target.value),placeholder:"Enter field key",value:t("orderby_field_number")})));return wp.element.createElement("div",{className:"tangible-logic-rule"},n&&r,l&&c,t("orderby")==="meta_value"&&a,t("orderby")==="meta_value_num"&&i)},"Order");var it=Object.defineProperty,ct=b((t,e)=>it(t,"name",{value:e,configurable:!0}),"p$3");const{useState:Y,useEffect:Z}=wp.element,st=ct(({initialLoopType:t,initialType:e,setData:n,fields:l})=>{const[r,c]=Y(t||"post"),[a,i]=Y(e);Z(()=>n("loopType",r),[r]),Z(()=>n("type",a),[a]);const s=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label"},"Content type"),wp.element.createElement(C,{labelForEmptyValue:"Choose a Type",options:[{label:"Post",value:"post"}],value:r,onChange:o=>c(o),style:{width:"100%"}}))),p=r==="post"?wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"post_type"},"Fields"),wp.element.createElement(C,{labelForEmptyValue:"Choose Fields",value:a?a.split(","):["null"],options:l,multiSelect:!0,style:{width:"100%"},onChange:o=>o=="null"?i(""):i(o.toString())}))):"";return wp.element.createElement("div",{className:"tangible-logic-rule"},s,p)},"Type");var ee=Object.defineProperty,mt=Object.defineProperties,ut=Object.getOwnPropertyDescriptors,te=Object.getOwnPropertySymbols,pt=Object.prototype.hasOwnProperty,bt=Object.prototype.propertyIsEnumerable,ne=b((t,e,n)=>e in t?ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"h$1"),le=b((t,e)=>{for(var n in e||(e={}))pt.call(e,n)&&ne(t,n,e[n]);if(te)for(var n of te(e))bt.call(e,n)&&ne(t,n,e[n]);return t},"u$4"),ae=b((t,e)=>mt(t,ut(e)),"b$1"),D=b((t,e)=>ee(t,"name",{value:e,configurable:!0}),"m$4");const{Tangible:dt,wp:y}=window,{useState:oe,useEffect:vt}=y.element,{allTaxonomies:re={}}=dt.postQueryControlData,gt=D(({value:t,initialData:e,save:n,showBtn:l,remove:r})=>{const c=t===1,a=Object.keys(re),[i,s]=oe(e);vt(()=>{n(i)},[i]);const p=D(v=>{const $=re[v];if($==null||$.length===0)return[];let k=[];return $.forEach(Oe=>{k.push({label:Oe.name,value:Oe.slug})}),k},"getTerms"),o=D(v=>i.hasOwnProperty(v)?i[v]===""?null:i[v]:null,"getParam"),m=D(v=>{h($=>[]),v.length>0&&h($=>v)},"updateTerms"),u=D((v,$)=>s(k=>ae(le({},k),{[v]:$})),"updateParam"),[g,h]=oe(i.hasOwnProperty("taxonomy")?p(i.taxonomy):[]),x=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Taxonomy ",!c&&t),y.element.createElement(C,{style:{width:"100%"},labelForEmptyValue:`Taxonomy ${c?"":t}`,options:a.map(v=>({label:v,value:v})),value:o("taxonomy"),onChange:v=>{u("terms",""),u("taxonomy",v);const $=p(v);m($)}}))),j=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Compare ",!c&&t),y.element.createElement(C,{style:{width:"100%"},labelForEmptyValue:`Compare ${c?"":t}`,options:[{label:"In",value:"in"},{label:"Not",value:"not"},{label:"And",value:"and"},{label:"Exists",value:"exists"},{label:"Not exists",value:"not exists"}],value:i.taxonomy_compare,onChange:v=>u("taxonomy_compare",v)}))),d=o("terms"),N=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Term ",!c&&t),y.element.createElement(C,{style:{width:"100%"},labelForEmptyValue:`Terms ${c?"":t}`,multiSelect:!0,options:g,value:d?d.split(","):["null"],onChange:v=>s($=>{let k="";return v!="null"&&(k=v.toString()),ae(le({},$),{terms:k})})})));return y.element.createElement("div",{className:"tangible-logic-rule"},x,j,N,l&&y.element.createElement("button",{id:"logic-button-rule",className:"tangible-components-button is-secondary",type:"button",onClick:r},"Remove"))},"QueryGroup");var yt=Object.defineProperty,I=b((t,e)=>yt(t,"name",{value:e,configurable:!0}),"s$3");const{wp:f}=window,{useState:ie,useEffect:ce}=f.element,se=3,me=I(({initialData:t,save:e})=>{const[n,l]=ie([]),[r,c]=ie("");ce(()=>{if(!t)return;const o=JSON.parse(t),m=[];if(o.taxonomy_relation&&c(o.taxonomy_relation),!o.taxonomy)return;let u="",g=1;for(;o[`taxonomy${u}`]&&g<=se&&(u=g!==1?`_${g}`:"",!!o[`taxonomy${u}`]);)m.push({taxonomy:o[`taxonomy${u}`],terms:o[`terms${u}`],taxonomy_compare:o[`taxonomy_compare${u}`]}),g++;l(m)},[]),ce(()=>{const o={};r&&(o.taxonomy_relation=r);for(let m=0;m<n.length;m++){const u=m!==0?`_${m+1}`:"";o[`taxonomy${u}`]=n[m].taxonomy,o[`terms${u}`]=n[m].terms,o[`taxonomy_compare${u}`]=n[m].taxonomy_compare}e(o)},[n,r]);const a=f.element.createElement("div",{className:"tangible-logic-rule tangible-logic-clear"},f.element.createElement("div",{className:"tangible-components-control"},f.element.createElement("div",{className:"tangible-components-control__field"},f.element.createElement("label",{className:"tangible-components-control__label"},"Relation"),f.element.createElement(C,{style:{width:"100%"},labelForEmptyValue:"Choose Relation",options:[{label:"And",value:"and"},{label:"Or",value:"or"}],value:r,onChange:o=>c(o)})))),i=I(()=>{l([...n,{taxonomy:"",terms:"",taxonomy_compare:""}])},"addRow"),s=I((o,m)=>{n[o]=m,l([...n])},"saveRow"),p=I(o=>{l([...n.slice(0,o),...n.slice(o+1)])},"removeRow");return f.element.createElement("div",{className:"tangible-logic-rule-group-box-bordered"},n.length>1&&f.element.createElement("div",{className:"tangible-logic-taxonomy-group"},a),f.element.createElement("div",{className:"tangible-logic-taxonomy-group"},n.length>0&&n.map((o,m)=>f.element.createElement(gt,{key:m+JSON.stringify(o),value:m+1,initialData:o,showBtn:!0,save:u=>s(m,u),remove:()=>p(m)}))),n.length<se&&f.element.createElement("div",{className:"tangible-logic-group-actions"},f.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:i},"Add taxonomy filter"),f.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:()=>l([])},"Remove")))},"Taxonomy");var ue=Object.defineProperty,ft=Object.defineProperties,ht=Object.getOwnPropertyDescriptors,pe=Object.getOwnPropertySymbols,wt=Object.prototype.hasOwnProperty,Et=Object.prototype.propertyIsEnumerable,be=b((t,e,n)=>e in t?ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"g$1"),de=b((t,e)=>{for(var n in e||(e={}))wt.call(e,n)&&be(t,n,e[n]);if(pe)for(var n of pe(e))Et.call(e,n)&&be(t,n,e[n]);return t},"y$1"),ve=b((t,e)=>ft(t,ht(e)),"m$3"),L=b((t,e)=>ue(t,"name",{value:e,configurable:!0}),"u$3");const{Tangible:_t,wp:E}=window,{useState:$t,useEffect:ge}=E.element,{allPostTypes:ye={}}=_t.postQueryControlData||{},Nt=L(({initialData:t,save:e,fields:n=[]})=>{const l=n.replace(/\s+/g,"").split(","),r=L(o=>{try{return JSON.parse(o)}catch(m){return{}}},"parseData"),[c,a]=$t(r(t));ge(()=>a(r(t)),[t]),ge(()=>{e(c)},[c]);const i=L(o=>c[o]&&c[o]!==""?c[o]:null,"getData"),s=L((o,m)=>a(u=>o!=="orderby"?ve(de({},u),{[o]:m}):(m!=="meta_value"&&u.orderby_field&&delete u.orderby_field,m!=="meta_value_num"&&u.orderby_field_number&&delete u.orderby_field_number,ve(de({},u),{[o]:m}))),"updateArgs"),p=E.element.createElement(me,{initialData:c.hasOwnProperty("taxonomies")?JSON.stringify(c.taxonomies):"{}",save:o=>s("taxonomies",o)});return E.element.createElement(E.element.Fragment,null,(l.includes("order")||l.includes("orderby"))&&E.element.createElement("div",{className:"tangible-logic-rule-group-box"},E.element.createElement("h4",{style:{fontWeight:"600"}},"Order"),E.element.createElement(rt,{getData:i,setData:s,includeOrder:l.includes("order"),includeOrderBy:l.includes("orderby")})),l.includes("type")&&E.element.createElement("div",{className:"tangible-logic-rule-group-box"},E.element.createElement("h4",{style:{fontWeight:"600"}},"Type"),E.element.createElement(st,{initialLoopType:i("loopType")!==null?i("loopType"):"post",initialType:i("type"),setData:s,fields:Object.keys(ye).map(o=>({label:ye[o],value:o}))})),l.includes("taxonomy")&&E.element.createElement("div",{className:"tangible-logic-rule-group-box"},E.element.createElement("h4",{style:{fontWeight:"600"}},"Filter by Taxonomy"),p))},"PostQuery");var Ot=Object.defineProperty,W=b((t,e)=>Ot(t,"name",{value:e,configurable:!0}),"i");const{wp:_}=window,{element:{useEffect:R,useState:B}}=_,{ajax:Ct}=window.Tangible,xt=W(({handler:t,initialValue:e,fields:n=[]})=>{const[l,r]=B(e?JSON.parse(e):[]),[c,a]=B(""),[i,s]=B([]),[p,o]=B(!1),m="tangible-block-editor-control-ajax-select",u=n.multiple&&n.multiple==="true";R(()=>{u&&!Array.isArray(l)&&r([l])}),R(()=>{const d={search:c,field:n};Ct(n.ajax_action_name,d).then(N=>s(N)).catch(N=>console.error(N))},[c]),R(()=>t(JSON.stringify(l)),[l]),R(()=>{p===!1&&a("")},[p]);const g=W(d=>{r(u?[...l,d]:[d])},"saveValue"),h=W(d=>{const N=l.filter(v=>v.value!==d.value);r([...N])},"removeValue"),x=Array.isArray(l)?l.map(d=>d.value):[],j=_.element.createElement("span",{className:"dashicons dashicons-no-alt"});return _.element.createElement("div",{className:p?`${m} is-open`:m},u&&Array.isArray(l)?_.element.createElement("ul",{className:m+"-choice"},l.map(d=>_.element.createElement("li",{id:d.name},_.element.createElement("button",{onClick:()=>h(d)},j)," ",_.element.createElement("span",null,d.label)," "))):"",_.element.createElement("input",{type:"text",className:m+"-input",onFocus:()=>o(!0),onBlur:()=>o(!1),onChange:d=>{a(d.target.value)},placeholder:n.placeholder?n.placeholder:"Select",value:!p&&!u&&l[0]?l[0].label:c}),p&&_.element.createElement("ul",{class:m+"-ul"},i?i.map(d=>u&&x.includes(d.value)?"":_.element.createElement("li",{id:d.name,onMouseDown:()=>g(d)},d.label!==""?d.label:_.element.createElement("i",null,"Untitled"))):""))},"AjaxSelect");var fe=Object.defineProperty,he=Object.getOwnPropertySymbols,jt=Object.prototype.hasOwnProperty,kt=Object.prototype.propertyIsEnumerable,we=b((t,e,n)=>e in t?fe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"a$1"),Ee=b((t,e)=>{for(var n in e||(e={}))jt.call(e,n)&&we(t,n,e[n]);if(he)for(var n of he(e))kt.call(e,n)&&we(t,n,e[n]);return t},"s$1"),St=b((t,e)=>fe(t,"name",{value:e,configurable:!0}),"m$1");const Pt=St((t,e,n,l)=>{switch(t.type){case"post_query":return wp.element.createElement(Nt,{save:a=>e(JSON.stringify(a)),initialData:n,fields:l.include_fields?l.include_fields:"type, order, orderby"});case"taxonomy":return wp.element.createElement(me,Ee({save:a=>e(JSON.stringify(a)),initialData:n},l));case"select2":const r=l.multiple&&l.multiple==="true",c=typeof n=="string"&&r?n!==""?n.split(","):[]:n!==""?n:null;return wp.element.createElement(C,{labelForEmptyValue:"Choose...",options:l.options?Object.keys(l.options).map(a=>({value:a,label:l.options[a]})):[],onChange:a=>e(a!==null?Array.isArray(a)?a.join(","):a:""),multiSelect:r,value:c,style:{width:"100%"}});case"ajax_select":return wp.element.createElement(xt,{handler:e,initialValue:n,fields:l});default:return wp.element.createElement(Ye,Ee({handler:e,initialValue:n},l))}},"getControl");var Vt=Object.defineProperty,Q=b((t,e)=>Vt(t,"name",{value:e,configurable:!0}),"l");const{useState:q,useEffect:_e}=wp.element,Tt=Q(t=>{const{config:e,field:n,builder:l,initialValue:r}=t,c=e.popup,[a,i]=q(l==="beaver-builder"),[s=r,p]=q(),[o=r,m]=q(),u=Q(N=>(c||m(N),p(N)),"save");_e(()=>t.save(o),[o]),_e(()=>{c&&a&&p(o)},[a]);const g={display:"flex",marginBottom:"10px"},h=wp.element.createElement(wp.element.Fragment,null,l==="elementor"&&!c?wp.element.createElement("label",{className:"elementor-control-title",style:g},n.label):"",wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${e.type}`},Pt(e,u,o,n)));if(!c)return h;const x=Q(()=>i(!1),"cancel"),j=Q(()=>{i(!1),m(s)},"submit"),d=l!=="beaver-builder"?wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${l}`},l==="elementor"?wp.element.createElement("label",{className:"elementor-control-title",style:g},n.label):"",wp.element.createElement("button",{onClick:()=>i(!a),className:"components-button is-secondary tangible-control-btn"},"Open Settings")):"";return a?wp.element.createElement(wp.element.Fragment,null,d,wp.element.createElement(ze,{submit:j,cancel:x,title:n.label},h)):d},"Control");var At=Object.defineProperty,Dt=b((t,e)=>At(t,"name",{value:e,configurable:!0}),"o");const{wp:$e,Tangible:Ft}=window,{render:It,unmountComponentAtNode:Lt}=$e.element,{blockConfig:{controls:Ne}}=Ft;jQuery(window).on("elementor:init",()=>{for(const t in Ne)Rt(Ne[t])});const Rt=Dt(t=>{const e=elementor.modules.controls.BaseData.extend({onReady:function(){const n=this.ui.contentEditable.prevObject[0].getElementsByClassName(`tangible-${t.prefixed_type}`)[0],l=JSON.parse(n.getAttribute("data-field")),r=this.saveValue.bind(this);It($e.element.createElement(Tt,{config:t,field:l,initialValue:this.ui.input.val(),builder:"elementor",save:r}),n)},saveValue:function(n){this.ui.input.val(n),this.setValue(this.ui.input.val())},onBeforeDestroy:function(){this.saveValue(this.ui.input.val());const n=this.ui.contentEditable.prevObject[0];Lt(n)}});elementor.addControlView(t.prefixed_type,e)},"initControl")})();
//# sourceMappingURL=elementor-integration.min.js.map
