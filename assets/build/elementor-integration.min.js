var tn=Object.defineProperty;var b=(Q,M)=>tn(Q,"name",{value:M,configurable:!0});(function(){"use strict";(function(){const t={env:{NODE_ENV:"production"}};try{if(process){process.env=Object.assign({},process.env),Object.assign(process.env,t);return}}catch(e){}globalThis.process={env:t}})();var Q=Object.defineProperty,M=b((t,e)=>Q(t,"name",{value:e,configurable:!0}),"l$4");let W=b(class{constructor(e){this.conditionsMap=e||[],this.getPreviousLevels=this.getPreviousLevels.bind(this),this.getCondition=this.getCondition.bind(this)}evaluateConditions(e,n){let l=!0;if(!e||!Array.isArray(e))return l;for(const a of e){const c=this.getCondition(a);if(!this.evaluateCondition(c,n))return!1}return l}getCondition(e){var n;const l=e.split("-"),a=parseInt(l[0]),c=parseInt(l[1]);return{number:a,level:c,current:(n=this.conditionsMap[a])==null?void 0:n[c],previousLevels:this.getPreviousLevels(a,c)}}getPreviousLevels(e,n){if(n===0)return[];let l=0;const a=[];for(;l<n;)a.push(this.conditionsMap[e][l]),l++;return a}extractComparisons(e){const n=[];for(const l in e)if(!(l==="compare"||l.slice(0,8)==="compare_"||l==="value"||l.slice(0,6)==="value_")){if(l==="control"||l.slice(0,8)==="control_"){const a=e[l],[c,o=0]=l.split("_");n.push({field:a,value:e[`value${o?"_"+o:""}`],compare:e[`compare${o?"_"+o:""}`]});continue}n.push({field:l,value:e[l]})}return n}evaluateCondition(e,n){let l=!0;for(const c of e.previousLevels){const o=this.extractComparisons(c);for(const{field:i,value:s,compare:p}of o){const r=n(i);if(this.compare(r,s,p))return!1}}const a=this.extractComparisons(e.current);for(const{field:c,value:o,compare:i}of a){const s=n(c);if(!this.compare(s,o,i))return!1}return l}compare(e,n,l="is"){let a=!1;switch(l){case"is":case"equal":case"not":default:a=e===n,l==="not"&&(a=!a);break}return a}},"u");M(W,"ControlVisibility");var Pe=Object.defineProperty,P=b((t,e)=>Pe(t,"name",{value:e,configurable:!0}),"t");const V=jQuery,Ve=P((t,e,n)=>{const l=new W(n),a=e.value.models,c=t.find(".elementor-repeater-fields");a.forEach((o,i)=>{var s;const p=V(c[i]),r=o.attributes,m=o.controls,u=P(g=>{var f;return(f=r["tangible_control_"+g])!=null?f:void 0},"getValue");for(const g in r){const f=p.find(`.elementor-control-${g}`);if(!f)continue;const j=(s=m[g].tangible_conditions)!=null?s:[],O=l.evaluateConditions(j,u);f[O?"show":"hide"]()}})},"setVisibility"),T=P(()=>k.callback?k.callback():!1,"refresh"),z=new MutationObserver(t=>t.forEach(T)),Te=P(()=>{document.querySelectorAll(".elementor-repeater-fields-wrapper").forEach(t=>z.observe(t,{childList:!0})),V(".elementor-repeater-fields elementor-control input").on("keyup change",T),V(".elementor-repeater-fields elementor-control select").on("select2:select",T)},"init"),Ae=P(()=>{z.disconnect(),V(".elementor-repeater-fields elementor-control input").off("keyup change",T),V(".elementor-repeater-fields elementor-control select").off("select2:select",T)},"clear"),k={setVisibility:Ve,init:Te,clear:Ae,callback:!1};var De=Object.defineProperty,Fe=b((t,e)=>De(t,"name",{value:e,configurable:!0}),"o$3");const Le=jQuery,Ie=Fe(t=>{if(!t.content||!t.content.conditions||t.content.conditions!=="default-tab-workaround")return;const e=document.querySelector('.elementor-component-tab:not([data-tab="content"])');Le(e).trigger("click")},"maybeInitTabsWorkaround");var Be=Object.defineProperty,C=b((t,e)=>Be(t,"name",{value:e,configurable:!0}),"l$2");const{Tangible:Re}=window,{prefix:A,visibility:Je}=Re.blockConfig,w=jQuery,{conditions:U,tabs:Qe,sections:Me}=Je,We=C(t=>{const e=t.attributes.widgetType;if(!e.startsWith(A.slug))return;const n=e.slice(A.slug.length),l=qe(n);let a=Qe[n]||{},c=Me[n]||{};Array.isArray(a)&&(a={}),Array.isArray(c)&&(c={});const o=new W(U[n].general),i=C(()=>t.get("settings").attributes,"getElementorSettings"),s=C(()=>{w(".elementor-control-type-section").off("click",s),w(".elementor-control input").off("keyup change",s),w(".elementor-control select").off("select2:select",s),w(".elementor-component-tab").off("click",s),k.clear(),ze({controls:l,visibility:o,elementorSettings:i(),tabs:a,sections:c,blockId:n}),w(".elementor-control-type-section").on("click",s),w(".elementor-control input").on("keyup change",s),w(".elementor-control select").on("select2:select",s),w(".elementor-component-tab").on("click",s),k.init()},"refresh");Ie(a),k.callback=s,s()},"widgetVisibility"),qe=C(t=>{const e=A.slug+t,n=elementor.widgetsCache[e].controls,l={};for(const a in n)a.startsWith(A.control)&&(l[a]=n[a]);return l},"getBlockControls"),Ge=C(t=>w("#elementor-controls").find(`[data-setting='${t}']`),"element"),ze=C(({controls:t,visibility:e,elementorSettings:n,tabs:l,sections:a,blockId:c})=>{var o;const i=Ue(t,n),s=C(p=>i[p]?i[p].value:void 0,"getFieldValue");for(const p of Object.keys(l)){const r=l[p],m=r.conditions==="default-tab-workaround"?!1:e.evaluateConditions(r.conditions,s),u=w(`.elementor-tab-control-${p}`);u.hasClass("elementor-active")||u[m?"show":"hide"]()}for(const p of Object.keys(a)){const r=a[p],m=e.evaluateConditions(r.conditions,s),u=w(`.elementor-control-tangible_section_${p}`);u.hasClass("elementor-open")||u[m?"show":"hide"]()}for(const p in i){const r=i[p],m=e.evaluateConditions(r.conditions,s),u=w(`.elementor-control-${r.dataName}`);u[m?"show":"hide"]();const g=(o=U[c].repeater[p])!=null?o:!1;g&&setTimeout(()=>k.setVisibility(u,r,g))}},"setVisibility"),Ue=C((t,e)=>{const n={};for(const l in t){const a={value:He(e[l],t[l]),dataName:l,name:l.slice(A.control.length)};t[l].tangible_conditions&&(a.conditions=t[l].tangible_conditions),n[a.name]=a}return n},"getControlSettings"),He=C((t,e)=>{if(e.type!=="number"&&e.type!=="switcher")return t;if(e.type==="number")return t&&t.toString();const n=Ge(e.name);return n.length===0?t:n.is(":checked")?e.return_value:e.return_off},"getValue");jQuery(()=>{elementor.hooks.addAction("panel/open_editor/widget",(t,e)=>{e.attributes.elType==="widget"&&We(e)})});var Ke=Object.defineProperty,Xe=b((t,e)=>Ke(t,"name",{value:e,configurable:!0}),"i$6");const H=Xe(t=>wp.element.createElement("div",{id:"tangible-logic-root",className:"tangible-logic-open"},wp.element.createElement("div",{className:"tangible-logic-modal"},wp.element.createElement("div",{className:"tangible-logic-header"},wp.element.createElement("div",{className:"tangible-logic-title"},t.title?t.title:""),wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button has-icon",type:"button","aria-label":"Close dialog",onClick:t.cancel},wp.element.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",role:"img","aria-hidden":"true",focusable:"false"},wp.element.createElement("path",{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})))),wp.element.createElement("div",{className:"tangible-logic-rule-group"},t.children),wp.element.createElement("div",{className:"tangible-logic-actions tangible-logic-clear"},wp.element.createElement("button",{id:"logic-button-cancel",className:"tangible-components-button is-tertiary",type:"button",onClick:t.cancel},"Cancel"),wp.element.createElement("button",{id:"logic-button-add-logic",className:"tangible-components-button is-primary",type:"button",onClick:t.submit},"Save")))),"Modal");var K=Object.defineProperty,Ye=Object.defineProperties,Ze=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertySymbols,et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable,Y=b((t,e,n)=>e in t?K(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"i$5"),nt=b((t,e)=>{for(var n in e||(e={}))et.call(e,n)&&Y(t,n,e[n]);if(X)for(var n of X(e))tt.call(e,n)&&Y(t,n,e[n]);return t},"y$3"),lt=b((t,e)=>Ye(t,Ze(e)),"a$6"),at=b((t,e)=>K(t,"name",{value:e,configurable:!0}),"c$5");const ot=at((t,e,n,l)=>tangibleFields.render(lt(nt({context:l==="gutenberg"?"default":l,onChange:a=>t(Array.isArray(a)||typeof a=="object"?JSON.stringify(a):String(a))},n),{value:e})),"getControl");var rt=Object.defineProperty,F=b((t,e)=>rt(t,"name",{value:e,configurable:!0}),"e");const it=F(t=>{const{config:e,field:n,builder:l,initialValue:a}=t,c=e.popup,[o,i]=wp.element.useState(l==="beaver-builder"),[s=a,p]=wp.element.useState(),[r=a,m]=wp.element.useState(),u=F(d=>(c||m(d),p(d)),"save");wp.element.useEffect(()=>t.save(r),[r]),wp.element.useEffect(()=>c&&o&&p(r),[o]);const g=wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${e.type}`},ot(u,r,n,l));if(!c)return g;const f=F(()=>i(!1),"cancel"),j=F(()=>{i(!1),m(s)},"submit"),O=l!=="beaver-builder"&&wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${l}`},l==="elementor"&&wp.element.createElement("label",{className:"elementor-control-title"},n.label),wp.element.createElement("button",{onClick:()=>i(!o),class:"components-button is-secondary tangible-control-btn"},"Open Settings"));return o?wp.element.createElement(wp.element.Fragment,null,O,wp.element.createElement(H,{submit:j,cancel:f,title:n.label},g)):O},"Control");var ct=Object.defineProperty,st=b((t,e)=>ct(t,"name",{value:e,configurable:!0}),"n$2");const{wp:Z}=window,{useState:mt,useEffect:ut}=Z.element,pt=st(t=>{const[e,n]=mt(t.initialValue);return ut(()=>t.handler(e),[e]),Z.element.createElement("input",{type:"text",value:e,onChange:l=>n(l.target.value)})},"Text");var ee=Object.defineProperty,te=Object.getOwnPropertySymbols,bt=Object.prototype.hasOwnProperty,dt=Object.prototype.propertyIsEnumerable,ne=b((t,e,n)=>e in t?ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"a$4"),vt=b((t,e)=>{for(var n in e||(e={}))bt.call(e,n)&&ne(t,n,e[n]);if(te)for(var n of te(e))dt.call(e,n)&&ne(t,n,e[n]);return t},"f$2"),gt=b((t,e)=>ee(t,"name",{value:e,configurable:!0}),"g$1");const{jQuery:yt}=window,x=gt(({labelForEmptyValue:t="",options:e=[],value:n="",onChange:l,multiSelect:a,style:c})=>{const o=wp.element.useRef();if(wp.element.useEffect(()=>{if(!o.current)return;const i=yt(o.current);o.current.$el=i,l(n),i.tangibleSelect({minimumResultsForSearch:5}),a&&(i.val(n),i.trigger("change")),i.on("change",function(p){if(!a&&!o.current._silentChange){l(p.target.value);return}if(!o.current||o.current._silentChange)return;const r=i.select2("data").map(m=>m.id);l(r)});const s=o.current.select2=i.data("select2");return()=>{s&&s.destroy()}},[]),o.current&&o.current.$el)if(a){const i=o.current.$el.val();n.length!==i.length&&e.length&&setImmediate(function(){!o.current||!o.current.$el||(o.current.$el.val(n),o.current.$el.trigger("change"))})}else o.current.value!==n&&(o.current._silentChange=!0,o.current.$el.val(n),o.current.$el.trigger("change"),setImmediate(function(){o.current._silentChange=!1}));return wp.element.createElement("select",{ref:o,autoComplete:"off",multiple:a,style:vt({display:"none",width:"160px"},c)},t&&wp.element.createElement("option",{value:"",disabled:!0,selected:n==null},t),e.map((i,s)=>wp.element.createElement("option",{key:`option-${s}`,value:i.value,selected:i.value===n},i.label)))},"Select");var ft=Object.defineProperty,ht=b((t,e)=>ft(t,"name",{value:e,configurable:!0}),"a$3");const wt=ht(({getData:t,setData:e,includeOrder:n,includeOrderBy:l})=>{const a=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"order"},"Order"),wp.element.createElement(x,{labelForEmptyValue:"Choose Order",options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],value:t("order"),style:{width:"100%"},onChange:s=>e("order",s)}))),c=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby"},"Order by"),wp.element.createElement(x,{labelForEmptyValue:"Order by",options:[{label:"Title",value:"title"},{label:"ID",value:"id"},{label:"Author",value:"author"},{label:"Name",value:"name"},{label:"Type",value:"type"},{label:"Date",value:"date"},{label:"Modified",value:"modified"},{label:"Random",value:"random"},{label:"Comment count",value:"comment_count"},{label:"Relevance",value:"relevance"},{label:"Menu",value:"menu"},{label:"Custom value",value:"meta_value"},{label:"Custom value number",value:"meta_value_num"}],value:t("orderby"),style:{width:"100%"},onChange:s=>e("orderby",s)}))),o=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field"},"Order by custom field"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",name:"orderby-field",id:"orderby_field",onChange:s=>e("orderby_field",s.target.value),placeholder:"Enter field key",value:t("orderby_field")}))),i=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"orderby_field_number"},"Order by custom field with numeric value"),wp.element.createElement("input",{className:"tangible-components-text-control__input",type:"text",id:"orderby_field_number",name:"orderby-field-number",onChange:s=>e("orderby_field_number",s.target.value),placeholder:"Enter field key",value:t("orderby_field_number")})));return wp.element.createElement("div",{className:"tangible-logic-rule"},n&&a,l&&c,t("orderby")==="meta_value"&&o,t("orderby")==="meta_value_num"&&i)},"Order");var Et=Object.defineProperty,$t=b((t,e)=>Et(t,"name",{value:e,configurable:!0}),"p$2");const{useState:le,useEffect:ae}=wp.element,_t=$t(({initialLoopType:t,initialType:e,setData:n,fields:l})=>{const[a,c]=le(t||"post"),[o,i]=le(e);ae(()=>n("loopType",a),[a]),ae(()=>n("type",o),[o]);const s=wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label"},"Content type"),wp.element.createElement(x,{labelForEmptyValue:"Choose a Type",options:[{label:"Post",value:"post"}],value:a,onChange:r=>c(r),style:{width:"100%"}}))),p=a==="post"?wp.element.createElement("div",{className:"tangible-components-control"},wp.element.createElement("div",{className:"tangible-components-control__field"},wp.element.createElement("label",{className:"tangible-components-control__label",htmlFor:"post_type"},"Fields"),wp.element.createElement(x,{labelForEmptyValue:"Choose Fields",value:o?o.split(","):["null"],options:l,multiSelect:!0,style:{width:"100%"},onChange:r=>r=="null"?i(""):i(r.toString())}))):"";return wp.element.createElement("div",{className:"tangible-logic-rule"},s,p)},"Type");var oe=Object.defineProperty,Ot=Object.defineProperties,Nt=Object.getOwnPropertyDescriptors,re=Object.getOwnPropertySymbols,Ct=Object.prototype.hasOwnProperty,xt=Object.prototype.propertyIsEnumerable,ie=b((t,e,n)=>e in t?oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"h$1"),ce=b((t,e)=>{for(var n in e||(e={}))Ct.call(e,n)&&ie(t,n,e[n]);if(re)for(var n of re(e))xt.call(e,n)&&ie(t,n,e[n]);return t},"u$3"),se=b((t,e)=>Ot(t,Nt(e)),"b$1"),D=b((t,e)=>oe(t,"name",{value:e,configurable:!0}),"m$2");const{Tangible:jt,wp:y}=window,{useState:me,useEffect:St}=y.element,{allTaxonomies:ue={}}=jt.postQueryControlData,kt=D(({value:t,initialData:e,save:n,showBtn:l,remove:a})=>{const c=t===1,o=Object.keys(ue),[i,s]=me(e);St(()=>{n(i)},[i]);const p=D(v=>{const _=ue[v];if(_==null||_.length===0)return[];let S=[];return _.forEach(ke=>{S.push({label:ke.name,value:ke.slug})}),S},"getTerms"),r=D(v=>i.hasOwnProperty(v)?i[v]===""?null:i[v]:null,"getParam"),m=D(v=>{f(_=>[]),v.length>0&&f(_=>v)},"updateTerms"),u=D((v,_)=>s(S=>se(ce({},S),{[v]:_})),"updateParam"),[g,f]=me(i.hasOwnProperty("taxonomy")?p(i.taxonomy):[]),j=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Taxonomy ",!c&&t),y.element.createElement(x,{style:{width:"100%"},labelForEmptyValue:`Taxonomy ${c?"":t}`,options:o.map(v=>({label:v,value:v})),value:r("taxonomy"),onChange:v=>{u("terms",""),u("taxonomy",v);const _=p(v);m(_)}}))),O=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Compare ",!c&&t),y.element.createElement(x,{style:{width:"100%"},labelForEmptyValue:`Compare ${c?"":t}`,options:[{label:"In",value:"in"},{label:"Not",value:"not"},{label:"And",value:"and"},{label:"Exists",value:"exists"},{label:"Not exists",value:"not exists"}],value:i.taxonomy_compare,onChange:v=>u("taxonomy_compare",v)}))),d=r("terms"),N=y.element.createElement("div",{className:"tangible-components-control"},y.element.createElement("div",{className:"tangible-components-control__field"},y.element.createElement("label",{className:"tangible-components-control__label"},"Term ",!c&&t),y.element.createElement(x,{style:{width:"100%"},labelForEmptyValue:`Terms ${c?"":t}`,multiSelect:!0,options:g,value:d?d.split(","):["null"],onChange:v=>s(_=>{let S="";return v!="null"&&(S=v.toString()),se(ce({},_),{terms:S})})})));return y.element.createElement("div",{className:"tangible-logic-rule"},j,O,N,l&&y.element.createElement("button",{id:"logic-button-rule",className:"tangible-components-button is-secondary",type:"button",onClick:a},"Remove"))},"QueryGroup");var Pt=Object.defineProperty,L=b((t,e)=>Pt(t,"name",{value:e,configurable:!0}),"s$3");const{wp:h}=window,{useState:pe,useEffect:be}=h.element,de=3,ve=L(({initialData:t,save:e})=>{const[n,l]=pe([]),[a,c]=pe("");be(()=>{if(!t)return;const r=JSON.parse(t),m=[];if(r.taxonomy_relation&&c(r.taxonomy_relation),!r.taxonomy)return;let u="",g=1;for(;r[`taxonomy${u}`]&&g<=de&&(u=g!==1?`_${g}`:"",!!r[`taxonomy${u}`]);)m.push({taxonomy:r[`taxonomy${u}`],terms:r[`terms${u}`],taxonomy_compare:r[`taxonomy_compare${u}`]}),g++;l(m)},[]),be(()=>{const r={};a&&(r.taxonomy_relation=a);for(let m=0;m<n.length;m++){const u=m!==0?`_${m+1}`:"";r[`taxonomy${u}`]=n[m].taxonomy,r[`terms${u}`]=n[m].terms,r[`taxonomy_compare${u}`]=n[m].taxonomy_compare}e(r)},[n,a]);const o=h.element.createElement("div",{className:"tangible-logic-rule tangible-logic-clear"},h.element.createElement("div",{className:"tangible-components-control"},h.element.createElement("div",{className:"tangible-components-control__field"},h.element.createElement("label",{className:"tangible-components-control__label"},"Relation"),h.element.createElement(x,{style:{width:"100%"},labelForEmptyValue:"Choose Relation",options:[{label:"And",value:"and"},{label:"Or",value:"or"}],value:a,onChange:r=>c(r)})))),i=L(()=>{l([...n,{taxonomy:"",terms:"",taxonomy_compare:""}])},"addRow"),s=L((r,m)=>{n[r]=m,l([...n])},"saveRow"),p=L(r=>{l([...n.slice(0,r),...n.slice(r+1)])},"removeRow");return h.element.createElement("div",{className:"tangible-logic-rule-group-box-bordered"},n.length>1&&h.element.createElement("div",{className:"tangible-logic-taxonomy-group"},o),h.element.createElement("div",{className:"tangible-logic-taxonomy-group"},n.length>0&&n.map((r,m)=>h.element.createElement(kt,{key:m+JSON.stringify(r),value:m+1,initialData:r,showBtn:!0,save:u=>s(m,u),remove:()=>p(m)}))),n.length<de&&h.element.createElement("div",{className:"tangible-logic-group-actions"},h.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:i},"Add taxonomy filter"),h.element.createElement("button",{className:"tangible-components-button is-secondary",type:"button",onClick:()=>l([])},"Remove")))},"Taxonomy");var ge=Object.defineProperty,Vt=Object.defineProperties,Tt=Object.getOwnPropertyDescriptors,ye=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,Dt=Object.prototype.propertyIsEnumerable,fe=b((t,e,n)=>e in t?ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"g"),he=b((t,e)=>{for(var n in e||(e={}))At.call(e,n)&&fe(t,n,e[n]);if(ye)for(var n of ye(e))Dt.call(e,n)&&fe(t,n,e[n]);return t},"y$1"),we=b((t,e)=>Vt(t,Tt(e)),"m$1"),I=b((t,e)=>ge(t,"name",{value:e,configurable:!0}),"u$2");const{Tangible:Ft,wp:E}=window,{useState:Lt,useEffect:Ee}=E.element,{allPostTypes:$e={}}=Ft.postQueryControlData||{},It=I(({initialData:t,save:e,fields:n=[]})=>{const l=n.replace(/\s+/g,"").split(","),a=I(r=>{try{return JSON.parse(r)}catch(m){return{}}},"parseData"),[c,o]=Lt(a(t));Ee(()=>o(a(t)),[t]),Ee(()=>{e(c)},[c]);const i=I(r=>c[r]&&c[r]!==""?c[r]:null,"getData"),s=I((r,m)=>o(u=>r!=="orderby"?we(he({},u),{[r]:m}):(m!=="meta_value"&&u.orderby_field&&delete u.orderby_field,m!=="meta_value_num"&&u.orderby_field_number&&delete u.orderby_field_number,we(he({},u),{[r]:m}))),"updateArgs"),p=E.element.createElement(ve,{initialData:c.hasOwnProperty("taxonomies")?JSON.stringify(c.taxonomies):"{}",save:r=>s("taxonomies",r)});return E.element.createElement(E.element.Fragment,null,(l.includes("order")||l.includes("orderby"))&&E.element.createElement("div",{className:"tangible-logic-rule-group-box"},E.element.createElement("h4",{style:{fontWeight:"600"}},"Order"),E.element.createElement(wt,{getData:i,setData:s,includeOrder:l.includes("order"),includeOrderBy:l.includes("orderby")})),l.includes("type")&&E.element.createElement("div",{className:"tangible-logic-rule-group-box"},E.element.createElement("h4",{style:{fontWeight:"600"}},"Type"),E.element.createElement(_t,{initialLoopType:i("loopType")!==null?i("loopType"):"post",initialType:i("type"),setData:s,fields:Object.keys($e).map(r=>({label:$e[r],value:r}))})),l.includes("taxonomy")&&E.element.createElement("div",{className:"tangible-logic-rule-group-box"},E.element.createElement("h4",{style:{fontWeight:"600"}},"Filter by Taxonomy"),p))},"PostQuery");var Bt=Object.defineProperty,q=b((t,e)=>Bt(t,"name",{value:e,configurable:!0}),"i$1");const{wp:$}=window,{element:{useEffect:B,useState:R}}=$,{ajax:Rt}=window.Tangible,Jt=q(({handler:t,initialValue:e,fields:n=[]})=>{const[l,a]=R(e?JSON.parse(e):[]),[c,o]=R(""),[i,s]=R([]),[p,r]=R(!1),m="tangible-block-editor-control-ajax-select",u=n.multiple&&n.multiple==="true";B(()=>{u&&!Array.isArray(l)&&a([l])}),B(()=>{const d={search:c,field:n};Rt(n.ajax_action_name,d).then(N=>s(N)).catch(N=>console.error(N))},[c]),B(()=>t(JSON.stringify(l)),[l]),B(()=>{p===!1&&o("")},[p]);const g=q(d=>{a(u?[...l,d]:[d])},"saveValue"),f=q(d=>{const N=l.filter(v=>v.value!==d.value);a([...N])},"removeValue"),j=Array.isArray(l)?l.map(d=>d.value):[],O=$.element.createElement("span",{className:"dashicons dashicons-no-alt"});return $.element.createElement("div",{className:p?`${m} is-open`:m},u&&Array.isArray(l)?$.element.createElement("ul",{className:m+"-choice"},l.map(d=>$.element.createElement("li",{id:d.name},$.element.createElement("button",{onClick:()=>f(d)},O)," ",$.element.createElement("span",null,d.label)," "))):"",$.element.createElement("input",{type:"text",className:m+"-input",onFocus:()=>r(!0),onBlur:()=>r(!1),onChange:d=>{o(d.target.value)},placeholder:n.placeholder?n.placeholder:"Select",value:!p&&!u&&l[0]?l[0].label:c}),p&&$.element.createElement("ul",{class:m+"-ul"},i?i.map(d=>u&&j.includes(d.value)?"":$.element.createElement("li",{id:d.name,onMouseDown:()=>g(d)},d.label!==""?d.label:$.element.createElement("i",null,"Untitled"))):""))},"AjaxSelect");var _e=Object.defineProperty,Oe=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,Ne=b((t,e,n)=>e in t?_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,"a$1"),Ce=b((t,e)=>{for(var n in e||(e={}))Qt.call(e,n)&&Ne(t,n,e[n]);if(Oe)for(var n of Oe(e))Mt.call(e,n)&&Ne(t,n,e[n]);return t},"s$1"),Wt=b((t,e)=>_e(t,"name",{value:e,configurable:!0}),"l$1");const qt=Wt((t,e,n,l)=>{switch(t.type){case"post_query":return wp.element.createElement(It,{save:o=>e(JSON.stringify(o)),initialData:n,fields:l.include_fields?l.include_fields:"type, order, orderby"});case"taxonomy":return wp.element.createElement(ve,Ce({save:o=>e(JSON.stringify(o)),initialData:n},l));case"select2":const a=l.multiple&&l.multiple==="true",c=typeof n=="string"&&a?n!==""?n.split(","):[]:n!==""?n:null;return wp.element.createElement(x,{labelForEmptyValue:"Choose...",options:l.options?Object.keys(l.options).map(o=>({value:o,label:l.options[o]})):[],onChange:o=>e(o!==null?Array.isArray(o)?o.join(","):o:""),multiSelect:a,value:c,style:{width:"100%"}});case"ajax_select":return wp.element.createElement(Jt,{handler:e,initialValue:n,fields:l});default:return wp.element.createElement(pt,Ce({handler:e,initialValue:n},l))}},"getLegacyControl");var Gt=Object.defineProperty,J=b((t,e)=>Gt(t,"name",{value:e,configurable:!0}),"l");const{useState:G,useEffect:xe}=wp.element,zt=J(t=>{const{config:e,field:n,builder:l,initialValue:a}=t,c=e.popup,[o,i]=G(l==="beaver-builder"),[s=a,p]=G(),[r=a,m]=G(),u=J(N=>(c||m(N),p(N)),"save");xe(()=>t.save(r),[r]),xe(()=>{c&&o&&p(r)},[o]);const g={display:"flex",marginBottom:"10px"},f=wp.element.createElement(wp.element.Fragment,null,l==="elementor"&&!c?wp.element.createElement("label",{className:"elementor-control-title",style:g},n.label):"",wp.element.createElement("div",{className:`tangible-block-control tangible-block-control-${e.type}`},qt(e,u,r,n)));if(!c)return f;const j=J(()=>i(!1),"cancel"),O=J(()=>{i(!1),m(s)},"submit"),d=l!=="beaver-builder"?wp.element.createElement("div",{className:`tangible-control-modal-button-container tangible-control-modal-button-container-${l}`},l==="elementor"?wp.element.createElement("label",{className:"elementor-control-title",style:g},n.label):"",wp.element.createElement("button",{onClick:()=>i(!o),className:"components-button is-secondary tangible-control-btn"},"Open Settings")):"";return o?wp.element.createElement(wp.element.Fragment,null,d,wp.element.createElement(H,{submit:O,cancel:j,title:n.label},f)):d},"LegacyControl");var Ut=Object.defineProperty,Ht=b((t,e)=>Ut(t,"name",{value:e,configurable:!0}),"o");const Kt=Ht(t=>{const e=elementor.modules.controls.BaseData.extend({onReady:function(){const n=this.ui.contentEditable.prevObject[0].getElementsByClassName(t.prefixed_type)[0],l=JSON.parse(n.getAttribute("data-field")),a=this.saveValue.bind(this);wp.element.render(wp.element.createElement(zt,{config:t,field:l,initialValue:this.ui.input.val(),builder:"elementor",save:a}),n)},saveValue:function(n){this.ui.input.val(n),this.setValue(this.ui.input.val())},onBeforeDestroy:function(){this.saveValue(this.ui.input.val());const n=this.ui.contentEditable.prevObject[0];wp.element.unmountComponentAtNode(n)}});elementor.addControlView(t.prefixed_type,e)},"initLegacyControl");var Xt=Object.defineProperty,Yt=b((t,e)=>Xt(t,"name",{value:e,configurable:!0}),"i");const Zt=jQuery,{blockConfig:{controls:je,legacy_controls:Se}}=Tangible;Zt(window).on("elementor:init",()=>{for(const t in je)en(je[t]);for(const t in Se)Kt(Se[t])});const en=Yt(t=>{const e=elementor.modules.controls.BaseData.extend({onReady:function(){const n=this.ui.contentEditable.prevObject[0].getElementsByClassName(t.prefixed_type)[0],l=JSON.parse(n.getAttribute("data-field")),a=this.saveValue.bind(this);wp.element.render(wp.element.createElement(it,{config:t,field:l,initialValue:this.ui.input.val(),builder:"elementor",save:a}),n)},saveValue:function(n){this.ui.input.val(n),this.setValue(this.ui.input.val())},onBeforeDestroy:function(){this.saveValue(this.ui.input.val());const n=this.ui.contentEditable.prevObject[0];wp.element.unmountComponentAtNode(n)}});elementor.addControlView(t.prefixed_type,e)},"initControl")})();
//# sourceMappingURL=elementor-integration.min.js.map
